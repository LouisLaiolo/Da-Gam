// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';var ia,na,pa,ra,va,xa,ya,za,Ca,Da,Ea,Fa,Ga,Ha,Ia,Ja,La,Ma,Na,Oa,Ra,Ta,Ua,y,Va,Wa,Xa,$a,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,lb,mb,nb,vb,wb,xb,yb,zb,Ab,Bb,Cb,Db,Eb,Fb,Gb,Hb,Ib,Kb,Vb,Wb,Xb,Yb,Zb,$b,ac,bc,cc,dc,ec,fc,gc,hc,nc,oc,pc,qc,rc,sc,tc,uc,vc,wc,xc,yc,zc,Ac,Bc,Cc,Dc,Ec,Fc,Gc,Hc,Ic,Jc,Kc,Lc,Mc,Nc,Oc,Pc,Qc,Rc,Sc={};"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(c){return c.__proto__}:function(c){return c.constructor.prototype});
(function(){function c(a,d,b,f){this.set(a,d,b,f)}function m(){this.wc=this.vc=this.zc=this.yc=this.Mc=this.Lc=this.Wb=this.Vb=0}function h(a,d,b,f){a<d?b<f?(t=a<b?a:b,N=d>f?d:f):(t=a<f?a:f,N=d>b?d:b):b<f?(t=d<b?d:b,N=a>f?a:f):(t=d<f?d:f,N=a>b?a:b)}function p(){this.items=this.We=null;this.hk=0;I&&(this.We=new Set);this.rj=[];this.Xf=!0}function q(a){A[E++]=a}function r(){this.ma=this.eb=this.y=this.zj=0}function l(a){this.Cb=[];this.Hl=this.Jl=this.Kl=this.Il=0;this.bl(a)}function a(a,d){this.Vo=
a;this.Uo=d;this.cells={}}function e(a,d){this.Vo=a;this.Uo=d;this.cells={}}function b(a,d,b){var f;return X.length?(f=X.pop(),f.Kp=a,f.x=d,f.y=b,f):new na(a,d,b)}function d(a,d,b){this.Kp=a;this.x=d;this.y=b;this.cc=new pa}function f(a,d,b){var f;return w.length?(f=w.pop(),f.Kp=a,f.x=d,f.y=b,f):new ra(a,d,b)}function k(a,d,b){this.Kp=a;this.x=d;this.y=b;this.cc=[];this.yi=!0;this.Te=new pa;this.wj=!1}function g(a,d){return a.Ae-d.Ae}va=function(a){window.console&&window.console.log&&window.console.log(a)};
xa=function(a){window.console&&window.console.error&&window.console.error(a)};ia=function(a){return a};ya=function(a){return"undefined"===typeof a};za=function(a){return"number"===typeof a};Ca=function(a){return"string"===typeof a};Da=function(a){return 0<a&&0===(a-1&a)};Ea=function(a){--a;for(var d=1;32>d;d<<=1)a=a|a>>d;return a+1};Fa=function(a){return 0>a?-a:a};Ga=function(a,d){return a>d?a:d};Ha=function(a,d){return a<d?a:d};Ia=Math.PI;Ja=function(a){return 0<=a?a|0:(a|0)-1};La=function(a){var d=
a|0;return d===a?d:d+1};Ma=function(a,d,b,f,e,g,k,c){var B,x,v,n;a<b?(x=a,B=b):(x=b,B=a);e<k?(n=e,v=k):(n=k,v=e);if(B<n||x>v)return!1;d<f?(x=d,B=f):(x=f,B=d);g<c?(n=g,v=c):(n=c,v=g);if(B<n||x>v)return!1;B=e-a+k-b;x=g-d+c-f;a=b-a;d=f-d;e=k-e;g=c-g;c=Fa(d*e-g*a);return Fa(e*x-g*B)>c?!1:Fa(a*x-d*B)<=c};c.prototype.set=function(a,d,b,f){this.left=a;this.top=d;this.right=b;this.bottom=f};c.prototype.ai=function(a){this.left=a.left;this.top=a.top;this.right=a.right;this.bottom=a.bottom};c.prototype.width=
function(){return this.right-this.left};c.prototype.height=function(){return this.bottom-this.top};c.prototype.offset=function(a,d){this.left+=a;this.top+=d;this.right+=a;this.bottom+=d;return this};c.prototype.normalize=function(){var a=0;this.left>this.right&&(a=this.left,this.left=this.right,this.right=a);this.top>this.bottom&&(a=this.top,this.top=this.bottom,this.bottom=a)};c.prototype.BB=function(a){return!(a.right<this.left||a.bottom<this.top||a.left>this.right||a.top>this.bottom)};c.prototype.CB=
function(a,d,b){return!(a.right+d<this.left||a.bottom+b<this.top||a.left+d>this.right||a.top+b>this.bottom)};c.prototype.ic=function(a,d){return a>=this.left&&a<=this.right&&d>=this.top&&d<=this.bottom};c.prototype.Ij=function(a){return this.left===a.left&&this.top===a.top&&this.right===a.right&&this.bottom===a.bottom};Na=c;m.prototype.ej=function(a){this.Vb=a.left;this.Wb=a.top;this.Lc=a.right;this.Mc=a.top;this.yc=a.right;this.zc=a.bottom;this.vc=a.left;this.wc=a.bottom};m.prototype.Fv=function(a,
d){if(0===d)this.ej(a);else{var b=Math.sin(d),f=Math.cos(d),e=a.left*b,g=a.top*b,k=a.right*b,b=a.bottom*b,c=a.left*f,B=a.top*f,x=a.right*f,f=a.bottom*f;this.Vb=c-g;this.Wb=B+e;this.Lc=x-g;this.Mc=B+k;this.yc=x-b;this.zc=f+k;this.vc=c-b;this.wc=f+e}};m.prototype.offset=function(a,d){this.Vb+=a;this.Wb+=d;this.Lc+=a;this.Mc+=d;this.yc+=a;this.zc+=d;this.vc+=a;this.wc+=d;return this};var t=0,N=0;m.prototype.xs=function(a){h(this.Vb,this.Lc,this.yc,this.vc);a.left=t;a.right=N;h(this.Wb,this.Mc,this.zc,
this.wc);a.top=t;a.bottom=N};m.prototype.ic=function(a,d){var b=this.Vb,f=this.Wb,e=this.Lc-b,g=this.Mc-f,k=this.yc-b,c=this.zc-f,B=a-b,x=d-f,v=e*e+g*g,n=e*k+g*c,g=e*B+g*x,l=k*k+c*c,t=k*B+c*x,u=1/(v*l-n*n),e=(l*g-n*t)*u,v=(v*t-n*g)*u;if(0<=e&&0<v&&1>e+v)return!0;e=this.vc-b;g=this.wc-f;v=e*e+g*g;n=e*k+g*c;g=e*B+g*x;u=1/(v*l-n*n);e=(l*g-n*t)*u;v=(v*t-n*g)*u;return 0<=e&&0<v&&1>e+v};m.prototype.Vf=function(a,d){if(d)switch(a){case 0:return this.Vb;case 1:return this.Lc;case 2:return this.yc;case 3:return this.vc;
case 4:return this.Vb;default:return this.Vb}else switch(a){case 0:return this.Wb;case 1:return this.Mc;case 2:return this.zc;case 3:return this.wc;case 4:return this.Wb;default:return this.Wb}};m.prototype.su=function(){return(this.Vb+this.Lc+this.yc+this.vc)/4};m.prototype.tu=function(){return(this.Wb+this.Mc+this.zc+this.wc)/4};m.prototype.Dt=function(a){var d=a.su(),b=a.tu();if(this.ic(d,b))return!0;d=this.su();b=this.tu();if(a.ic(d,b))return!0;var f,e,g,k,c,B,x,v;for(x=0;4>x;x++)for(v=0;4>v;v++)if(d=
this.Vf(x,!0),b=this.Vf(x,!1),f=this.Vf(x+1,!0),e=this.Vf(x+1,!1),g=a.Vf(v,!0),k=a.Vf(v,!1),c=a.Vf(v+1,!0),B=a.Vf(v+1,!1),Ma(d,b,f,e,g,k,c,B))return!0;return!1};Oa=m;Ra=function(a,d){for(var b in d)d.hasOwnProperty(b)&&(a[b]=d[b]);return a};Ta=function(a,d){var b,f;d=Ja(d);if(!(0>d||d>=a.length)){b=d;for(f=a.length-1;b<f;b++)a[b]=a[b+1];Ua(a,f)}};Ua=function(a,d){a.length=d};y=function(a){Ua(a,0)};Va=function(a,d){y(a);var b,f;b=0;for(f=d.length;b<f;++b)a[b]=d[b]};Wa=function(a,d){a.push.apply(a,
d)};Xa=function(a,d){var b,f;b=0;for(f=a.length;b<f;++b)if(a[b]===d)return b;return-1};$a=function(a,d){var b=Xa(a,d);-1!==b&&Ta(a,b)};ab=function(a,d,b){return a<d?d:a>b?b:a};bb=function(a){return a/(180/Ia)};cb=function(a){return 180/Ia*a};db=function(a){a%=360;0>a&&(a+=360);return a};eb=function(a){a%=2*Ia;0>a&&(a+=2*Ia);return a};fb=function(a){return db(cb(a))};gb=function(a){return eb(bb(a))};hb=function(a,d,b,f){return Math.atan2(f-d,b-a)};ib=function(a,d){if(a===d)return 0;var b=Math.sin(a),
f=Math.cos(a),e=Math.sin(d),g=Math.cos(d),b=b*e+f*g;return 1<=b?0:-1>=b?Ia:Math.acos(b)};jb=function(a,d,b){var f=Math.sin(a),e=Math.cos(a),g=Math.sin(d),k=Math.cos(d);return Math.acos(f*g+e*k)>b?0<e*g-f*k?eb(a+b):eb(a-b):eb(d)};lb=function(a,d){var b=Math.sin(a),f=Math.cos(a),e=Math.sin(d),g=Math.cos(d);return 0>=f*e-b*g};mb=function(a,d,b,f,e,g){if(0===b)return g?a:d;var k=Math.sin(b);b=Math.cos(b);a-=f;d-=e;var c=a*k;a=a*b-d*k;d=d*b+c;return g?a+f:d+e};nb=function(a,d,b,f){a=b-a;d=f-d;return Math.sqrt(a*
a+d*d)};vb=function(a,d){return!a!==!d};wb=function(a,d,b){return a+(d-a)*b};xb=function(a){for(var d in a)if(a.hasOwnProperty(d))return!0;return!1};yb=function(a){for(var d in a)a.hasOwnProperty(d)&&delete a[d]};var O=+new Date;zb=function(){if("undefined"!==typeof window.performance){var a=window.performance;if("undefined"!==typeof a.now)return a.now();if("undefined"!==typeof a.webkitNow)return a.webkitNow();if("undefined"!==typeof a.mozNow)return a.mozNow();if("undefined"!==typeof a.msNow)return a.msNow()}return Date.now()-
O};var n=!1,u=n=!1,S=!1;"undefined"!==typeof window&&(n=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent),n=!n&&/safari/i.test(navigator.userAgent),u=/(iphone|ipod|ipad)/i.test(navigator.userAgent),S=window.c2ejecta);var I=!n&&!S&&!u&&"undefined"!==typeof Set&&"undefined"!==typeof Set.prototype.forEach;p.prototype.contains=function(a){return this.sf()?!1:I?this.We.has(a):this.items&&this.items.hasOwnProperty(a)};p.prototype.add=function(a){if(I)this.We.has(a)||(this.We.add(a),
this.Xf=!1);else{var d=a.toString(),b=this.items;b?b.hasOwnProperty(d)||(b[d]=a,this.hk++,this.Xf=!1):(this.items={},this.items[d]=a,this.hk=1,this.Xf=!1)}};p.prototype.remove=function(a){if(!this.sf())if(I)this.We.has(a)&&(this.We["delete"](a),this.Xf=!1);else if(this.items){a=a.toString();var d=this.items;d.hasOwnProperty(a)&&(delete d[a],this.hk--,this.Xf=!1)}};p.prototype.clear=function(){this.sf()||(I?this.We.clear():(this.items=null,this.hk=0),y(this.rj),this.Xf=!0)};p.prototype.sf=function(){return 0===
this.count()};p.prototype.count=function(){return I?this.We.size:this.hk};var A=null,E=0;p.prototype.VD=function(){if(!this.Xf){if(I)y(this.rj),A=this.rj,E=0,this.We.forEach(q),A=null,E=0;else{var a=this.rj;y(a);var d,b=0,f=this.items;if(f)for(d in f)f.hasOwnProperty(d)&&(a[b++]=f[d])}this.Xf=!0}};p.prototype.fe=function(){this.VD();return this.rj};pa=p;new pa;Ab=function(a,d){I?Bb(a,d.We):Cb(a,d.fe())};Bb=function(a,d){var b,f,e,g;f=b=0;for(e=a.length;b<e;++b)g=a[b],d.has(g)||(a[f++]=g);Ua(a,f)};
Cb=function(a,d){var b,f,e,g;f=b=0;for(e=a.length;b<e;++b)g=a[b],-1===Xa(d,g)&&(a[f++]=g);Ua(a,f)};r.prototype.add=function(a){this.y=a-this.zj;this.eb=this.ma+this.y;this.zj=this.eb-this.ma-this.y;this.ma=this.eb};r.prototype.reset=function(){this.ma=this.eb=this.y=this.zj=0};Db=r;Eb=function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};l.prototype.bl=function(a){this.iv=a;this.$d=a.length/2;this.Cb.length=a.length;this.Nl=this.Ol=-1;this.As=0};l.prototype.nh=function(){return!this.iv.length};
l.prototype.wa=function(){for(var a=this.Cb,d=a[0],b=d,f=a[1],e=f,g,k,c=1,B=this.$d;c<B;++c)k=2*c,g=a[k],k=a[k+1],g<d&&(d=g),g>b&&(b=g),k<f&&(f=k),k>e&&(e=k);this.Il=d;this.Jl=b;this.Kl=f;this.Hl=e};l.prototype.ej=function(a,d,b){this.Cb.length=8;this.$d=4;var f=this.Cb;f[0]=a.left-d;f[1]=a.top-b;f[2]=a.right-d;f[3]=a.top-b;f[4]=a.right-d;f[5]=a.bottom-b;f[6]=a.left-d;f[7]=a.bottom-b;this.Ol=a.right-a.left;this.Nl=a.bottom-a.top;this.wa()};l.prototype.dj=function(a,d,b,f,e){this.Cb.length=8;this.$d=
4;var g=this.Cb;g[0]=a.Vb-d;g[1]=a.Wb-b;g[2]=a.Lc-d;g[3]=a.Mc-b;g[4]=a.yc-d;g[5]=a.zc-b;g[6]=a.vc-d;g[7]=a.wc-b;this.Ol=f;this.Nl=e;this.wa()};l.prototype.Ev=function(a){this.$d=a.$d;Va(this.Cb,a.Cb);this.Il=a.Il;this.Kl-a.Kl;this.Jl=a.Jl;this.Hl=a.Hl};l.prototype.Sg=function(a,d,b){if(this.Ol!==a||this.Nl!==d||this.As!==b){this.Ol=a;this.Nl=d;this.As=b;var f,e,g,k,c,B=0,x=1,v=this.iv,n=this.Cb;0!==b&&(B=Math.sin(b),x=Math.cos(b));b=0;for(g=this.$d;b<g;b++)f=2*b,e=f+1,k=v[f]*a,c=v[e]*d,n[f]=k*x-c*
B,n[e]=c*x+k*B;this.wa()}};l.prototype.ic=function(a,d){var b=this.Cb;if(a===b[0]&&d===b[1])return!0;var f,e,g,k=this.$d,c=this.Il-110,B=this.Kl-101,x=this.Jl+131,v=this.Hl+120,n,l,u=0,t=0;for(f=0;f<k;f++)e=2*f,g=(f+1)%k*2,n=b[e],e=b[e+1],l=b[g],g=b[g+1],Ma(c,B,a,d,n,e,l,g)&&u++,Ma(x,v,a,d,n,e,l,g)&&t++;return 1===u%2||1===t%2};l.prototype.Wj=function(a,d,b){var f=a.Cb,e=this.Cb;if(this.ic(f[0]+d,f[1]+b)||a.ic(e[0]-d,e[1]-b))return!0;var g,k,c,B,x,n,l,u,t,h,m,N;g=0;for(B=this.$d;g<B;g++)for(k=2*g,
c=(g+1)%B*2,u=e[k],k=e[k+1],t=e[c],h=e[c+1],c=0,l=a.$d;c<l;c++)if(x=2*c,n=(c+1)%l*2,m=f[x]+d,x=f[x+1]+b,N=f[n]+d,n=f[n+1]+b,Ma(u,k,t,h,m,x,N,n))return!0;return!1};Fb=l;a.prototype.gg=function(a,d,f){var e;e=this.cells[a];return e?(e=e[d])?e:f?(e=b(this,a,d),this.cells[a][d]=e):null:f?(e=b(this,a,d),this.cells[a]={},this.cells[a][d]=e):null};a.prototype.Rc=function(a){return Ja(a/this.Vo)};a.prototype.Sc=function(a){return Ja(a/this.Uo)};a.prototype.update=function(a,d,b){var f,e,g,k,c;if(d)for(f=
d.left,e=d.right;f<=e;++f)for(g=d.top,k=d.bottom;g<=k;++g)if(!b||!b.ic(f,g))if(c=this.gg(f,g,!1))c.remove(a),c.sf()&&(c.cc.clear(),1E3>X.length&&X.push(c),this.cells[f][g]=null);if(b)for(f=b.left,e=b.right;f<=e;++f)for(g=b.top,k=b.bottom;g<=k;++g)d&&d.ic(f,g)||this.gg(f,g,!0).jg(a)};a.prototype.Fn=function(a,d){var b,f,e,g,k,c;b=this.Rc(a.left);e=this.Sc(a.top);f=this.Rc(a.right);for(k=this.Sc(a.bottom);b<=f;++b)for(g=e;g<=k;++g)(c=this.gg(b,g,!1))&&c.dump(d)};Gb=a;e.prototype.gg=function(a,d,b){var e;
e=this.cells[a];return e?(e=e[d])?e:b?(e=f(this,a,d),this.cells[a][d]=e):null:b?(e=f(this,a,d),this.cells[a]={},this.cells[a][d]=e):null};e.prototype.Rc=function(a){return Ja(a/this.Vo)};e.prototype.Sc=function(a){return Ja(a/this.Uo)};e.prototype.update=function(a,d,b){var f,e,g,k,c;if(d)for(f=d.left,e=d.right;f<=e;++f)for(g=d.top,k=d.bottom;g<=k;++g)if(!b||!b.ic(f,g))if(c=this.gg(f,g,!1))c.remove(a),c.sf()&&(c.reset(),1E3>w.length&&w.push(c),this.cells[f][g]=null);if(b)for(f=b.left,e=b.right;f<=
e;++f)for(g=b.top,k=b.bottom;g<=k;++g)d&&d.ic(f,g)||this.gg(f,g,!0).jg(a)};e.prototype.Fn=function(a,d,b,f,e){var g,k;a=this.Rc(a);d=this.Sc(d);b=this.Rc(b);for(g=this.Sc(f);a<=b;++a)for(f=d;f<=g;++f)(k=this.gg(a,f,!1))&&k.dump(e)};e.prototype.aC=function(a){var d,b,f,e,g;d=a.left;f=a.top;b=a.right;for(e=a.bottom;d<=b;++d)for(a=f;a<=e;++a)if(g=this.gg(d,a,!1))g.yi=!1};Hb=e;var X=[];d.prototype.sf=function(){return this.cc.sf()};d.prototype.jg=function(a){this.cc.add(a)};d.prototype.remove=function(a){this.cc.remove(a)};
d.prototype.dump=function(a){Wa(a,this.cc.fe())};na=d;var w=[];k.prototype.sf=function(){if(!this.cc.length)return!0;if(this.cc.length>this.Te.count())return!1;this.up();return!0};k.prototype.jg=function(a){this.Te.contains(a)?(this.Te.remove(a),this.Te.sf()&&(this.wj=!1)):this.cc.length?(this.cc[this.cc.length-1].Rd()>a.Rd()&&(this.yi=!1),this.cc.push(a)):(this.cc.push(a),this.yi=!0)};k.prototype.remove=function(a){this.Te.add(a);this.wj=!0;30<=this.Te.count()&&this.up()};k.prototype.up=function(){this.wj&&
(this.Te.count()===this.cc.length?this.reset():(Ab(this.cc,this.Te),this.Te.clear(),this.wj=!1))};k.prototype.aA=function(){this.yi||(this.cc.sort(g),this.yi=!0)};k.prototype.reset=function(){y(this.cc);this.yi=!0;this.Te.clear();this.wj=!1};k.prototype.dump=function(a){this.up();this.aA();this.cc.length&&a.push(this.cc)};ra=k;var C="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");Ib=function(a){return 0>=a||11<=a?"source-over":
C[a-1]};Kb=function(a,d,b){if(b)switch(a.Jc=b.ONE,a.Cc=b.ONE_MINUS_SRC_ALPHA,d){case 1:a.Jc=b.ONE;a.Cc=b.ONE;break;case 3:a.Jc=b.ONE;a.Cc=b.ZERO;break;case 4:a.Jc=b.ONE_MINUS_DST_ALPHA;a.Cc=b.ONE;break;case 5:a.Jc=b.DST_ALPHA;a.Cc=b.ZERO;break;case 6:a.Jc=b.ZERO;a.Cc=b.SRC_ALPHA;break;case 7:a.Jc=b.ONE_MINUS_DST_ALPHA;a.Cc=b.ZERO;break;case 8:a.Jc=b.ZERO;a.Cc=b.ONE_MINUS_SRC_ALPHA;break;case 9:a.Jc=b.DST_ALPHA;a.Cc=b.ONE_MINUS_SRC_ALPHA;break;case 10:a.Jc=b.ONE_MINUS_DST_ALPHA,a.Cc=b.SRC_ALPHA}};
Vb=function(a){return Math.round(1E6*a)/1E6};Wb=function(a,d){return"string"!==typeof a||"string"!==typeof d||a.length!==d.length?!1:a===d?!0:a.toLowerCase()===d.toLowerCase()};Xb=function(a){a=a.target;return!a||a===document||a===window||document&&document.body&&a===document.body||Wb(a.tagName,"canvas")?!0:!1}})();var Tc="undefined"!==typeof Float32Array?Float32Array:Array;function Uc(c){var m=new Tc(3);c&&(m[0]=c[0],m[1]=c[1],m[2]=c[2]);return m}
function Vc(c){var m=new Tc(16);c&&(m[0]=c[0],m[1]=c[1],m[2]=c[2],m[3]=c[3],m[4]=c[4],m[5]=c[5],m[6]=c[6],m[7]=c[7],m[8]=c[8],m[9]=c[9],m[10]=c[10],m[11]=c[11],m[12]=c[12],m[13]=c[13],m[14]=c[14],m[15]=c[15]);return m}function Wc(c,m){m[0]=c[0];m[1]=c[1];m[2]=c[2];m[3]=c[3];m[4]=c[4];m[5]=c[5];m[6]=c[6];m[7]=c[7];m[8]=c[8];m[9]=c[9];m[10]=c[10];m[11]=c[11];m[12]=c[12];m[13]=c[13];m[14]=c[14];m[15]=c[15]}
function Xc(c,m){var h=m[0],p=m[1];m=m[2];c[0]*=h;c[1]*=h;c[2]*=h;c[3]*=h;c[4]*=p;c[5]*=p;c[6]*=p;c[7]*=p;c[8]*=m;c[9]*=m;c[10]*=m;c[11]*=m}
function Yc(c,m,h,p){p||(p=Vc());var q,r,l,a,e,b,d,f,k=c[0],g=c[1];c=c[2];r=h[0];l=h[1];q=h[2];h=m[1];b=m[2];k===m[0]&&g===h&&c===b?(c=p,c[0]=1,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=1,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=1,c[11]=0,c[12]=0,c[13]=0,c[14]=0,c[15]=1):(h=k-m[0],b=g-m[1],d=c-m[2],f=1/Math.sqrt(h*h+b*b+d*d),h*=f,b*=f,d*=f,m=l*d-q*b,q=q*h-r*d,r=r*b-l*h,(f=Math.sqrt(m*m+q*q+r*r))?(f=1/f,m*=f,q*=f,r*=f):r=q=m=0,l=b*r-d*q,a=d*m-h*r,e=h*q-b*m,(f=Math.sqrt(l*l+a*a+e*e))?(f=1/f,l*=f,a*=f,e*=f):e=a=l=0,
p[0]=m,p[1]=l,p[2]=h,p[3]=0,p[4]=q,p[5]=a,p[6]=b,p[7]=0,p[8]=r,p[9]=e,p[10]=d,p[11]=0,p[12]=-(m*k+q*g+r*c),p[13]=-(l*k+a*g+e*c),p[14]=-(h*k+b*g+d*c),p[15]=1)}
(function(){function c(a,e,b){this.tf=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent);this.height=this.width=0;this.Ya=!!b;this.Cm=this.Yj=!1;this.jp=0;this.zo=1;this.Tr=1E3;this.dE=(this.Tr-this.zo)/32768;this.So=Uc([0,0,100]);this.bu=Uc([0,0,0]);this.hw=Uc([0,1,0]);this.ul=Uc([1,1,1]);this.Rs=!0;this.$m=Vc();this.Dd=Vc();this.kq=Vc();this.ip=Vc();this.J=a;this.version=0===this.J.getParameter(this.J.VERSION).indexOf("WebGL 2")?2:1;this.yt()}function m(a,e,b){this.J=a;this.cl=
e;this.name=b;this.Wd=a.getAttribLocation(e,"aPos");this.ug=a.getAttribLocation(e,"aTex");this.Zt=a.getUniformLocation(e,"matP");this.Wm=a.getUniformLocation(e,"matMV");this.Ji=a.getUniformLocation(e,"opacity");this.sq=a.getUniformLocation(e,"colorFill");this.$t=a.getUniformLocation(e,"samplerFront");this.yk=a.getUniformLocation(e,"samplerBack");this.sh=a.getUniformLocation(e,"destStart");this.rh=a.getUniformLocation(e,"destEnd");this.Ak=a.getUniformLocation(e,"seconds");this.uq=a.getUniformLocation(e,
"pixelWidth");this.tq=a.getUniformLocation(e,"pixelHeight");this.xk=a.getUniformLocation(e,"layerScale");this.wk=a.getUniformLocation(e,"layerAngle");this.Bk=a.getUniformLocation(e,"viewOrigin");this.zk=a.getUniformLocation(e,"scrollPos");this.tB=!!(this.uq||this.tq||this.Ak||this.yk||this.sh||this.rh||this.xk||this.wk||this.Bk||this.zk);this.ku=this.lu=-999;this.Zm=1;this.gu=this.fu=0;this.iu=this.eu=this.du=1;this.ou=this.nu=this.mu=this.qu=this.pu=this.hu=0;this.jq=[];this.ju=Vc();this.Ji&&a.uniform1f(this.Ji,
1);this.sq&&a.uniform4f(this.sq,1,1,1,1);this.$t&&a.uniform1i(this.$t,0);this.yk&&a.uniform1i(this.yk,1);this.sh&&a.uniform2f(this.sh,0,0);this.rh&&a.uniform2f(this.rh,1,1);this.xk&&a.uniform1f(this.xk,1);this.wk&&a.uniform1f(this.wk,0);this.Bk&&a.uniform2f(this.Bk,0,0);this.zk&&a.uniform2f(this.zk,0,0);this.Ak&&a.uniform1f(this.Ak,0);this.jh=!1}function h(a,e){return a[0]===e[0]&&a[1]===e[1]&&a[2]===e[2]&&a[3]===e[3]&&a[4]===e[4]&&a[5]===e[5]&&a[6]===e[6]&&a[7]===e[7]&&a[8]===e[8]&&a[9]===e[9]&&
a[10]===e[10]&&a[11]===e[11]&&a[12]===e[12]&&a[13]===e[13]&&a[14]===e[14]&&a[15]===e[15]}function p(a,e){this.type=a;this.F=e;this.J=e.J;this.Td=this.Kc=this.Qu=0;this.la=this.ee=null;this.Gv=[]}var q=Vc();c.prototype.yt=function(){var a=this.J,e;this.Ot=1;this.oh=this.ng=null;this.Vl=1;a.clearColor(0,0,0,0);a.clear(a.COLOR_BUFFER_BIT);a.enable(a.BLEND);a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA);a.disable(a.CULL_FACE);a.disable(a.STENCIL_TEST);a.disable(a.DITHER);this.Ya?(a.enable(a.DEPTH_TEST),a.depthFunc(a.LEQUAL)):
a.disable(a.DEPTH_TEST);this.Pt=a.ONE;this.Nt=a.ONE_MINUS_SRC_ALPHA;this.so=new Float32Array(8E3*(this.Ya?3:2));this.Zn=new Float32Array(16E3);this.Qq=new Float32Array(32E3);this.Pq=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.Pq);a.bufferData(a.ARRAY_BUFFER,this.Qq.byteLength,a.DYNAMIC_DRAW);this.tl=Array(4);this.ll=Array(4);for(e=0;4>e;e++)this.tl[e]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.tl[e]),a.bufferData(a.ARRAY_BUFFER,this.so.byteLength,a.DYNAMIC_DRAW),this.ll[e]=a.createBuffer(),
a.bindBuffer(a.ARRAY_BUFFER,this.ll[e]),a.bufferData(a.ARRAY_BUFFER,this.Zn.byteLength,a.DYNAMIC_DRAW);this.jf=0;this.zB=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.zB);for(var b=new Uint16Array(12E3),d=e=0;12E3>e;)b[e++]=d,b[e++]=d+1,b[e++]=d+2,b[e++]=d,b[e++]=d+2,b[e++]=d+3,d+=4;a.bufferData(a.ELEMENT_ARRAY_BUFFER,b,a.STATIC_DRAW);this.Ui=this.hj=this.Lf=0;this.qb=[];e=this.Ya?"attribute highp vec3 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, aPos.z, 1.0);\n\tvTex = aTex;\n}":
"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}";b=this.Cj({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},e,"<default>");this.qb.push(b);b=this.Cj({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},
"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}","<point>");this.qb.push(b);b=this.Cj({src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tif (texture2D(samplerFront, vTex).a < 1.0)\n\t\tdiscard;\n}"},e,"<earlyz>");this.qb.push(b);b=this.Cj({src:"uniform lowp vec4 colorFill;\nvoid main(void) {\n\tgl_FragColor = colorFill;\n}"},
e,"<fill>");this.qb.push(b);for(var f in Zc)Zc.hasOwnProperty(f)&&this.qb.push(this.Cj(Zc[f],e,f));a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,null);this.ff=[];this.Ee=0;this.Fc=this.lc=!1;this.Ns=this.ok=-1;this.di=null;this.tp=a.createFramebuffer();this.Zl=this.Hn=null;this.us=!1;this.Ya&&(this.Zl=a.createRenderbuffer());this.Jg=Uc([0,0,0]);a=a.getParameter(a.ALIASED_POINT_SIZE_RANGE);this.cC=a[0];this.xq=a[1];2048<this.xq&&(this.xq=2048);this.dd(0)};m.prototype.Kr=function(a){h(this.ju,
a)||(Wc(a,this.ju),this.J.uniformMatrix4fv(this.Wm,!1,a))};c.prototype.Cj=function(a,e,b){var d=this.J,f=d.createShader(d.FRAGMENT_SHADER);d.shaderSource(f,a.src);d.compileShader(f);if(!d.getShaderParameter(f,d.COMPILE_STATUS))throw a=d.getShaderInfoLog(f),d.deleteShader(f),Error("error compiling fragment shader: "+a);var k=d.createShader(d.VERTEX_SHADER);d.shaderSource(k,e);d.compileShader(k);if(!d.getShaderParameter(k,d.COMPILE_STATUS))throw a=d.getShaderInfoLog(k),d.deleteShader(f),d.deleteShader(k),
Error("error compiling vertex shader: "+a);e=d.createProgram();d.attachShader(e,f);d.attachShader(e,k);d.linkProgram(e);if(!d.getProgramParameter(e,d.LINK_STATUS))throw a=d.getProgramInfoLog(e),d.deleteShader(f),d.deleteShader(k),d.deleteProgram(e),Error("error linking shader program: "+a);d.useProgram(e);d.deleteShader(f);d.deleteShader(k);f=new m(d,e,b);f.gh=a.gh||0;f.hh=a.hh||0;f.bi=!!a.bi;f.Zc=!!a.Zc;f.Wh=!!a.Wh;f.Z=a.Z||[];a=0;for(k=f.Z.length;a<k;a++)f.Z[a][1]=d.getUniformLocation(e,f.Z[a][0]),
f.jq.push(0),d.uniform1f(f.Z[a][1],0);return f};c.prototype.Hp=function(a){var e,b;e=0;for(b=this.qb.length;e<b;e++)if(this.qb[e].name===a)return e;return-1};c.prototype.Dn=function(a,e,b){var d=this.Dd,f=this.$m,k=[0,0,0,0,0,0,0,0];k[0]=d[0]*a+d[4]*e+d[12];k[1]=d[1]*a+d[5]*e+d[13];k[2]=d[2]*a+d[6]*e+d[14];k[3]=d[3]*a+d[7]*e+d[15];k[4]=f[0]*k[0]+f[4]*k[1]+f[8]*k[2]+f[12]*k[3];k[5]=f[1]*k[0]+f[5]*k[1]+f[9]*k[2]+f[13]*k[3];k[6]=f[2]*k[0]+f[6]*k[1]+f[10]*k[2]+f[14]*k[3];k[7]=-k[2];0!==k[7]&&(k[7]=1/
k[7],k[4]*=k[7],k[5]*=k[7],k[6]*=k[7],b[0]=(.5*k[4]+.5)*this.width,b[1]=(.5*k[5]+.5)*this.height)};c.prototype.Ih=function(a,e,b){if(this.width!==a||this.height!==e||b){this.lf();b=this.J;this.width=a;this.height=e;b.viewport(0,0,a,e);Yc(this.So,this.bu,this.hw,this.Dd);if(this.Ya){var d=-a/2;a=a/2;var f=e/2;e=-e/2;var k=this.zo,g=this.Tr,c=this.$m;c||(c=Vc());var l=a-d,h=e-f,n=g-k;c[0]=2/l;c[1]=0;c[2]=0;c[3]=0;c[4]=0;c[5]=2/h;c[6]=0;c[7]=0;c[8]=0;c[9]=0;c[10]=-2/n;c[11]=0;c[12]=-(d+a)/l;c[13]=-(e+
f)/h;c[14]=-(g+k)/n;c[15]=1;this.ul[0]=1;this.ul[1]=1}else e=a/e,d=this.zo,a=this.Tr,c=this.$m,g=d*Math.tan(45*Math.PI/360),e*=g,f=-e,k=-g,c||(c=Vc()),l=e-f,h=g-k,n=a-d,c[0]=2*d/l,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=2*d/h,c[6]=0,c[7]=0,c[8]=(e+f)/l,c[9]=(g+k)/h,c[10]=-(a+d)/n,c[11]=-1,c[12]=0,c[13]=0,c[14]=-(a*d*2)/n,c[15]=0,d=[0,0],a=[0,0],this.Dn(0,0,d),this.Dn(1,1,a),this.ul[0]=1/(a[0]-d[0]),this.ul[1]=-1/(a[1]-d[1]);d=0;for(a=this.qb.length;d<a;d++)f=this.qb[d],f.jh=!1,f.Zt&&(b.useProgram(f.cl),
b.uniformMatrix4fv(f.Zt,!1,this.$m));b.useProgram(this.qb[this.ok].cl);b.bindTexture(b.TEXTURE_2D,null);b.activeTexture(b.TEXTURE1);b.bindTexture(b.TEXTURE_2D,null);b.activeTexture(b.TEXTURE0);this.oh=this.ng=null;this.Zl&&(b.bindFramebuffer(b.FRAMEBUFFER,this.tp),b.bindRenderbuffer(b.RENDERBUFFER,this.Zl),b.renderbufferStorage(b.RENDERBUFFER,b.DEPTH_COMPONENT16,this.width,this.height),this.us||(b.framebufferRenderbuffer(b.FRAMEBUFFER,b.DEPTH_ATTACHMENT,b.RENDERBUFFER,this.Zl),this.us=!0),b.bindRenderbuffer(b.RENDERBUFFER,
null),b.bindFramebuffer(b.FRAMEBUFFER,null),this.Hn=null)}};c.prototype.ae=function(){Yc(this.So,this.bu,this.hw,this.Dd);Xc(this.Dd,this.ul)};c.prototype.translate=function(a,e){if(0!==a||0!==e){this.Jg[0]=a;this.Jg[1]=e;this.Jg[2]=0;var b=this.Dd,d=this.Jg,f=d[0],k=d[1],d=d[2];b[12]=b[0]*f+b[4]*k+b[8]*d+b[12];b[13]=b[1]*f+b[5]*k+b[9]*d+b[13];b[14]=b[2]*f+b[6]*k+b[10]*d+b[14];b[15]=b[3]*f+b[7]*k+b[11]*d+b[15]}};c.prototype.scale=function(a,e){if(1!==a||1!==e)this.Jg[0]=a,this.Jg[1]=e,this.Jg[2]=
1,Xc(this.Dd,this.Jg)};c.prototype.Jn=function(a){if(0!==a){var e=this.Dd,b,d=Math.sin(a);a=Math.cos(a);var f=e[0],k=e[1],g=e[2],c=e[3],l=e[4],h=e[5],n=e[6],u=e[7];b?e!==b&&(b[8]=e[8],b[9]=e[9],b[10]=e[10],b[11]=e[11],b[12]=e[12],b[13]=e[13],b[14]=e[14],b[15]=e[15]):b=e;b[0]=f*a+l*d;b[1]=k*a+h*d;b[2]=g*a+n*d;b[3]=c*a+u*d;b[4]=f*-d+l*a;b[5]=k*-d+h*a;b[6]=g*-d+n*a;b[7]=c*-d+u*a}};c.prototype.Kd=function(){if(!h(this.kq,this.Dd)){var a=this.$c();a.type=5;a.la?Wc(this.Dd,a.la):a.la=Vc(this.Dd);Wc(this.Dd,
this.kq);this.Fc=this.lc=!1}};c.prototype.On=function(a){this.Ya&&(32760<a&&(a=32760),this.jp=this.So[2]-this.zo-a*this.dE)};p.prototype.Lz=function(){var a=this.J,e=this.F;0!==this.Kc?(a.depthMask(!0),a.colorMask(!1,!1,!1,!1),a.disable(a.BLEND),a.bindFramebuffer(a.FRAMEBUFFER,e.tp),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),a.clear(a.DEPTH_BUFFER_BIT),a.bindFramebuffer(a.FRAMEBUFFER,null),e.Cm=!0):(a.depthMask(!1),a.colorMask(!0,!0,!0,!0),a.enable(a.BLEND),e.Cm=
!1)};p.prototype.Pz=function(){this.J.bindTexture(this.J.TEXTURE_2D,this.ee)};p.prototype.Qz=function(){var a=this.J;a.activeTexture(a.TEXTURE1);a.bindTexture(a.TEXTURE_2D,this.ee);a.activeTexture(a.TEXTURE0)};p.prototype.Mz=function(){var a=this.Qu,e=this.F;e.Vl=a;e=e.di;e.Ji&&e.Zm!==a&&(e.Zm=a,this.J.uniform1f(e.Ji,a))};p.prototype.Gz=function(){this.J.drawElements(this.J.TRIANGLES,this.Td,this.J.UNSIGNED_SHORT,this.Kc)};p.prototype.Iz=function(){this.J.blendFunc(this.Kc,this.Td)};p.prototype.Rz=
function(){var a,e,b,d=this.F.qb,f=this.F.Ns;a=0;for(e=d.length;a<e;a++)b=d[a],a===f&&b.Wm?(b.Kr(this.la),b.jh=!0):b.jh=!1;Wc(this.la,this.F.ip)};p.prototype.Hz=function(){var a=this.J,e=this.F;this.ee?(e.oh===this.ee&&(a.activeTexture(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,null),e.oh=null,a.activeTexture(a.TEXTURE0)),a.bindFramebuffer(a.FRAMEBUFFER,e.tp),e.Cm||a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,this.ee,0)):(e.Ya||a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,
a.TEXTURE_2D,null,0),a.bindFramebuffer(a.FRAMEBUFFER,null))};p.prototype.Dz=function(){var a=this.J,e=this.Kc;0===e?(a.clearColor(this.la[0],this.la[1],this.la[2],this.la[3]),a.clear(a.COLOR_BUFFER_BIT)):1===e?(a.enable(a.SCISSOR_TEST),a.scissor(this.la[0],this.la[1],this.la[2],this.la[3]),a.clearColor(0,0,0,0),a.clear(a.COLOR_BUFFER_BIT),a.disable(a.SCISSOR_TEST)):a.clear(a.DEPTH_BUFFER_BIT)};p.prototype.Kz=function(){var a=this.J;0!==this.Kc?a.enable(a.DEPTH_TEST):a.disable(a.DEPTH_TEST)};p.prototype.Fz=
function(){var a=this.J,e=this.F;e.Ya&&a.disable(a.DEPTH_TEST);var b=e.qb[1];a.useProgram(b.cl);!b.jh&&b.Wm&&(b.Kr(e.ip),b.jh=!0);a.enableVertexAttribArray(b.Wd);a.bindBuffer(a.ARRAY_BUFFER,e.Pq);a.vertexAttribPointer(b.Wd,4,a.FLOAT,!1,0,0);a.drawArrays(a.POINTS,this.Kc/4,this.Td);b=e.di;a.useProgram(b.cl);0<=b.Wd&&(a.enableVertexAttribArray(b.Wd),a.bindBuffer(a.ARRAY_BUFFER,e.tl[e.jf]),a.vertexAttribPointer(b.Wd,e.Ya?3:2,a.FLOAT,!1,0,0));0<=b.ug&&(a.enableVertexAttribArray(b.ug),a.bindBuffer(a.ARRAY_BUFFER,
e.ll[e.jf]),a.vertexAttribPointer(b.ug,2,a.FLOAT,!1,0,0));e.Ya&&a.enable(a.DEPTH_TEST)};p.prototype.Nz=function(){var a=this.J,e=this.F,b=e.qb[this.Kc];e.Ns=this.Kc;e.di=b;a.useProgram(b.cl);!b.jh&&b.Wm&&(b.Kr(e.ip),b.jh=!0);b.Ji&&b.Zm!==e.Vl&&(b.Zm=e.Vl,a.uniform1f(b.Ji,e.Vl));0<=b.Wd&&(a.enableVertexAttribArray(b.Wd),a.bindBuffer(a.ARRAY_BUFFER,e.tl[e.jf]),a.vertexAttribPointer(b.Wd,e.Ya?3:2,a.FLOAT,!1,0,0));0<=b.ug&&(a.enableVertexAttribArray(b.ug),a.bindBuffer(a.ARRAY_BUFFER,e.ll[e.jf]),a.vertexAttribPointer(b.ug,
2,a.FLOAT,!1,0,0))};p.prototype.Jz=function(){var a=this.la;this.J.uniform4f(this.F.di.sq,a[0],a[1],a[2],a[3])};p.prototype.Oz=function(){var a,e,b=this.F.di,d=this.J;a=this.la;b.yk&&this.F.oh!==this.ee&&(d.activeTexture(d.TEXTURE1),d.bindTexture(d.TEXTURE_2D,this.ee),this.F.oh=this.ee,d.activeTexture(d.TEXTURE0));var f=a[0];b.uq&&f!==b.lu&&(b.lu=f,d.uniform1f(b.uq,f));f=a[1];b.tq&&f!==b.ku&&(b.ku=f,d.uniform1f(b.tq,f));f=a[2];e=a[3];!b.sh||f===b.fu&&e===b.gu||(b.fu=f,b.gu=e,d.uniform2f(b.sh,f,e));
f=a[4];e=a[5];!b.rh||f===b.du&&e===b.eu||(b.du=f,b.eu=e,d.uniform2f(b.rh,f,e));f=a[6];b.xk&&f!==b.iu&&(b.iu=f,d.uniform1f(b.xk,f));f=a[7];b.wk&&f!==b.hu&&(b.hu=f,d.uniform1f(b.wk,f));f=a[8];e=a[9];!b.Bk||f===b.pu&&e===b.qu||(b.pu=f,b.qu=e,d.uniform2f(b.Bk,f,e));f=a[10];e=a[11];!b.zk||f===b.mu&&e===b.nu||(b.mu=f,b.nu=e,d.uniform2f(b.zk,f,e));f=a[12];b.Ak&&f!==b.ou&&(b.ou=f,d.uniform1f(b.Ak,f));if(b.Z.length)for(a=0,e=b.Z.length;a<e;a++)f=this.Gv[a],f!==b.jq[a]&&(b.jq[a]=f,d.uniform1f(b.Z[a][1],f))};
c.prototype.$c=function(){this.Ee===this.ff.length&&this.ff.push(new p(0,this));return this.ff[this.Ee++]};c.prototype.lf=function(){if(0!==this.Ee&&!this.J.isContextLost()){var a=this.J;0<this.Ui&&(a.bindBuffer(a.ARRAY_BUFFER,this.Pq),a.bufferSubData(a.ARRAY_BUFFER,0,this.Qq.subarray(0,this.Ui)),e&&0<=e.Wd&&"<point>"===e.name&&a.vertexAttribPointer(e.Wd,4,a.FLOAT,!1,0,0));if(0<this.Lf){var e=this.di;a.bindBuffer(a.ARRAY_BUFFER,this.tl[this.jf]);a.bufferSubData(a.ARRAY_BUFFER,0,this.so.subarray(0,
this.Lf));e&&0<=e.Wd&&"<point>"!==e.name&&a.vertexAttribPointer(e.Wd,this.Ya?3:2,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.ll[this.jf]);a.bufferSubData(a.ARRAY_BUFFER,0,this.Zn.subarray(0,this.hj));e&&0<=e.ug&&"<point>"!==e.name&&a.vertexAttribPointer(e.ug,2,a.FLOAT,!1,0,0)}for(var b,a=0,e=this.Ee;a<e;a++)switch(b=this.ff[a],b.type){case 1:b.Gz();break;case 2:b.Pz();break;case 3:b.Mz();break;case 4:b.Iz();break;case 5:b.Rz();break;case 6:b.Hz();break;case 7:b.Dz();break;case 8:b.Fz();break;
case 9:b.Nz();break;case 10:b.Oz();break;case 11:b.Qz();break;case 12:b.Jz();break;case 13:b.Kz();break;case 14:b.Lz()}this.Ui=this.hj=this.Lf=this.Ee=0;this.Cm=this.Fc=this.lc=!1;this.jf++;4<=this.jf&&(this.jf=0)}};c.prototype.Fg=function(a){if(a!==this.Ot&&!this.Yj){var e=this.$c();e.type=3;this.Ot=e.Qu=a;this.Fc=this.lc=!1}};c.prototype.cd=function(a){if(a!==this.ng){var e=this.$c();e.type=2;this.ng=e.ee=a;this.Fc=this.lc=!1}};c.prototype.Eg=function(a,e){if((a!==this.Pt||e!==this.Nt)&&!this.Yj){var b=
this.$c();b.type=4;b.Kc=a;b.Td=e;this.Pt=a;this.Nt=e;this.Fc=this.lc=!1}};c.prototype.tv=function(){this.Eg(this.J.ONE,this.J.ONE_MINUS_SRC_ALPHA)};c.prototype.Wi=function(a,e,b,d,f,k,g,c){15992<=this.Lf&&this.lf();var l=this.Lf,h=this.hj,n=this.so,u=this.Zn,m=this.jp;if(this.lc)this.ff[this.Ee-1].Td+=6;else{var p=this.$c();p.type=1;p.Kc=this.Ya?l:l/2*3;p.Td=6;this.lc=!0;this.Fc=!1}this.Ya?(n[l++]=a,n[l++]=e,n[l++]=m,n[l++]=b,n[l++]=d,n[l++]=m,n[l++]=f,n[l++]=k,n[l++]=m,n[l++]=g,n[l++]=c,n[l++]=m):
(n[l++]=a,n[l++]=e,n[l++]=b,n[l++]=d,n[l++]=f,n[l++]=k,n[l++]=g,n[l++]=c);u[h++]=0;u[h++]=0;u[h++]=1;u[h++]=0;u[h++]=1;u[h++]=1;u[h++]=0;u[h++]=1;this.Lf=l;this.hj=h};c.prototype.Ue=function(a,e,b,d,f,k,g,c,l){15992<=this.Lf&&this.lf();var h=this.Lf,n=this.hj,u=this.so,m=this.Zn,p=this.jp;if(this.lc)this.ff[this.Ee-1].Td+=6;else{var q=this.$c();q.type=1;q.Kc=this.Ya?h:h/2*3;q.Td=6;this.lc=!0;this.Fc=!1}var q=l.left,E=l.top,r=l.right;l=l.bottom;this.Ya?(u[h++]=a,u[h++]=e,u[h++]=p,u[h++]=b,u[h++]=d,
u[h++]=p,u[h++]=f,u[h++]=k,u[h++]=p,u[h++]=g,u[h++]=c,u[h++]=p):(u[h++]=a,u[h++]=e,u[h++]=b,u[h++]=d,u[h++]=f,u[h++]=k,u[h++]=g,u[h++]=c);m[n++]=q;m[n++]=E;m[n++]=r;m[n++]=E;m[n++]=r;m[n++]=l;m[n++]=q;m[n++]=l;this.Lf=h;this.hj=n};c.prototype.BC=function(a,e,b,d){7996<=this.Ui&&this.lf();var f=this.Ui,k=this.Qq;if(this.Fc)this.ff[this.Ee-1].Td++;else{var g=this.$c();g.type=8;g.Kc=f;g.Td=1;this.Fc=!0;this.lc=!1}k[f++]=a;k[f++]=e;k[f++]=b;k[f++]=d;this.Ui=f};c.prototype.dd=function(a){if(this.ok!==
a){if(!this.qb[a]){if(0===this.ok)return;a=0}var e=this.$c();e.type=9;this.ok=e.Kc=a;this.Fc=this.lc=!1}};c.prototype.Sk=function(a){a=this.qb[a];return!(!a.sh&&!a.rh)};c.prototype.Tq=function(a){a=this.qb[a];return!!(a.sh||a.rh||a.bi)};c.prototype.Sq=function(a){return this.qb[a].Zc};c.prototype.KC=function(a){a=this.qb[a];return 0!==a.gh||0!==a.hh};c.prototype.WA=function(a){return this.qb[a].gh};c.prototype.XA=function(a){return this.qb[a].hh};c.prototype.YA=function(a,e){return this.qb[a].Z[e][2]};
c.prototype.Cn=function(a){return this.qb[a].Wh};c.prototype.cj=function(a,e,b,d,f,k,g,c,l,h,n,u,m,p,q){var E=this.qb[this.ok],r,w;if(E.tB||q.length){r=this.$c();r.type=10;r.la?Wc(this.Dd,r.la):r.la=Vc();w=r.la;w[0]=e;w[1]=b;w[2]=d;w[3]=f;w[4]=k;w[5]=g;w[6]=c;w[7]=l;w[8]=h;w[9]=n;w[10]=u;w[11]=m;w[12]=p;E.yk?r.ee=a:r.ee=null;if(q.length)for(b=r.Gv,b.length=q.length,a=0,e=q.length;a<e;a++)b[a]=q[a];this.Fc=this.lc=!1}};c.prototype.clear=function(a,e,b,d){var f=this.$c();f.type=7;f.Kc=0;f.la||(f.la=
Vc());f.la[0]=a;f.la[1]=e;f.la[2]=b;f.la[3]=d;this.Fc=this.lc=!1};c.prototype.clearRect=function(a,e,b,d){if(!(0>b||0>d)){var f=this.$c();f.type=7;f.Kc=1;f.la||(f.la=Vc());f.la[0]=a;f.la[1]=e;f.la[2]=b;f.la[3]=d;this.Fc=this.lc=!1}};c.prototype.xv=function(a){if(this.Ya&&(a=!!a,this.Yj!==a)){var e=this.$c();e.type=14;e.Kc=a?1:0;this.Fc=this.lc=!1;this.Yj=a;this.Hn=null;this.Yj?this.dd(2):this.dd(0)}};c.prototype.wv=function(a){if(this.Ya){var e=this.$c();e.type=13;e.Kc=a?1:0;this.Fc=this.lc=!1}};
c.prototype.bt=function(){Wc(this.kq,q);this.ae();this.Kd();var a=this.width/2,e=this.height/2;this.Wi(-a,e,a,e,a,-e,-a,-e);Wc(q,this.Dd);this.Kd()};c.prototype.vv=function(a,e,b){this.dd(3);var d=this.$c();d.type=12;d.la||(d.la=Vc());d.la[0]=a;d.la[1]=e;d.la[2]=b;d.la[3]=1;this.Fc=this.lc=!1};c.prototype.AD=function(){this.dd(0)};c.prototype.gD=function(){this.dd(2)};c.prototype.IC=function(){this.lf();this.J.flush()};var r=[],l={};c.prototype.pz=function(){y(r);l={}};c.prototype.Ii=function(a,e,
b,d){e=!!e;b=!!b;var f=a.src+","+e+","+b+(e?",undefined":""),k=null;if("undefined"!==typeof a.src&&l.hasOwnProperty(f))return k=l[f],k.Ml++,k;this.lf();var g=this.J,c=Da(a.width)&&Da(a.height),k=g.createTexture();g.bindTexture(g.TEXTURE_2D,k);g.pixelStorei(g.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);var h=g.RGBA,m=g.RGBA,n=g.UNSIGNED_BYTE;if(d&&!this.tf)switch(d){case 1:m=h=g.RGB;break;case 2:n=g.UNSIGNED_SHORT_4_4_4_4;break;case 3:n=g.UNSIGNED_SHORT_5_5_5_1;break;case 4:m=h=g.RGB,n=g.UNSIGNED_SHORT_5_6_5}if(1===
this.version&&!c&&e){d=document.createElement("canvas");d.width=Ea(a.width);d.height=Ea(a.height);var u=d.getContext("2d");"undefined"!==typeof u.imageSmoothingEnabled?u.imageSmoothingEnabled=b:(u.webkitImageSmoothingEnabled=b,u.mozImageSmoothingEnabled=b,u.msImageSmoothingEnabled=b);u.drawImage(a,0,0,a.width,a.height,0,0,d.width,d.height);g.texImage2D(g.TEXTURE_2D,0,h,m,n,d)}else g.texImage2D(g.TEXTURE_2D,0,h,m,n,a);e?(g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,g.REPEAT),g.texParameteri(g.TEXTURE_2D,
g.TEXTURE_WRAP_T,g.REPEAT)):(g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,g.CLAMP_TO_EDGE),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,g.CLAMP_TO_EDGE));b?(g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,g.LINEAR),(c||2<=this.version)&&this.Rs?(g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,g.LINEAR_MIPMAP_LINEAR),g.generateMipmap(g.TEXTURE_2D)):g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,g.LINEAR)):(g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,g.NEAREST),g.texParameteri(g.TEXTURE_2D,
g.TEXTURE_MIN_FILTER,g.NEAREST));g.bindTexture(g.TEXTURE_2D,null);this.ng=null;k.Rg=a.width;k.Qg=a.height;k.Ml=1;k.zs=f;r.push(k);return l[f]=k};c.prototype.xd=function(a,e,b,d){this.lf();var f=this.J;this.tf&&(d=!1);var k=f.createTexture();f.bindTexture(f.TEXTURE_2D,k);f.texImage2D(f.TEXTURE_2D,0,f.RGBA,a,e,0,f.RGBA,d?f.UNSIGNED_SHORT_4_4_4_4:f.UNSIGNED_BYTE,null);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.CLAMP_TO_EDGE);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.CLAMP_TO_EDGE);f.texParameteri(f.TEXTURE_2D,
f.TEXTURE_MAG_FILTER,b?f.LINEAR:f.NEAREST);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,b?f.LINEAR:f.NEAREST);f.bindTexture(f.TEXTURE_2D,null);this.ng=null;k.Rg=a;k.Qg=e;r.push(k);return k};c.prototype.$D=function(a,e,b){this.lf();var d=this.J;this.tf&&(b=!1);d.bindTexture(d.TEXTURE_2D,e);d.pixelStorei(d.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);try{d.texImage2D(d.TEXTURE_2D,0,d.RGBA,d.RGBA,b?d.UNSIGNED_SHORT_4_4_4_4:d.UNSIGNED_BYTE,a)}catch(f){console&&console.error&&console.error("Error updating WebGL texture: ",
f)}d.bindTexture(d.TEXTURE_2D,null);this.ng=null};c.prototype.deleteTexture=function(a){a&&("undefined"!==typeof a.Ml&&1<a.Ml?a.Ml--:(this.lf(),a===this.ng&&(this.J.bindTexture(this.J.TEXTURE_2D,null),this.ng=null),a===this.oh&&(this.J.activeTexture(this.J.TEXTURE1),this.J.bindTexture(this.J.TEXTURE_2D,null),this.J.activeTexture(this.J.TEXTURE0),this.oh=null),$a(r,a),"undefined"!==typeof a.zs&&delete l[a.zs],this.J.deleteTexture(a)))};c.prototype.be=function(a){if(a!==this.Hn){var e=this.$c();e.type=
6;this.Hn=e.ee=a;this.Fc=this.lc=!1}};Yb=c})();
(function(){function c(a){if(a&&(a.getContext||a.dc)&&!a.c2runtime){a.c2runtime=this;var d=this;this.rf=(this.Dm=/crosswalk/i.test(navigator.userAgent)||/xwalk/i.test(navigator.userAgent)||!("undefined"===typeof window.c2isCrosswalk||!window.c2isCrosswalk))||"undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||"undefined"!==typeof window.device.phonegap)||"undefined"!==typeof window.c2iscordova&&window.c2iscordova;this.Gc=!!a.dc;this.Ft="undefined"!==typeof window.AppMobi||
this.Gc;this.Ud=!!window.c2cocoonjs;this.ne=!!window.c2ejecta;this.Ud&&(CocoonJS.App.onSuspended.addEventListener(function(){d.setSuspended(!0)}),CocoonJS.App.onActivated.addEventListener(function(){d.setSuspended(!1)}));this.ne&&(document.addEventListener("pagehide",function(){d.setSuspended(!0)}),document.addEventListener("pageshow",function(){d.setSuspended(!1)}),document.addEventListener("resize",function(){d.setSize(window.innerWidth,window.innerHeight)}));this.ob=this.Gc||this.Ud||this.ne;this.ak=
/edge\//i.test(navigator.userAgent);this.tf=(/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)||/iemobile/i.test(navigator.userAgent))&&!this.ak;this.It=/tizen/i.test(navigator.userAgent);this.Xj=/android/i.test(navigator.userAgent)&&!this.It&&!this.tf&&!this.ak;this.Mt=(/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent))&&!this.tf&&!this.ak;this.NB=/ipad/i.test(navigator.userAgent);this.gk=this.Mt||this.NB||this.ne;this.Zp=(/chrome/i.test(navigator.userAgent)||
/chromium/i.test(navigator.userAgent))&&!this.tf&&!this.ak;this.Et=/amazonwebappplatform/i.test(navigator.userAgent);this.HB=/firefox/i.test(navigator.userAgent);this.KB=/safari/i.test(navigator.userAgent)&&!this.Zp&&!this.tf&&!this.ak;this.LB=/windows/i.test(navigator.userAgent);this.cq="undefined"!==typeof window.c2nodewebkit||"undefined"!==typeof window.c2nwjs||/nodewebkit/i.test(navigator.userAgent)||/nwjs/i.test(navigator.userAgent);this.Kt=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);
this.MB=!("undefined"===typeof window.c2isWindows8Capable||!window.c2isWindows8Capable);this.dk=!("undefined"===typeof window.c2isWindowsPhone8||!window.c2isWindowsPhone8);this.hq=!("undefined"===typeof window.c2isWindowsPhone81||!window.c2isWindowsPhone81);this.Gm=!!window.cr_windows10;this.Jt=this.Kt||this.MB||this.hq||this.Gm;this.EB=!("undefined"===typeof window.c2isBlackberry10||!window.c2isBlackberry10);this.Bm=this.Xj&&!this.Zp&&!this.Dm&&!this.HB&&!this.Et&&!this.ob;this.devicePixelRatio=
1;this.uf=this.rf||this.Dm||this.Ft||this.Ud||this.Xj||this.gk||this.dk||this.hq||this.EB||this.It||this.ne;this.uf||(this.uf=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet|kindle|silk)/i.test(navigator.userAgent));this.Fm=!!(this.gk&&this.rf&&window.webkit);"undefined"===typeof cr_is_preview||this.cq||"?nw"!==window.location.search&&!/nodewebkit/i.test(navigator.userAgent)&&!/nwjs/i.test(navigator.userAgent)||(this.cq=!0);this.canvas=a;this.Bs=document.getElementById("c2canvasdiv");
this.F=this.J=null;this.Jp="(unavailable)";this.Ya=!1;this.ah=0;this.fb=null;this.jm=!1;this.Ju=this.Ku=0;this.canvas.oncontextmenu=function(a){a.preventDefault&&a.preventDefault();return!1};this.canvas.onselectstart=function(a){a.preventDefault&&a.preventDefault();return!1};this.canvas.ontouchstart=function(a){a.preventDefault&&a.preventDefault();return!1};this.Gc&&(window.c2runtime=this);this.cq&&(window.ondragover=function(a){a.preventDefault();return!1},window.ondrop=function(a){a.preventDefault();
return!1},window.nwgui&&window.nwgui.App.clearCache&&window.nwgui.App.clearCache());this.Bm&&"undefined"!==typeof jQuery&&jQuery("canvas").parents("*").css("overflow","visible");this.width=a.width;this.height=a.height;this.W=this.width;this.V=this.height;this.Tl=this.width;this.Ej=this.height;this.Fi=window.innerWidth;this.Ei=window.innerHeight;this.Ma=!0;this.ck=!1;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types={};this.H=[];this.jb=[];this.Hi={};this.oe=[];this.sp={};
this.mf=[];this.uj=[];this.ho=[];this.Qy=[];this.Ry=[];this.Mv=null;this.Xg={};this.bq=this.hg=!1;this.Cd=0;this.$p=this.fq=!1;this.le=[];this.$j=!1;this.Sm=this.hr="";this.Rb=null;this.vf="";this.il=this.Jv=!1;this.im=[];this.$g=this.bg=0;this.uu=30;this.fp=this.Dk=0;this.Ig=1;this.yb=new Db;this.Mf=new Db;this.en=this.mm=this.fh=this.Id=this.qh=this.vp=this.Km=0;this.Tg=null;this.$l=[];this.rp=[];this.em=-1;this.vq=[[]];this.Gr=this.Xm=0;this.En(null);this.Ek=[];this.Fk=-1;this.Du=this.Lk=0;this.pq=
!0;this.Kj=0;this.jl=[];this.Dr=this.Vq=-1;this.Bi=!0;this.Vm=0;this.Em=!1;this.HD=0;this.Yh=null;this.Hc=this.qt=!1;this.Hu=new pa;this.Bq=new pa;this.Iu=new pa;this.Gh=[];this.ve=new Fb([]);this.Ar=new Fb([]);this.Uf=[];this.Sj={};this.Yf={};this.Sf={};this.sj={};this.vs={};this.Xt=this.Rm=this.zb=this.Qb=this.Wt=this.Qm=this.Ra=null;this.oj=this.iq=!1;this.wp=[null,null];this.mi=0;this.Lj="";this.Bf={};this.fl=this.sg=null;this.Lv="";this.dn=[];this.cD()}}function m(a,d){return 128>=d?a[3]:256>=
d?a[2]:512>=d?a[1]:a[0]}function h(){try{return!!window.indexedDB}catch(a){return!1}}function p(a){a.target.result.createObjectStore("saves",{keyPath:"slot"})}function q(a,d,b,f){try{var e=indexedDB.open("_C2SaveStates");e.onupgradeneeded=p;e.onerror=f;e.onsuccess=function(e){e=e.target.result;e.onerror=f;e.transaction(["saves"],"readwrite").objectStore("saves").put({slot:a,data:d}).onsuccess=b}}catch(g){f(g)}}function r(a,d,b){try{var f=indexedDB.open("_C2SaveStates");f.onupgradeneeded=p;f.onerror=
b;f.onsuccess=function(f){f=f.target.result;f.onerror=b;var e=f.transaction(["saves"]).objectStore("saves").get(a);e.onsuccess=function(){e.result?d(e.result.data):d(null)}}}catch(e){b(e)}}function l(){va("Reloading for continuous preview");window.c2cocoonjs?CocoonJS.App.reload():-1<window.location.search.indexOf("continuous")?window.location.reload(!0):window.location=window.location+"?continuous"}function a(a){var d,b={};for(d in a)!a.hasOwnProperty(d)||a[d]instanceof pa||a[d]&&"undefined"!==typeof a[d].qF||
"spriteCreatedDestroyCallback"!==d&&(b[d]=a[d]);return b}var e=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame;c.prototype.cD=function(){var a=this;if(this.Fm)this.FA(function(d){a.uk(JSON.parse(d))},function(){alert("Error fetching data.js")});else{var d;this.dk?d=new ActiveXObject("Microsoft.XMLHTTP"):d=new XMLHttpRequest;var b="data.js";if(this.Kt||this.dk||this.hq||this.Gm)b="data.json";
d.open("GET",b,!0);var f=!1;if(!this.ob&&"response"in d&&"responseType"in d)try{d.responseType="json",f="json"===d.responseType}catch(e){f=!1}if(!f&&"responseType"in d)try{d.responseType="text"}catch(g){}if("overrideMimeType"in d)try{d.overrideMimeType("application/json; charset=utf-8")}catch(k){}this.dk?d.onreadystatechange=function(){4===d.readyState&&a.uk(JSON.parse(d.responseText))}:(d.onload=function(){if(f)a.uk(d.response);else if(a.ne){var b=d.responseText,b=b.substr(b.indexOf("{"));a.uk(JSON.parse(b))}else a.uk(JSON.parse(d.responseText))},
d.onerror=function(a){xa("Error requesting "+b+":");xa(a)});d.send()}};c.prototype.AB=function(){var a=this,d,b,f,e,g,k,c,l,n;this.mh=(!this.ob||this.ne||this.rf)&&this.WD&&!this.Bm;0===this.Oc&&this.gk&&(this.mh=!1);this.devicePixelRatio=this.mh?window.devicePixelRatio||window.webkitDevicePixelRatio||window.mozDevicePixelRatio||window.msDevicePixelRatio||1:1;this.tc();0<this.Oc&&this.setSize(window.innerWidth,window.innerHeight,!0);this.canvas.addEventListener("webglcontextlost",function(d){d.preventDefault();
a.fC();va("[Construct 2] WebGL context lost");window.cr_setSuspended(!0)},!1);this.canvas.addEventListener("webglcontextrestored",function(){a.F.yt();a.F.Ih(a.F.width,a.F.height,!0);a.Qb=null;a.zb=null;a.wp[0]=null;a.wp[1]=null;a.gC();a.Ma=!0;va("[Construct 2] WebGL context restored");window.cr_setSuspended(!1)},!1);try{this.Zz&&(this.Ud||this.ne||!this.ob)&&(d={alpha:!0,depth:!1,antialias:!1,powerPreference:"high-performance",failIfMajorPerformanceCaveat:!0},this.Xj||(this.J=this.canvas.getContext("webgl2",
d)),this.J||(this.J=this.canvas.getContext("webgl",d)||this.canvas.getContext("experimental-webgl",d)))}catch(h){}if(this.J){if(d=this.J.getExtension("WEBGL_debug_renderer_info"))this.Jp=this.J.getParameter(d.UNMASKED_RENDERER_WEBGL)+" ["+this.J.getParameter(d.UNMASKED_VENDOR_WEBGL)+"]";this.Ya&&(this.Jp+=" [front-to-back enabled]");this.ob||(this.pc=document.createElement("canvas"),jQuery(this.pc).appendTo(this.canvas.parentNode),this.pc.oncontextmenu=function(){return!1},this.pc.onselectstart=function(){return!1},
this.pc.width=Math.round(this.Tl*this.devicePixelRatio),this.pc.height=Math.round(this.Ej*this.devicePixelRatio),jQuery(this.pc).css({width:this.Tl+"px",height:this.Ej+"px"}),this.gv(),this.Nq=this.pc.getContext("2d"));this.F=new Yb(this.J,this.uf,this.Ya);this.F.Ih(this.canvas.width,this.canvas.height);this.F.Rs=0!==this.Sz;this.fb=null;d=0;for(b=this.H.length;d<b;d++)for(g=this.H[d],f=0,e=g.ja.length;f<e;f++)c=g.ja[f],c.Eb=this.F.Hp(c.id),c.Zc=this.F.Sq(c.Eb),this.oj=this.oj||this.F.Sk(c.Eb);d=
0;for(b=this.oe.length;d<b;d++){l=this.oe[d];f=0;for(e=l.ja.length;f<e;f++)c=l.ja[f],c.Eb=this.F.Hp(c.id),c.Zc=this.F.Sq(c.Eb);l.ze();f=0;for(e=l.P.length;f<e;f++){n=l.P[f];g=0;for(k=n.ja.length;g<k;g++)c=n.ja[g],c.Eb=this.F.Hp(c.id),c.Zc=this.F.Sq(c.Eb),this.oj=this.oj||this.F.Sk(c.Eb);n.ze()}}}else{if(0<this.Oc&&this.Gc){this.canvas=null;document.oncontextmenu=function(){return!1};document.onselectstart=function(){return!1};this.fb=AppMobi.canvas.getContext("2d");try{this.fb.samplingMode=this.ab?
"smooth":"sharp",this.fb.globalScale=1,this.fb.HTML5CompatibilityMode=!0,this.fb.imageSmoothingEnabled=this.ab}catch(u){}0!==this.width&&0!==this.height&&(this.fb.width=this.width,this.fb.height=this.height)}this.fb||(this.Ud?(d={antialias:!!this.ab,alpha:!0},this.fb=this.canvas.getContext("2d",d)):(d={alpha:!0},this.fb=this.canvas.getContext("2d",d)),this.Nn(this.fb,this.ab));this.Nq=this.pc=null}this.Zv=function(d){a.Xa(!1,d)};window==window.top||this.ob||this.Jt||this.dk||(document.addEventListener("mousedown",
function(){window.focus()},!0),document.addEventListener("touchstart",function(){window.focus()},!0));"undefined"!==typeof cr_is_preview&&(this.Ud&&console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"),-1<window.location.search.indexOf("continuous")&&(va("Reloading for continuous preview"),this.Sm="__c2_continuouspreview",this.il=!0),this.yC&&!this.uf&&(jQuery(window).focus(function(){a.setSuspended(!1)}),jQuery(window).blur(function(){var d=window.parent;d&&d.document.hasFocus()||a.setSuspended(!0)})));
window.addEventListener("blur",function(){a.Ah()});this.ob||(d=function(a){if(Xb(a)&&document.activeElement&&document.activeElement!==document.getElementsByTagName("body")[0]&&document.activeElement.blur)try{document.activeElement.blur()}catch(d){}},"undefined"!==typeof PointerEvent?document.addEventListener("pointerdown",d):window.navigator.msPointerEnabled?document.addEventListener("MSPointerDown",d):document.addEventListener("touchstart",d),document.addEventListener("mousedown",d));0===this.Oc&&
this.mh&&1<this.devicePixelRatio&&this.setSize(this.Tb,this.Sb,!0);this.dw();this.mB();this.go();this.S={}};c.prototype.setSize=function(a,d,b){var f=0,e=0,g=0,k=0,k=0;if(this.Fi!==a||this.Ei!==d||b){this.Fi=a;this.Ei=d;var c=this.Oc;if((g=(document.mozFullScreen||document.webkitIsFullScreen||!!document.msFullscreenElement||document.fullScreen||this.Em)&&!this.rf)||0!==this.Oc||b)g&&(c=this.mi),b=this.devicePixelRatio,4<=c?(g=this.Tb/this.Sb,a/d>g?(g*=d,5===c?(k=g*b/this.Tb,1<k?k=Math.floor(k):1>
k&&(k=1/Math.ceil(1/k)),g=this.Tb*k/b,k=this.Sb*k/b,f=(a-g)/2,e=(d-k)/2,a=g,d=k):(f=(a-g)/2,a=g)):(k=a/g,5===c?(k=k*b/this.Sb,1<k?k=Math.floor(k):1>k&&(k=1/Math.ceil(1/k)),g=this.Tb*k/b,k=this.Sb*k/b,f=(a-g)/2,e=(d-k)/2,a=g):e=(d-k)/2,d=k)):g&&0===c&&(f=Math.floor((a-this.Tb)/2),e=Math.floor((d-this.Sb)/2),a=this.Tb,d=this.Sb),2>c&&(this.yj=b),this.Tl=Math.round(a),this.Ej=Math.round(d),this.width=Math.round(a*b),this.height=Math.round(d*b),this.Ma=!0,this.sw?(this.W=this.width,this.V=this.height,
this.zd=!0):this.width<this.Tb&&this.height<this.Sb||1===c?(this.W=this.width,this.V=this.height,this.zd=!0):(this.W=this.Tb,this.V=this.Sb,this.zd=!1,2===c?(g=this.Tb/this.Sb,c=this.Fi/this.Ei,c<g?this.W=this.V*c:c>g&&(this.V=this.W/c)):3===c&&(g=this.Tb/this.Sb,c=this.Fi/this.Ei,c>g?this.W=this.V*c:c<g&&(this.V=this.W/c))),this.Bs&&!this.ob&&(jQuery(this.Bs).css({width:Math.round(a)+"px",height:Math.round(d)+"px","margin-left":Math.floor(f)+"px","margin-top":Math.floor(e)+"px"}),"undefined"!==typeof cr_is_preview&&
jQuery("#borderwrap").css({width:Math.round(a)+"px",height:Math.round(d)+"px"})),this.canvas&&(this.canvas.width=Math.round(a*b),this.canvas.height=Math.round(d*b),this.ne?(this.canvas.style.left=Math.floor(f)+"px",this.canvas.style.top=Math.floor(e)+"px",this.canvas.style.width=Math.round(a)+"px",this.canvas.style.height=Math.round(d)+"px"):this.mh&&!this.ob&&(this.canvas.style.width=Math.round(a)+"px",this.canvas.style.height=Math.round(d)+"px")),this.pc&&(this.pc.width=Math.round(a*b),this.pc.height=
Math.round(d*b),this.pc.style.width=this.Tl+"px",this.pc.style.height=this.Ej+"px"),this.F&&this.F.Ih(Math.round(a*b),Math.round(d*b)),this.Gc&&this.fb&&(this.fb.width=Math.round(a),this.fb.height=Math.round(d)),this.fb&&this.Nn(this.fb,this.ab),this.dw(),this.Mt&&!this.rf&&window.scrollTo(0,0)}};c.prototype.dw=function(){if(this.Zy&&0!==this.Mq){var a="portrait";2===this.Mq&&(a="landscape");try{screen.orientation&&screen.orientation.lock?screen.orientation.lock(a).catch(function(){}):screen.lockOrientation?
screen.lockOrientation(a):screen.webkitLockOrientation?screen.webkitLockOrientation(a):screen.mozLockOrientation?screen.mozLockOrientation(a):screen.msLockOrientation&&screen.msLockOrientation(a)}catch(d){console&&console.warn&&console.warn("Failed to lock orientation: ",d)}}};c.prototype.fC=function(){this.F.pz();this.iq=!0;var a,d,b;a=0;for(d=this.H.length;a<d;a++)b=this.H[a],b.Pk&&b.Pk()};c.prototype.gC=function(){this.iq=!1;var a,d,b;a=0;for(d=this.H.length;a<d;a++)b=this.H[a],b.jn&&b.jn()};c.prototype.gv=
function(){if(!this.ob){var a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||document.msFullscreenElement||this.Em)&&!this.rf?jQuery(this.canvas).offset():jQuery(this.canvas).position();a.position="absolute";jQuery(this.pc).css(a)}};var b=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame;c.prototype.setSuspended=function(a){var d;if(a&&!this.ck)for(va("[Construct 2] Suspending"),
this.ck=!0,-1!==this.Vq&&b&&b(this.Vq),-1!==this.Dr&&clearTimeout(this.Dr),a=0,d=this.jl.length;a<d;a++)this.jl[a](!0);else if(!a&&this.ck){va("[Construct 2] Resuming");this.ck=!1;this.Km=zb();this.qh=zb();a=this.Dk=this.mm=0;for(d=this.jl.length;a<d;a++)this.jl[a](!1);this.Xa(!1)}};c.prototype.qs=function(a){this.jl.push(a)};c.prototype.Of=function(a){return this.dn[a]};c.prototype.uk=function(a){a&&a.project||xa("Project model unavailable");a=a.project;this.name=a[0];this.Zs=a[1];this.Oc=a[12];
this.Tb=a[10];this.Sb=a[11];this.Yu=this.Tb/2;this.Zu=this.Sb/2;this.ob&&!this.ne&&(4<=a[12]||0===a[12])&&(va("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),this.Oc=3);this.Nr=a[18];this.tg=a[19];if(0===this.tg){var d=new Image;d.crossOrigin="anonymous";this.zv(d,"loading-logo.png");this.sg={Ym:d}}else if(4===this.tg){d=new Image;d.src="";var b=new Image;b.src="";var f=new Image;f.src="";var e=new Image;e.src="";var g=new Image;
g.src="";var k=new Image;k.src="";var c=new Image;c.src="";var l=new Image;l.src="";var n=new Image;n.src="";var h=new Image;h.src="";var u=new Image;u.src="";var m=new Image;m.src="";this.sg={Ym:[d,b,f,e],FC:[g,k,c,l],aE:[n,h,u,m]}}this.Lk=a[21];this.dn=$c();this.Xe=new F(this);d=0;for(b=a[2].length;d<b;d++)c=a[2][d],f=this.Of(c[0]),Zb(c,f.prototype),l=new f(this),l.Vn=c[1],l.lg=c[2],l.vF=c[5],l.Au=c[9],l.T&&l.T(),this.plugins.push(l);this.dn=$c();d=0;for(b=a[3].length;d<b;d++){c=a[3][d];g=this.Of(c[1]);
l=null;f=0;for(e=this.plugins.length;f<e;f++)if(this.plugins[f]instanceof g){l=this.plugins[f];break}n=new l.ya(l);n.name=c[0];n.N=c[2];n.Xp=c[3].slice(0);n.XD=c[3].length;n.az=c[4];n.JA=c[5];n.Aa=c[11];n.N?(n.vg=[],n.nf=this.Kj++,n.gb=null):(n.vg=null,n.nf=-1,n.gb=[]);n.gm=null;n.ki=null;n.Ss=null;n.nc=!1;n.jd=null;c[6]?(n.$n=c[6][0],n.ao=c[6][1],n.ml=c[6][2]):(n.$n=null,n.ao=0,n.ml=0);c[7]?n.gd=c[7]:n.gd=null;n.index=d;n.d=[];n.Xl=[];n.If=[new $b(n)];n.Ie=0;n.Pd=null;n.xz=0;n.gj=!0;n.lo=ac;n.Cp=
bc;n.UA=cc;n.X=dc;n.Uk=ec;n.Vi=fc;n.Cf=gc;n.om=hc;n.yp=nc;n.Bp=oc;n.hd=pc;n.Dp=qc;n.Pl=new Gb(this.Tb,this.Sb);n.El=!0;n.Fl=!1;n.S={};n.toString=rc;n.jb=[];f=0;for(e=c[8].length;f<e;f++){h=c[8][f];u=this.Of(h[1]);m=null;g=0;for(k=this.jb.length;g<k;g++)if(this.jb[g]instanceof u){m=this.jb[g];break}m||(m=new u(this),m.Aq=[],m.xh=new pa,m.T&&m.T(),this.jb.push(m),ad&&m instanceof ad&&(this.Mv=m));-1===m.Aq.indexOf(n)&&m.Aq.push(n);g=new m.ya(m,n);g.name=h[0];g.Aa=h[2];g.T();n.jb.push(g)}n.global=c[9];
n.dq=c[10];n.ja=[];f=0;for(e=c[12].length;f<e;f++)n.ja.push({id:c[12][f][0],name:c[12][f][1],Eb:-1,Zc:!1,Hb:!0,index:f});n.GF=c[13];this.Nr&&!n.N&&!n.dq&&l.lg||n.T();n.name&&(this.types[n.name]=n);this.H.push(n);l.Vn&&(f=new l.ka(n),f.uid=this.Lk++,f.jv=this.Du++,f.lh=0,f.Qj=sc,f.toString=tc,f.O=c[14],f.T(),n.d.push(f),this.Bf[f.uid.toString()]=f)}d=0;for(b=a[4].length;d<b;d++)for(g=a[4][d],k=this.H[g[0]],f=1,e=g.length;f<e;f++)c=this.H[g[f]],c.gb.push(k),k.vg.push(c);d=0;for(b=a[28].length;d<b;d++){g=
a[28][d];k=[];f=0;for(e=g.length;f<e;f++)k.push(this.H[g[f]]);f=0;for(e=k.length;f<e;f++)k[f].nc=!0,k[f].jd=k}if(0<this.Kj)for(d=0,b=this.H.length;d<b;d++)if(c=this.H[d],!c.N&&c.gb.length){c.gm=Array(this.Kj);c.ki=Array(this.Kj);c.Ss=Array(this.Kj);n=[];f=m=u=h=0;for(e=c.gb.length;f<e;f++)for(l=c.gb[f],c.gm[l.nf]=h,h+=l.XD,c.ki[l.nf]=u,u+=l.az,c.Ss[l.nf]=m,m+=l.JA,g=0,k=l.ja.length;g<k;g++)n.push(Ra({},l.ja[g]));c.ja=n.concat(c.ja);f=0;for(e=c.ja.length;f<e;f++)c.ja[f].index=f}d=0;for(b=a[5].length;d<
b;d++)c=a[5][d],f=new uc(this,c),this.Hi[f.name]=f,this.oe.push(f);d=0;for(b=a[6].length;d<b;d++)c=a[6][d],f=new vc(this,c),this.sp[f.name]=f,this.mf.push(f);d=0;for(b=this.mf.length;d<b;d++)this.mf[d].tb();d=0;for(b=this.mf.length;d<b;d++)this.mf[d].Jr();d=0;for(b=this.ho.length;d<b;d++)this.ho[d].tb();y(this.ho);this.Yy=a[7];this.Lj=a[8];this.Fd=a[9];this.yj=1;this.Zz=a[13];this.ab=a[14];this.Fs=a[15];this.WD=a[17];this.Mq=a[20];this.Zy=0<this.Mq;this.yC=a[22];this.zd=this.sw=a[23];this.Sz=a[24];
this.GC=a[25];this.Ya=a[27]&&!this.tf;this.Yn=Date.now();y(this.dn);this.AB()};var d=!1,f=0,k=[];c.prototype.TC=function(a,d){function b(){f--;e.ru()}var e=this;a.addEventListener("load",b);a.addEventListener("error",b);k.push([a,d]);this.ru()};c.prototype.ru=function(){for(var a;k.length&&100>f;)f++,a=k.shift(),this.zv(a[0],a[1])};c.prototype.Qr=function(a,b){a.cocoonLazyLoad=!0;a.onerror=function(b){d=a.ys=!0;console&&console.error&&console.error("Error loading image '"+a.src+"': ",b)};this.ne?
a.src=b:a.src||("undefined"!==typeof XAPKReader?XAPKReader.get(b,function(d){a.src=d},function(f){d=a.ys=!0;console&&console.error&&console.error("Error extracting image '"+b+"' from expansion file: ",f)}):(a.crossOrigin="anonymous",this.TC(a,b)));this.uj.push(a)};c.prototype.HA=function(a){var d,b;d=0;for(b=this.uj.length;d<b;d++)if(this.uj[d].qz===a)return this.uj[d];return null};var g=0,t=!1;c.prototype.mB=function(){this.Yh&&(g=this.Yh.yD(this.Yy))};c.prototype.ts=function(){var a=g,d=0,b=0,f=
!0,e,c,b=0;for(e=this.uj.length;b<e;b++){c=this.uj[b];var k=c.gp;if(!k||0>=k)k=5E4;a+=k;c.src&&(c.complete||c.loaded)&&!c.ys?d+=k:f=!1}f&&this.GC&&this.Yh&&(t||(this.Yh.ID(),t=!0),b=this.Yh.VA(),d+=b,b<g&&(f=!1));this.qe=0==a?1:d/a;return f};var N=!1;c.prototype.go=function(){if(this.fb||this.F){var a=this.fb||this.Nq;this.pc&&this.gv();var b=window.innerWidth,f=window.innerHeight;this.Fi===b&&this.Ei===f||this.setSize(b,f);this.qe=0;this.Vt=-1;var g=this;if(this.ts()&&(4!==this.tg||N))this.nB();
else{f=Date.now()-this.Yn;if(a){var c=this.width,k=this.height,b=this.devicePixelRatio;if(3>this.tg&&(this.Ud||500<=f&&this.Vt!=this.qe)){a.clearRect(0,0,c,k);var f=c/2,k=k/2,c=0===this.tg&&this.sg.Ym.complete,n=40*b,l=0,h=80*b,u;if(c){var m=this.sg.Ym,h=m.width*b;u=m.height*b;n=h/2;l=u/2;a.drawImage(m,Ja(f-n),Ja(k-l),h,u)}1>=this.tg?(f=Ja(f-n)+.5,k=Ja(k+(l+(c?12*b:0)))+.5,a.fillStyle=d?"red":"DodgerBlue",a.fillRect(f,k,Math.floor(h*this.qe),6*b),a.strokeStyle="black",a.strokeRect(f,k,h,6*b),a.strokeStyle=
"white",a.strokeRect(f-1*b,k-1*b,h+2*b,8*b)):2===this.tg&&(a.font=this.ne?"12pt ArialMT":"12pt Arial",a.fillStyle=d?"#f00":"#999",a.FF="middle",b=Math.round(100*this.qe)+"%",c=a.measureText?a.measureText(b):null,a.fillText(b,f-(c?c.width:0)/2,k));this.Vt=this.qe}else if(4===this.tg){this.Xz(a);e?e(function(){g.go()}):setTimeout(function(){g.go()},16);return}}setTimeout(function(){g.go()},this.Ud?10:100)}}};var O=-1,n="undefined"===typeof cr_is_preview?200:0,u=!0,S=!1,I=0,A=0,E="undefined"===typeof cr_is_preview?
3E3:0,X=null,w=null,C=0;c.prototype.Xz=function(a){if(!N){for(var b=Math.ceil(this.width),f=Math.ceil(this.height),e=this.sg.Ym,g=this.sg.FC,c=this.sg.aE,k=0;4>k;++k)if(!e[k].complete||!g[k].complete||!c[k].complete)return;0===C&&(O=Date.now());var k=Date.now(),l=!1,h=a,t,p;u||S?(a.clearRect(0,0,b,f),X&&X.width===b&&X.height===f||(X=document.createElement("canvas"),X.width=b,X.height=f,w=X.getContext("2d")),h=w,l=!0,u&&1===C&&(O=Date.now())):a.globalAlpha=1;h.fillStyle="#333333";h.fillRect(0,0,b,
f);256<this.Ej?(t=ab(.22*f,105,.6*b),p=.25*t,h.drawImage(m(g,t),.5*b-t/2,.2*f-p/2,t,p),p=t=Math.min(.395*f,.95*b),h.drawImage(m(e,t),.5*b-t/2,.485*f-p/2,t,p),t=ab(.22*f,105,.6*b),p=.25*t,h.drawImage(m(c,t),.5*b-t/2,.868*f-p/2,t,p),h.fillStyle="#3C3C3C",t=b,p=Math.max(.005*f,2),h.fillRect(0,.8*f-p/2,t,p),h.fillStyle=d?"red":"#E0FF65",t=b*this.qe,h.fillRect(.5*b-t/2,.8*f-p/2,t,p)):(p=t=.55*f,h.drawImage(m(e,t),.5*b-t/2,.45*f-p/2,t,p),h.fillStyle="#3C3C3C",t=b,p=Math.max(.005*f,2),h.fillRect(0,.85*f-
p/2,t,p),h.fillStyle=d?"red":"#E0FF65",t=b*this.qe,h.fillRect(.5*b-t/2,.85*f-p/2,t,p));l&&(u?a.globalAlpha=0===C?0:Math.min((k-O)/300,1):S&&(a.globalAlpha=Math.max(1-(k-A)/300,0)),a.drawImage(X,0,0,b,f));u&&300<=k-O&&2<=C&&(u=!1,I=k);!u&&k-I>=E&&!S&&1<=this.qe&&(S=!0,A=k);if(S&&k-A>=300+n||"undefined"!==typeof cr_is_preview&&1<=this.qe&&500>Date.now()-O)N=!0,S=u=!1,this.sg=w=X=null;++C}};c.prototype.nB=function(){this.pc&&(this.canvas.parentNode.removeChild(this.pc),this.pc=this.Nq=null);this.Yn=
Date.now();this.qh=zb();var a,d,b;if(this.Nr)for(a=0,d=this.H.length;a<d;a++)b=this.H[a],b.N||b.dq||!b.Qa.lg||b.T();else this.Bi=!1;a=0;for(d=this.oe.length;a<d;a++)this.oe[a].rz();2<=this.Oc&&(a=this.Tb/this.Sb,d=this.width/this.height,this.yj=2!==this.Oc&&d>a||2===this.Oc&&d<a?this.height/this.Sb:this.width/this.Tb);this.Zs?this.Hi[this.Zs].qr():this.oe[0].qr();this.Nr||(this.Vm=1,this.trigger(F.prototype.j.bs,null),window.C2_RegisterSW&&window.C2_RegisterSW());navigator.splashscreen&&navigator.splashscreen.hide&&
navigator.splashscreen.hide();a=0;for(d=this.H.length;a<d;a++)b=this.H[a],b.Lu&&b.Lu();document.hidden||document.webkitHidden||document.mozHidden||document.msHidden?window.cr_setSuspended(!0):this.Xa(!1);this.Gc&&AppMobi.webview.execute("onGameReady();")};c.prototype.Xa=function(a,d,b){if(this.Ra){var f=zb();if(b||!this.ck||a){a||(e?this.Vq=e(this.Zv):this.Dr=setTimeout(this.Zv,this.uf?1:16));d=d||f;var g=this.Oc;((b=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement)&&
!this.rf)||this.Em)&&0<this.mi&&(g=this.mi);if(0<g){var g=window.innerWidth,c=window.innerHeight;this.Fi===g&&this.Ei===c||this.setSize(g,c)}this.ob||(b?this.jm||(this.jm=!0):this.jm?(this.jm=!1,0===this.Oc&&this.setSize(Math.round(this.Ku/this.devicePixelRatio),Math.round(this.Ju/this.devicePixelRatio),!0)):(this.Ku=this.width,this.Ju=this.height));this.Bi&&(b=this.ts(),this.Vm=this.qe,b&&(this.Bi=!1,this.qe=1,this.trigger(F.prototype.j.bs,null),window.C2_RegisterSW&&window.C2_RegisterSW()));this.WB(d);
!this.Ma&&!this.Ud||this.iq||this.il||a||(this.Ma=!1,this.F?this.Dc():this.yd(),this.fl&&(this.canvas&&this.canvas.toDataURL&&(this.Lv=this.canvas.toDataURL(this.fl[0],this.fl[1]),window.cr_onSnapshot&&window.cr_onSnapshot(this.Lv),this.trigger(F.prototype.j.qx,null)),this.fl=null));this.uF||(this.Id++,this.fh++,this.mm++);this.Dk+=zb()-f}}};c.prototype.WB=function(a){var d,b,f,e,g,c,k,n;1E3<=a-this.qh&&(this.qh+=1E3,1E3<=a-this.qh&&(this.qh=a),this.vp=this.mm,this.mm=0,this.fp=this.Dk,this.Dk=0);
d=0;0!==this.Km&&(d=a-this.Km,0>d&&(d=0),this.$g=d/=1E3,.5<this.$g?this.$g=0:this.$g>1/this.uu&&(this.$g=1/this.uu));this.Km=a;this.bg=this.$g*this.Ig;this.yb.add(this.bg);this.Mf.add(d);a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement||this.Em)&&!this.rf;2<=this.Oc||a&&0<this.mi?(d=this.Tb/this.Sb,b=this.width/this.height,f=this.Oc,a&&0<this.mi&&(f=this.mi),this.yj=2!==f&&b>d||2===f&&b<d?this.height/this.Sb:this.width/this.Tb,this.Ra&&(this.Ra.ir(this.Ra.scrollX),
this.Ra.jr(this.Ra.scrollY))):this.yj=this.mh?this.devicePixelRatio:1;this.tc();this.Cd++;this.Xe.kD();this.Cd--;this.tc();this.Cd++;b=this.Hu.fe();a=0;for(d=b.length;a<d;a++)b[a].zF();a=0;for(d=this.H.length;a<d;a++)if(c=this.H[a],!c.N&&(c.jb.length||c.gb.length))for(b=0,f=c.d.length;b<f;b++)for(k=c.d[b],e=0,g=k.R.length;e<g;e++)k.R[e].Xa();a=0;for(d=this.H.length;a<d;a++)if(c=this.H[a],!c.N&&(c.jb.length||c.gb.length))for(b=0,f=c.d.length;b<f;b++)for(k=c.d[b],e=0,g=k.R.length;e<g;e++)n=k.R[e],n.EC&&
n.EC();b=this.Bq.fe();a=0;for(d=b.length;a<d;a++)b[a].Xa();this.Cd--;this.sB();for(a=0;this.Tg&&10>a++;)this.Qs(this.Tg);a=0;for(d=this.mf.length;a<d;a++)this.mf[a].Pp=!1;this.Ra.dh&&this.Ra.dh.Db();y(this.Gh);this.pq=!1;this.Cd++;a=0;for(d=this.H.length;a<d;a++)if(c=this.H[a],!c.N&&(c.jb.length||c.gb.length))for(b=0,f=c.d.length;b<f;b++)for(k=c.d[b],e=0,g=k.R.length;e<g;e++)n=k.R[e],n.nl&&n.nl();b=this.Iu.fe();a=0;for(d=b.length;a<d;a++)b[a].nl();this.Cd--};c.prototype.Ah=function(){var a,d,b,f,
e,g,c,k,n;a=0;for(d=this.H.length;a<d;a++)if(c=this.H[a],!c.N)for(b=0,f=c.d.length;b<f;b++)if(k=c.d[b],k.Ah&&k.Ah(),k.R)for(e=0,g=k.R.length;e<g;e++)n=k.R[e],n.Ah&&n.Ah()};c.prototype.Qs=function(a){var d=this.Ra;this.Ra.JD();var b,f,e;if(this.F)for(b=0,f=this.H.length;b<f;b++)e=this.H[b],e.N||!e.jo||e.global&&0!==e.d.length||-1!==a.Vj.indexOf(e)||e.jo();d==a&&y(this.Xe.fd);y(this.Gh);this.qv(!0);a.qr();this.qv(!1);this.pq=this.Ma=!0;this.tc()};c.prototype.qv=function(a){var d,b,f,e,g,c,k,n,l;d=0;
for(b=this.jb.length;d<b;d++)f=this.jb[d],a?f.Nk&&f.Nk():f.Ok&&f.Ok();d=0;for(b=this.H.length;d<b;d++)if(f=this.H[d],f.global||f.Qa.Vn)for(e=0,g=f.d.length;e<g;e++)if(c=f.d[e],a?c.Nk&&c.Nk():c.Ok&&c.Ok(),c.R)for(k=0,n=c.R.length;k<n;k++)l=c.R[k],a?l.Nk&&l.Nk():l.Ok&&l.Ok()};c.prototype.ol=function(a){this.Bq.add(a)};c.prototype.ni=function(a){return a&&-1!==a.Oi?this.$g*a.Oi:this.bg};c.prototype.yd=function(){this.Ra.yd(this.fb);this.Gc&&this.fb.present()};c.prototype.Dc=function(){this.Ya&&(this.ah=
1,this.Ra.Zg(this.F));this.Ra.Dc(this.F);this.F.IC()};c.prototype.Ko=function(a){a&&this.$l.push(a)};c.prototype.bD=function(a){$a(this.$l,a)};c.prototype.pi=function(a){a=a.toString();return this.Bf.hasOwnProperty(a)?this.Bf[a]:null};var V=[];c.prototype.Ze=function(a){var d,b;d=a.type.name;var f=null;if(this.Xg.hasOwnProperty(d)){if(f=this.Xg[d],f.contains(a))return}else f=V.length?V.pop():new pa,this.Xg[d]=f;f.add(a);this.hg=!0;if(a.nc)for(d=0,b=a.siblings.length;d<b;d++)this.Ze(a.siblings[d]);
this.bq&&f.rj.push(a);this.$p||(this.Cd++,this.trigger(Object.getPrototypeOf(a.type.Qa).j.Bo,a),this.Cd--)};c.prototype.tc=function(){if(this.hg){var a,d,b,f,e,g;this.bq=!0;b=0;for(e=this.le.length;b<e;++b)for(a=this.le[b],d=a.type,d.d.push(a),f=0,g=d.gb.length;f<g;++f)d.gb[f].d.push(a),d.gb[f].gj=!0;y(this.le);this.jx();yb(this.Xg);this.hg=this.bq=!1}};c.prototype.jx=function(){for(var a in this.Xg)this.Xg.hasOwnProperty(a)&&this.Dw(this.Xg[a])};c.prototype.Dw=function(a){var d=a.fe(),b=d[0].type,
f,e,g,c,k,n;Ab(b.d,a);b.gj=!0;0===b.d.length&&(b.Fl=!1);f=0;for(e=b.gb.length;f<e;++f)n=b.gb[f],Ab(n.d,a),n.gj=!0;f=0;for(e=this.Xe.fd.length;f<e;++f)if(k=this.Xe.fd[f],k.Qc.hasOwnProperty(b.index)&&Ab(k.Qc[b.index].qf,a),!b.N)for(g=0,c=b.gb.length;g<c;++g)n=b.gb[g],k.Qc.hasOwnProperty(n.index)&&Ab(k.Qc[n.index].qf,a);if(k=d[0].n){if(k.Ld)for(g=k.d,f=0,e=g.length;f<e;++f)c=g[f],a.contains(c)&&(c.wa(),k.qc.update(c,c.ad,null),c.ad.set(0,0,-1,-1));Ab(k.d,a);k.al(0)}for(f=0;f<d.length;++f)this.Cw(d[f],
b);a.clear();V.push(a);this.Ma=!0};c.prototype.Cw=function(a,d){var b,f,e;b=0;for(f=this.$l.length;b<f;++b)this.$l[b](a);a.Zf&&d.Pl.update(a,a.Zf,null);(b=a.n)&&b.Yi(a,!0);if(a.R)for(b=0,f=a.R.length;b<f;++b)e=a.R[b],e.xg&&e.xg(),e.behavior.xh.remove(a);this.Hu.remove(a);this.Bq.remove(a);this.Iu.remove(a);a.xg&&a.xg();this.Bf.hasOwnProperty(a.uid.toString())&&delete this.Bf[a.uid.toString()];this.en--;100>d.Xl.length&&d.Xl.push(a)};c.prototype.hp=function(a,d,b,f){if(a.N){var e=Ja(Math.random()*
a.vg.length);return this.hp(a.vg[e],d,b,f)}return a.Pd?this.$f(a.Pd,d,!1,b,f,!1):null};var W=[];c.prototype.$f=function(a,d,b,f,e,g){var c,k,n,l;if(!a)return null;var h=this.H[a[1]],u=h.Qa.lg;if(this.Bi&&u&&!h.dq||u&&!this.F&&11===a[0][11])return null;var m=d;u||(d=null);var t;h.Xl.length?(t=h.Xl.pop(),t.td=!0,h.Qa.ka.call(t,h)):(t=new h.Qa.ka(h),t.td=!1);!b||g||this.Bf.hasOwnProperty(a[2].toString())?t.uid=this.Lk++:t.uid=a[2];this.Bf[t.uid.toString()]=t;t.jv=this.Du++;t.lh=h.d.length;c=0;for(k=
this.le.length;c<k;++c)this.le[c].type===h&&t.lh++;t.Qj=sc;t.toString=tc;n=a[3];if(t.td)yb(t.S);else{t.S={};if("undefined"!==typeof cr_is_preview)for(t.Bt=[],t.Bt.length=n.length,c=0,k=n.length;c<k;c++)t.Bt[c]=n[c][1];t.Ob=[];t.Ob.length=n.length}c=0;for(k=n.length;c<k;c++)t.Ob[c]=n[c][0];if(u){var p=a[0];t.x=ya(f)?p[0]:f;t.y=ya(e)?p[1]:e;t.z=p[2];t.width=p[3];t.height=p[4];t.depth=p[5];t.k=p[6];t.opacity=p[7];t.Mb=p[8];t.Nb=p[9];t.uc=p[10];c=p[11];!this.F&&h.ja.length&&(t.uc=c);t.Bj=Ib(t.uc);this.J&&
Kb(t,t.uc,this.J);if(t.td){c=0;for(k=p[12].length;c<k;c++)for(n=0,l=p[12][c].length;n<l;n++)t.mb[c][n]=p[12][c][n];t.Ua.set(0,0,0,0);t.Zf.set(0,0,-1,-1);t.ad.set(0,0,-1,-1);t.xc.ej(t.Ua);y(t.Qo)}else{t.mb=p[12].slice(0);c=0;for(k=t.mb.length;c<k;c++)t.mb[c]=p[12][c].slice(0);t.Ha=[];t.Rf=[];t.Rf.length=h.ja.length;t.Ua=new Na(0,0,0,0);t.Zf=new Na(0,0,-1,-1);t.ad=new Na(0,0,-1,-1);t.xc=new Oa;t.Qo=[];t.U=wc;t.Py=xc;t.ic=yc;t.wa=zc;t.lw=Ac;t.Mr=Bc;t.Rd=Cc}t.Jd=!1;t.ND=0;t.MD=0;t.LD=null;14===p.length&&
(t.Jd=!0,t.ND=p[13][0],t.MD=p[13][1],t.LD=p[13][2]);c=0;for(k=h.ja.length;c<k;c++)t.Rf[c]=!0;t.Gf=!0;t.ze=Dc;t.ze();t.mw=!!t.Ha.length;t.Ll=!0;t.To=!0;h.El=!0;t.visible=!0;t.Oi=-1;t.n=d;t.Ae=d.d.length;t.ah=0;"undefined"===typeof t.na&&(t.na=null);this.Ma=t.hf=!0}var E;y(W);c=0;for(k=h.gb.length;c<k;c++)W.push.apply(W,h.gb[c].jb);W.push.apply(W,h.jb);if(t.td)for(c=0,k=W.length;c<k;c++){var N=W[c];E=t.R[c];E.td=!0;N.behavior.ka.call(E,N,t);p=a[4][c];n=0;for(l=p.length;n<l;n++)E.O[n]=p[n];E.T();N.behavior.xh.add(t)}else for(t.R=
[],c=0,k=W.length;c<k;c++)N=W[c],E=new N.behavior.ka(N,t),E.td=!1,E.O=a[4][c].slice(0),E.T(),t.R.push(E),N.behavior.xh.add(t);p=a[5];if(t.td)for(c=0,k=p.length;c<k;c++)t.O[c]=p[c];else t.O=p.slice(0);this.le.push(t);this.hg=!0;d&&(d.xj(t,!0),1!==d.Ed||1!==d.Zd)&&(h.Fl=!0);this.en++;if(h.nc){if(t.nc=!0,t.td?y(t.siblings):t.siblings=[],!b&&!g){c=0;for(k=h.jd.length;c<k;c++)if(h.jd[c]!==h){if(!h.jd[c].Pd)return null;t.siblings.push(this.$f(h.jd[c].Pd,m,!1,u?t.x:f,u?t.y:e,!0))}c=0;for(k=t.siblings.length;c<
k;c++)for(t.siblings[c].siblings.push(t),n=0;n<k;n++)c!==n&&t.siblings[c].siblings.push(t.siblings[n])}}else t.nc=!1,t.siblings=null;t.T();c=0;for(k=t.R.length;c<k;c++)t.R[c].hv&&t.R[c].hv();return t};c.prototype.pm=function(a){var d,b;d=0;for(b=this.Ra.P.length;d<b;d++){var f=this.Ra.P[d];if(Wb(f.name,a))return f}return null};c.prototype.oi=function(a){a=Ja(a);0>a&&(a=0);a>=this.Ra.P.length&&(a=this.Ra.P.length-1);return this.Ra.P[a]};c.prototype.Ep=function(a){return za(a)?this.oi(a):this.pm(a.toString())};
c.prototype.Yo=function(a){var d,b;d=0;for(b=a.length;d<b;d++)a[d].X().ea=!0};c.prototype.Uk=function(a){var d,b;d=0;for(b=a.length;d<b;d++)a[d].Uk()};c.prototype.Vi=function(a){var d,b;d=0;for(b=a.length;d<b;d++)a[d].Vi()};c.prototype.Cf=function(a){var d,b;d=0;for(b=a.length;d<b;d++)a[d].Cf()};c.prototype.jw=function(a){if(a.El){var d,b,f=a.d;d=0;for(b=f.length;d<b;++d)f[d].Mr();f=this.le;d=0;for(b=f.length;d<b;++d)f[d].type===a&&f[d].Mr();a.El=!1}};c.prototype.zp=function(a,d,b,f){var e,g,c=a?
1!==a.Ed||1!==a.Zd:!1;if(d.N)for(a=0,e=d.vg.length;a<e;++a)g=d.vg[a],c||g.Fl?Wa(f,g.d):(this.jw(g),g.Pl.Fn(b,f));else c||d.Fl?Wa(f,d.d):(this.jw(d),d.Pl.Fn(b,f))};c.prototype.$A=function(a,d,b,f){var e,g;e=0;for(g=d.length;e<g;++e)this.zp(a,d[e],b,f)};c.prototype.ZA=function(a,d,b){var f=this.Mv;f&&this.$A(a,f.Aq,d,b)};c.prototype.Vv=function(a,d,b,f){var e=a.X(),g,c,k,n,l=this.hb().lb.qd,h,t,u;if(e.ea)for(f||(e.ea=!1,y(e.d)),g=0,n=a.d.length;g<n;g++)if(k=a.d[g],k.wa(),h=k.n.Ib(d,b,!0),t=k.n.Ib(d,
b,!1),k.ic(h,t)){if(f)return!1;e.d.push(k)}else l&&e.ca.push(k);else{c=0;u=l?e.ca:e.d;g=0;for(n=u.length;g<n;g++)if(k=u[g],k.wa(),h=k.n.Ib(d,b,!0),t=k.n.Ib(d,b,!1),k.ic(h,t)){if(f)return!1;l?e.d.push(k):(e.d[c]=e.d[g],c++)}f||(u.length=c)}a.hd();return f?!0:e.Op()};c.prototype.Hg=function(a,d){if(!(a&&d&&a!==d&&a.hf&&d.hf))return!1;a.wa();d.wa();var b=a.n,f=d.n,e,g,c,k,n,l,h,t;if(b===f||b.Ed===f.Ed&&f.Zd===f.Zd&&b.scale===f.scale&&b.k===f.k&&b.Be===f.Be){if(!a.Ua.BB(d.Ua)||!a.xc.Dt(d.xc)||a.Jd&&d.Jd)return!1;
if(a.Jd)return this.Wv(a,d);if(d.Jd)return this.Wv(d,a);h=a.na&&!a.na.nh();e=d.na&&!d.na.nh();if(!h&&!e)return!0;h?(a.na.Sg(a.width,a.height,a.k),h=a.na):(this.ve.dj(a.xc,a.x,a.y,a.width,a.height),h=this.ve);e?(d.na.Sg(d.width,d.height,d.k),t=d.na):(this.ve.dj(d.xc,d.x,d.y,d.width,d.height),t=this.ve);return h.Wj(t,d.x-a.x,d.y-a.y)}h=a.na&&!a.na.nh();e=d.na&&!d.na.nh();h?(a.na.Sg(a.width,a.height,a.k),this.ve.Ev(a.na)):this.ve.dj(a.xc,a.x,a.y,a.width,a.height);h=this.ve;e?(d.na.Sg(d.width,d.height,
d.k),this.Ar.Ev(d.na)):this.Ar.dj(d.xc,d.x,d.y,d.width,d.height);t=this.Ar;e=0;for(g=h.$d;e<g;e++)c=2*e,k=c+1,n=h.Cb[c],l=h.Cb[k],h.Cb[c]=b.$a(n+a.x,l+a.y,!0),h.Cb[k]=b.$a(n+a.x,l+a.y,!1);h.wa();e=0;for(g=t.$d;e<g;e++)c=2*e,k=c+1,n=t.Cb[c],l=t.Cb[k],t.Cb[c]=f.$a(n+d.x,l+d.y,!0),t.Cb[k]=f.$a(n+d.x,l+d.y,!1);t.wa();return h.Wj(t,0,0)};var la=new Oa;new Na(0,0,0,0);var ga=[];c.prototype.Wv=function(a,d){var b,f,e,g,c=d.Ua,k=a.x,n=a.y;a.tF(c,ga);var l=d.na&&!d.na.nh();b=0;for(f=ga.length;b<f;++b)if(e=
ga[b],g=e.UC,c.CB(g,k,n)&&(la.ej(g),la.offset(k,n),la.Dt(d.xc)))if(l)if(d.na.Sg(d.width,d.height,d.k),e.Bg){if(e.Bg.Wj(d.na,d.x-(k+g.left),d.y-(n+g.top)))return y(ga),!0}else{if(this.ve.dj(la,0,0,g.right-g.left,g.bottom-g.top),this.ve.Wj(d.na,d.x,d.y))return y(ga),!0}else if(e.Bg){if(this.ve.dj(d.xc,0,0,d.width,d.height),e.Bg.Wj(this.ve,-(k+g.left),-(n+g.top)))return y(ga),!0}else return y(ga),!0;y(ga);return!1};c.prototype.ew=function(a,d){if(!d)return!1;var b,f,e,g,c;b=0;for(f=a.jb.length;b<f;b++)if(a.jb[b].behavior instanceof
d)return!0;if(!a.N)for(b=0,f=a.gb.length;b<f;b++)for(c=a.gb[b],e=0,g=c.jb.length;e<g;e++)if(c.jb[e].behavior instanceof d)return!0;return!1};c.prototype.Hr=function(a){return this.ew(a,Sc.TE)};c.prototype.Ir=function(a){return this.ew(a,Sc.WE)};var T=[];c.prototype.Ph=function(a){var d,b,f;a.wa();this.ZA(a.n,a.Ua,T);d=0;for(b=T.length;d<b;++d)if(f=T[d],f.S.solidEnabled&&this.Hg(a,f))return y(T),f;y(T);return null};c.prototype.NC=function(a,d,b,f){f=f||50;var e=a.x,g=a.y,c,k=null,n=null;for(c=0;c<
f;c++)if(a.x=e+d*c,a.y=g+b*c,a.U(),!this.Hg(a,k)&&((k=this.Ph(a))&&(n=k),!k&&!k))return n&&this.LC(a,d,b,n),!0;a.x=e;a.y=g;a.U();return!1};c.prototype.LC=function(a,d,b,f){var e=2,g,c=!1;g=!1;for(var k=a.x,n=a.y;16>=e;)g=1/e,e*=2,a.x+=d*g*(c?1:-1),a.y+=b*g*(c?1:-1),a.U(),this.Hg(a,f)?g=c=!0:(g=c=!1,k=a.x,n=a.y);g&&(a.x=k,a.y=n,a.U())};c.prototype.OC=function(a){var d=0,b=a.x,f=a.y,e=0,g=0,c=0,k=this.Ph(a);if(k){for(;100>=d;){switch(e){case 0:g=0;c=-1;d++;break;case 1:g=1;c=-1;break;case 2:g=1;c=0;
break;case 3:c=g=1;break;case 4:g=0;c=1;break;case 5:g=-1;c=1;break;case 6:g=-1;c=0;break;case 7:c=g=-1}e=(e+1)%8;a.x=Ja(b+g*d);a.y=Ja(f+c*d);a.U();if(!this.Hg(a,k)&&(k=this.Ph(a),!k))return}a.x=b;a.y=f;a.U()}};c.prototype.WC=function(a,d){a.hf&&d.hf&&this.Gh.push([a,d])};c.prototype.Oy=function(a,d,b){var f,e,g;f=0;for(e=this.Gh.length;f<e;++f){g=this.Gh[f];if(g[0]===a)g=g[1];else if(g[1]===a)g=g[0];else continue;if(d.N){if(-1===d.vg.indexOf(d))continue}else if(g.type!==d)continue;-1===b.indexOf(g)&&
b.push(g)}};c.prototype.gz=function(a,d){var b,f,e;b=0;for(f=this.Gh.length;b<f;b++)if(e=this.Gh[b],e[0]===a&&e[1]===d||e[0]===d&&e[1]===a)return!0;return!1};c.prototype.ez=function(a,d,b){var f=a.x,e=a.y,g=Ga(10,nb(d,b,f,e)),c=hb(d,b,f,e),k=this.Ph(a);if(!k)return eb(c+Ia);var n=k,l,h,t,u,m=bb(5);for(l=1;36>l;l++)if(h=c-l*m,a.x=d+Math.cos(h)*g,a.y=b+Math.sin(h)*g,a.U(),!this.Hg(a,n)&&(n=this.Ph(a),!n)){t=h;break}36===l&&(t=eb(c+Ia));n=k;for(l=1;36>l;l++)if(h=c+l*m,a.x=d+Math.cos(h)*g,a.y=b+Math.sin(h)*
g,a.U(),!this.Hg(a,n)&&(n=this.Ph(a),!n)){u=h;break}36===l&&(u=eb(c+Ia));a.x=f;a.y=e;a.U();if(u===t)return u;a=ib(u,t)/2;a=lb(u,t)?eb(t+a+Ia):eb(u+a);t=Math.cos(c);c=Math.sin(c);u=Math.cos(a);a=Math.sin(a);d=t*u+c*a;return hb(0,0,t-2*d*u,c-2*d*a)};var G=-1;c.prototype.trigger=function(a,d,b){if(!this.Ra)return!1;var f=this.Ra.dh;if(!f)return!1;var e=!1,g,c,k;G++;var n=f.lp;c=0;for(k=n.length;c<k;++c)g=this.bw(a,d,n[c],b),e=e||g;g=this.bw(a,d,f,b);G--;return e||g};c.prototype.bw=function(a,d,b,f){var e=
!1,g,c,k,n;if(d)for(k=this.Fr(a,d,d.type.name,b,f),e=e||k,n=d.type.gb,g=0,c=n.length;g<c;++g)k=this.Fr(a,d,n[g].name,b,f),e=e||k;else k=this.Fr(a,d,"system",b,f),e=e||k;return e};c.prototype.Fr=function(a,d,b,f,e){var g,c=!1,k=!1,k="undefined"!==typeof e,n=(k?f.Us:f.cw)[b];if(!n)return c;var l=null;f=0;for(g=n.length;f<g;++f)if(n[f].method==a){l=n[f].Jj;break}if(!l)return c;var h;k?h=l[e]:h=l;if(!h)return null;f=0;for(g=h.length;f<g;f++)a=h[f][0],e=h[f][1],k=this.EA(d,b,a,e),c=c||k;return c};c.prototype.EA=
function(a,d,b,f){var e,g,c=!1;this.Gr++;var k=this.hb().lb;k&&this.Uk(k.Gg);var n=1<this.Gr;this.Uk(b.Gg);n&&this.MC();var l=this.En(b);l.lb=b;a&&(e=this.types[d].X(),e.ea=!1,y(e.d),e.d[0]=a,this.types[d].hd());a=!0;if(b.parent){d=l.Uv;for(e=b.parent;e;)d.push(e),e=e.parent;d.reverse();e=0;for(g=d.length;e<g;e++)if(!d[e].mD()){a=!1;break}}a&&(this.fh++,b.qd?b.lD(f):b.Db(),c=c||l.ph);this.wn();n&&this.CC();this.Cf(b.Gg);k&&this.Cf(k.Gg);this.hg&&0===this.Cd&&0===G&&!this.fq&&this.tc();this.Gr--;return c};
c.prototype.pf=function(){var a=this.hb();return a.lb.Jb[a.ub]};c.prototype.GB=function(){return 0===this.hb().ub};c.prototype.NA=function(){var a=this.hb();return a.lb.Md[a.Tc]};c.prototype.MC=function(){this.Xm++;this.Xm>=this.vq.length&&this.vq.push([])};c.prototype.CC=function(){this.Xm--};c.prototype.it=function(){return this.vq[this.Xm]};c.prototype.En=function(a){this.em++;this.em>=this.rp.length&&this.rp.push(new Ec);var d=this.hb();d.reset(a);return d};c.prototype.wn=function(){this.em--};
c.prototype.hb=function(){return this.rp[this.em]};c.prototype.lv=function(){this.Fk++;this.Fk>=this.Ek.length&&this.Ek.push(ia({name:void 0,index:0,Gb:!1}));var a=this.jt();a.name=void 0;a.index=0;a.Gb=!1;return a};c.prototype.dv=function(){this.Fk--};c.prototype.jt=function(){return this.Ek[this.Fk]};c.prototype.kt=function(a,d){for(var b,f,e,g,c,k;d;){b=0;for(f=d.de.length;b<f;b++)if(k=d.de[b],k instanceof Fc&&Wb(a,k.name))return k;d=d.parent}b=0;for(f=this.mf.length;b<f;b++)for(c=this.mf[b],e=
0,g=c.eg.length;e<g;e++)if(k=c.eg[e],k instanceof Fc&&Wb(a,k.name))return k;return null};c.prototype.mt=function(a){var d,b;d=0;for(b=this.oe.length;d<b;d++)if(this.oe[d].Aa===a)return this.oe[d];return null};c.prototype.rm=function(a){var d,b;d=0;for(b=this.H.length;d<b;d++)if(this.H[d].Aa===a)return this.H[d];return null};c.prototype.PA=function(a){var d,b;d=0;for(b=this.Uf.length;d<b;d++)if(this.Uf[d].Aa===a)return this.Uf[d];return null};c.prototype.Bz=function(a,d){this.fl=[a,d];this.Ma=!0};
c.prototype.sB=function(){var a=this,d=this.hr,b=this.vf,f=this.Sm,e=!1;this.Jv&&(e=!0,d="__c2_continuouspreview",this.Jv=!1);if(d.length){this.tc();b=this.qD();if(h()&&!this.Ud)q(d,b,function(){va("Saved state to IndexedDB storage ("+b.length+" bytes)");a.vf=b;a.trigger(F.prototype.j.Do,null);a.vf="";e&&l()},function(f){try{localStorage.setItem("__c2save_"+d,b),va("Saved state to WebStorage ("+b.length+" bytes)"),a.vf=b,a.trigger(F.prototype.j.Do,null),a.vf="",e&&l()}catch(g){va("Failed to save game state: "+
f+"; "+g),a.trigger(F.prototype.j.gs,null)}});else try{localStorage.setItem("__c2save_"+d,b),va("Saved state to WebStorage ("+b.length+" bytes)"),a.vf=b,this.trigger(F.prototype.j.Do,null),a.vf="",e&&l()}catch(g){va("Error saving to WebStorage: "+g),a.trigger(F.prototype.j.gs,null)}this.Sm=this.hr="";this.Rb=null}if(f.length){if(h()&&!this.Ud)r(f,function(d){d?(a.Rb=d,va("Loaded state from IndexedDB storage ("+a.Rb.length+" bytes)")):(a.Rb=localStorage.getItem("__c2save_"+f)||"",va("Loaded state from WebStorage ("+
a.Rb.length+" bytes)"));a.il=!1;a.Rb||(a.Rb=null,a.trigger(F.prototype.j.zl,null))},function(){a.Rb=localStorage.getItem("__c2save_"+f)||"";va("Loaded state from WebStorage ("+a.Rb.length+" bytes)");a.il=!1;a.Rb||(a.Rb=null,a.trigger(F.prototype.j.zl,null))});else{try{this.Rb=localStorage.getItem("__c2save_"+f)||"",va("Loaded state from WebStorage ("+this.Rb.length+" bytes)")}catch(c){this.Rb=null}this.il=!1;a.Rb||(a.Rb=null,a.trigger(F.prototype.j.zl,null))}this.hr=this.Sm=""}null!==this.Rb&&(this.tc(),
this.VB(this.Rb)?(this.vf=this.Rb,this.trigger(F.prototype.j.xx,null),this.vf=""):a.trigger(F.prototype.j.zl,null),this.Rb=null)};c.prototype.qD=function(){var d,b,f,e,g,c,k,n={c2save:!0,version:1,rt:{time:this.yb.ma,walltime:this.Mf.ma,timescale:this.Ig,tickcount:this.Id,execcount:this.fh,next_uid:this.Lk,running_layout:this.Ra.Aa,start_time_offset:Date.now()-this.Yn},types:{},layouts:{},events:{groups:{},cnds:{},acts:{},vars:{}}};d=0;for(b=this.H.length;d<b;d++)if(g=this.H[d],!g.N&&!this.Hr(g)){c=
{instances:[]};xb(g.S)&&(c.ex=a(g.S));f=0;for(e=g.d.length;f<e;f++)c.instances.push(this.fr(g.d[f]));n.types[g.Aa.toString()]=c}d=0;for(b=this.oe.length;d<b;d++)f=this.oe[d],n.layouts[f.Aa.toString()]=f.gc();e=n.events.groups;d=0;for(b=this.Uf.length;d<b;d++)f=this.Uf[d],e[f.Aa.toString()]=this.Sj[f.Rj].qi;b=n.events.cnds;for(k in this.Yf)this.Yf.hasOwnProperty(k)&&(d=this.Yf[k],xb(d.S)&&(b[k]={ex:a(d.S)}));b=n.events.acts;for(k in this.Sf)this.Sf.hasOwnProperty(k)&&(d=this.Sf[k],xb(d.S)&&(b[k]={ex:a(d.S)}));
b=n.events.vars;for(k in this.sj)this.sj.hasOwnProperty(k)&&(d=this.sj[k],d.Hm||d.parent&&!d.fk||(b[k]=d.data));n.system=this.Xe.gc();return JSON.stringify(n)};c.prototype.nv=function(){var a,d,b,f,e,g;this.Bf={};a=0;for(d=this.H.length;a<d;a++)if(b=this.H[a],!b.N)for(f=0,e=b.d.length;f<e;f++)g=b.d[f],this.Bf[g.uid.toString()]=g};c.prototype.VB=function(a){var d;try{d=JSON.parse(a)}catch(b){return!1}if(!d.c2save||1<d.version)return!1;this.$j=!0;a=d.rt;this.yb.reset();this.yb.ma=a.time;this.Mf.reset();
this.Mf.ma=a.walltime||0;this.Ig=a.timescale;this.Id=a.tickcount;this.fh=a.execcount;this.Yn=Date.now()-a.start_time_offset;var f=a.running_layout;if(f!==this.Ra.Aa)if(f=this.mt(f))this.Qs(f);else return;var e,g,c,k,n,l,h;l=d.types;for(g in l)if(l.hasOwnProperty(g)&&(k=this.rm(parseInt(g,10)))&&!k.N&&!this.Hr(k)){l[g].ex?k.S=l[g].ex:yb(k.S);n=k.d;c=l[g].instances;f=0;for(e=Ha(n.length,c.length);f<e;f++)this.Tm(n[f],c[f]);f=c.length;for(e=n.length;f<e;f++)this.Ze(n[f]);f=n.length;for(e=c.length;f<
e;f++){n=null;if(k.Qa.lg&&(n=this.Ra.qm(c[f].w.l),!n))continue;n=this.$f(k.Pd,n,!1,0,0,!0);this.Tm(n,c[f])}k.gj=!0}this.tc();this.nv();e=d.layouts;for(g in e)e.hasOwnProperty(g)&&(f=this.mt(parseInt(g,10)))&&f.Ic(e[g]);e=d.events.groups;for(g in e)e.hasOwnProperty(g)&&(f=this.PA(parseInt(g,10)))&&this.Sj[f.Rj]&&this.Sj[f.Rj].yv(e[g]);f=d.events.cnds;for(g in this.Yf)this.Yf.hasOwnProperty(g)&&(f.hasOwnProperty(g)?this.Yf[g].S=f[g].ex:this.Yf[g].S={});f=d.events.acts;for(g in this.Sf)this.Sf.hasOwnProperty(g)&&
(f.hasOwnProperty(g)?this.Sf[g].S=f[g].ex:this.Sf[g].S={});f=d.events.vars;for(g in f)f.hasOwnProperty(g)&&this.sj.hasOwnProperty(g)&&(this.sj[g].data=f[g]);this.Lk=a.next_uid;this.$j=!1;f=0;for(e=this.im.length;f<e;++f)n=this.im[f],this.trigger(Object.getPrototypeOf(n.type.Qa).j.Pf,n);y(this.im);this.Xe.Ic(d.system);f=0;for(e=this.H.length;f<e;f++)if(k=this.H[f],!k.N&&!this.Hr(k))for(d=0,g=k.d.length;d<g;d++){n=k.d[d];if(k.nc)for(l=n.Qj(),y(n.siblings),a=0,c=k.jd.length;a<c;a++)h=k.jd[a],k!==h&&
n.siblings.push(h.d[l]);n.Ce&&n.Ce();if(n.R)for(a=0,c=n.R.length;a<c;a++)l=n.R[a],l.Ce&&l.Ce()}return this.Ma=!0};c.prototype.fr=function(d,b){var f,e,g,c,k;c=d.type;g=c.Qa;var n={};b?n.c2=!0:n.uid=d.uid;xb(d.S)&&(n.ex=a(d.S));if(d.Ob&&d.Ob.length)for(n.ivs={},f=0,e=d.Ob.length;f<e;f++)n.ivs[d.type.Xp[f].toString()]=d.Ob[f];if(g.lg){g={x:d.x,y:d.y,w:d.width,h:d.height,l:d.n.Aa,zi:d.Rd()};0!==d.k&&(g.a=d.k);1!==d.opacity&&(g.o=d.opacity);.5!==d.Mb&&(g.hX=d.Mb);.5!==d.Nb&&(g.hY=d.Nb);0!==d.uc&&(g.bm=
d.uc);d.visible||(g.v=d.visible);d.hf||(g.ce=d.hf);-1!==d.Oi&&(g.mts=d.Oi);if(c.ja.length)for(g.fx=[],f=0,e=c.ja.length;f<e;f++)k=c.ja[f],g.fx.push({name:k.name,active:d.Rf[k.index],params:d.mb[k.index]});n.w=g}if(d.R&&d.R.length)for(n.behs={},f=0,e=d.R.length;f<e;f++)c=d.R[f],c.gc&&(n.behs[c.type.Aa.toString()]=c.gc());d.gc&&(n.data=d.gc());return n};c.prototype.RA=function(a,d){var b,f;b=0;for(f=a.Xp.length;b<f;b++)if(a.Xp[b]===d)return b;return-1};c.prototype.MA=function(a,d){var b,f;b=0;for(f=
a.R.length;b<f;b++)if(a.R[b].type.Aa===d)return b;return-1};c.prototype.Tm=function(a,d,b){var f,e,g,c,k;k=a.type;var n=k.Qa;if(b){if(!d.c2)return}else a.uid=d.uid;d.ex?a.S=d.ex:yb(a.S);if(e=d.ivs)for(f in e)e.hasOwnProperty(f)&&(g=this.RA(k,parseInt(f,10)),0>g||g>=a.Ob.length||(c=e[f],null===c&&(c=NaN),a.Ob[g]=c));if(n.lg){g=d.w;a.n.Aa!==g.l&&(e=a.n,a.n=this.Ra.qm(g.l),a.n?(e.Yi(a,!0),a.n.xj(a,!0),a.U(),a.n.al(0)):(a.n=e,b||this.Ze(a)));a.x=g.x;a.y=g.y;a.width=g.w;a.height=g.h;a.Ae=g.zi;a.k=g.hasOwnProperty("a")?
g.a:0;a.opacity=g.hasOwnProperty("o")?g.o:1;a.Mb=g.hasOwnProperty("hX")?g.hX:.5;a.Nb=g.hasOwnProperty("hY")?g.hY:.5;a.visible=g.hasOwnProperty("v")?g.v:!0;a.hf=g.hasOwnProperty("ce")?g.ce:!0;a.Oi=g.hasOwnProperty("mts")?g.mts:-1;a.uc=g.hasOwnProperty("bm")?g.bm:0;a.Bj=Ib(a.uc);this.J&&Kb(a,a.uc,this.J);a.U();if(g.hasOwnProperty("fx"))for(b=0,e=g.fx.length;b<e;b++)c=k.Bp(g.fx[b].name),0>c||(a.Rf[c]=g.fx[b].active,a.mb[c]=g.fx[b].params);a.ze()}if(k=d.behs)for(f in k)k.hasOwnProperty(f)&&(b=this.MA(a,
parseInt(f,10)),0>b||a.R[b].Ic(k[f]));d.data&&a.Ic(d.data)};c.prototype.Vs=function(a,d,b){window.resolveLocalFileSystemURL(cordova.file.applicationDirectory+"www/"+a,function(a){a.file(d,b)},b)};c.prototype.FA=function(a,d){this.Vs("data.js",function(b){var f=new FileReader;f.onload=function(d){a(d.target.result)};f.onerror=d;f.readAsText(b)},d)};var sa=[],ta=0;c.prototype.yq=function(){if(sa.length&&!(8<=ta)){ta++;var a=sa.shift();this.Ez(a.filename,a.KD,a.bA)}};c.prototype.Ws=function(a,d,b){var f=
this;sa.push({filename:a,KD:function(a){ta--;f.yq();d(a)},bA:function(a){ta--;f.yq();b(a)}});this.yq()};c.prototype.Ez=function(a,d,b){this.Vs(a,function(a){var b=new FileReader;b.onload=function(a){d(a.target.result)};b.readAsArrayBuffer(a)},b)};c.prototype.GA=function(a,d,b){var f="",e=a.toLowerCase(),g=e.substr(e.length-4),e=e.substr(e.length-5);".mp4"===g?f="video/mp4":".webm"===e?f="video/webm":".m4a"===g?f="audio/mp4":".mp3"===g&&(f="audio/mpeg");this.Ws(a,function(a){a=URL.createObjectURL(new Blob([a],
{type:f}));d(a)},b)};c.prototype.DB=function(a){return/^(?:[a-z]+:)?\/\//.test(a)||"data:"===a.substr(0,5)||"blob:"===a.substr(0,5)};c.prototype.zv=function(a,d){this.Fm&&!this.DB(d)?this.GA(d,function(d){a.src=d},function(a){alert("Failed to load image: "+a)}):a.src=d};c.prototype.Nn=function(a,d){"undefined"!==typeof a.imageSmoothingEnabled?a.imageSmoothingEnabled=d:(a.webkitImageSmoothingEnabled=d,a.mozImageSmoothingEnabled=d,a.msImageSmoothingEnabled=d)};Gc=function(a){return new c(document.getElementById(a))};
Hc=function(a,d){return new c({dc:!0,width:a,height:d})};window.cr_createRuntime=Gc;window.cr_createDCRuntime=Hc;window.createCocoonJSRuntime=function(){window.c2cocoonjs=!0;var a=document.createElement("screencanvas")||document.createElement("canvas");a.ik=!0;document.body.appendChild(a);a=new c(a);window.c2runtime=a;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,window.innerHeight)});window.c2runtime.setSize(window.innerWidth,window.innerHeight);
return a};window.createEjectaRuntime=function(){var a=new c(document.getElementById("canvas"));window.c2runtime=a;window.c2runtime.setSize(window.innerWidth,window.innerHeight);return a}})();window.cr_getC2Runtime=function(){var c=document.getElementById("c2canvas");return c?c.c2runtime:window.c2runtime?window.c2runtime:null};window.cr_getSnapshot=function(c,m){var h=window.cr_getC2Runtime();h&&h.Bz(c,m)};
window.cr_sizeCanvas=function(c,m){if(0!==c&&0!==m){var h=window.cr_getC2Runtime();h&&h.setSize(c,m)}};window.cr_setSuspended=function(c){var m=window.cr_getC2Runtime();m&&m.setSuspended(c)};
(function(){function c(a,b){this.b=a;this.dh=null;this.scrollX=this.b.Tb/2;this.scrollY=this.b.Sb/2;this.scale=1;this.k=0;this.li=!0;this.name=b[0];this.uC=b[1];this.tC=b[2];this.width=b[1];this.height=b[2];this.fw=b[3];this.Hv=b[4];this.Aa=b[5];var e=b[6],g,c;this.P=[];this.Vj=[];g=0;for(c=e.length;g<c;g++){var l=new Ic(this,e[g]);l.Fu=g;this.P.push(l)}e=b[7];this.ig=[];g=0;for(c=e.length;g<c;g++){var l=e[g],h=this.b.H[l[1]];h.Pd||(h.Pd=l);this.ig.push(l);-1===this.Vj.indexOf(h)&&this.Vj.push(h)}this.ja=
[];this.Ha=[];this.Gf=!0;this.mb=[];g=0;for(c=b[8].length;g<c;g++)this.ja.push({id:b[8][g][0],name:b[8][g][1],Eb:-1,Zc:!1,Hb:!0,index:g}),this.mb.push(b[8][g][2].slice(0));this.ze();this.Cg=new Na(0,0,1,1);this.Yq=new Na(0,0,1,1);this.zg={}}function m(a,b){return a.Ae-b.Ae}function h(a,b){this.sb=a;this.b=a.b;this.d=[];this.scale=1;this.k=0;this.kf=!1;this.Jf=new Na(0,0,0,0);this.$v=new Oa;this.Sa=this.Oa=this.Ta=this.Na=0;this.Sh=!1;this.Nf=-1;this.Zo=0;this.name=b[0];this.index=b[1];this.Aa=b[2];
this.visible=b[3];this.ie=b[4];this.ye=b[5];this.Ed=b[6];this.Zd=b[7];this.opacity=b[8];this.lm=b[9];this.Ld=b[10];this.Be=b[11];this.uc=b[12];this.Yz=b[13];this.Bj="source-over";this.Cc=this.Jc=0;this.qc=null;this.wf=p();this.re=!0;this.Gi=new Na(0,0,-1,-1);this.jc=new Na(0,0,-1,-1);this.Ld&&(this.qc=new Hb(this.b.Tb,this.b.Sb));this.Ve=!1;var e=b[14],g,c;this.Nv=[];this.Bd=[];this.Dj=[];g=0;for(c=e.length;g<c;g++){var l=e[g],h=this.b.H[l[1]];h.Pd||(h.Pd=l,h.xz=this.index);this.Bd.push(l);-1===this.sb.Vj.indexOf(h)&&
this.sb.Vj.push(h)}Va(this.Nv,this.Bd);this.ja=[];this.Ha=[];this.Gf=!0;this.mb=[];g=0;for(c=b[15].length;g<c;g++)this.ja.push({id:b[15][g][0],name:b[15][g][1],Eb:-1,Zc:!1,Hb:!0,index:g}),this.mb.push(b[15][g][2].slice(0));this.ze();this.Cg=new Na(0,0,1,1);this.Yq=new Na(0,0,1,1)}function p(){return a.length?a.pop():[]}function q(d){y(d);a.push(d)}c.prototype.pD=function(a){var b=a.type.Aa.toString();this.zg.hasOwnProperty(b)||(this.zg[b]=[]);this.zg[b].push(this.b.fr(a))};c.prototype.tt=function(){var a=
this.P[0];return!a.ye&&1===a.opacity&&!a.lm&&a.visible};c.prototype.ze=function(){y(this.Ha);this.Gf=!0;var a,b,e;a=0;for(b=this.ja.length;a<b;a++)e=this.ja[a],e.Hb&&(this.Ha.push(e),e.Zc||(this.Gf=!1))};c.prototype.Ap=function(a){var b,e,g;b=0;for(e=this.ja.length;b<e;b++)if(g=this.ja[b],g.name===a)return g;return null};var r=[],l=!0;c.prototype.qr=function(){this.Hv&&(this.dh=this.b.sp[this.Hv],this.dh.Jr());this.b.Ra=this;this.width=this.uC;this.height=this.tC;this.scrollX=this.b.Tb/2;this.scrollY=
this.b.Sb/2;var a,b,e,g,c,h,p;a=0;for(e=this.b.H.length;a<e;a++)if(b=this.b.H[a],!b.N)for(c=b.d,b=0,g=c.length;b<g;b++)if(h=c[b],h.n){var n=h.n.Fu;n>=this.P.length&&(n=this.P.length-1);h.n=this.P[n];-1===h.n.d.indexOf(h)&&h.n.d.push(h);h.n.Sh=!0}if(!l)for(a=0,e=this.P.length;a<e;++a)this.P[a].d.sort(m);y(r);this.cz();a=0;for(e=this.P.length;a<e;a++)h=this.P[a],h.sz(),h.oo();c=!1;if(!this.li){for(p in this.zg)if(this.zg.hasOwnProperty(p)&&(b=this.b.rm(parseInt(p,10)))&&!b.N&&this.b.Ir(b)){g=this.zg[p];
a=0;for(e=g.length;a<e;a++){h=null;if(b.Qa.lg&&(h=this.qm(g[a].w.l),!h))continue;h=this.b.$f(b.Pd,h,!1,0,0,!0);this.b.Tm(h,g[a]);c=!0;r.push(h)}y(g)}a=0;for(e=this.P.length;a<e;a++)this.P[a].d.sort(m),this.P[a].Sh=!0}c&&(this.b.tc(),this.b.nv());for(a=0;a<r.length;a++)if(h=r[a],h.type.nc)for(e=h.Qj(),b=0,g=h.type.jd.length;b<g;b++)p=h.type.jd[b],h.type!==p&&(p.d.length>e?h.siblings.push(p.d[e]):p.Pd&&(c=this.b.$f(p.Pd,h.n,!0,h.x,h.y,!0),this.b.tc(),p.lo(),h.siblings.push(c),r.push(c)));a=0;for(e=
this.ig.length;a<e;a++)h=this.ig[a],b=this.b.H[h[1]],b.nc||this.b.$f(this.ig[a],null,!0);this.b.Tg=null;this.b.tc();if(this.b.fb&&!this.b.ob)for(a=0,e=this.b.H.length;a<e;a++)p=this.b.H[a],!p.N&&p.d.length&&p.Bn&&p.Bn(this.b.fb);if(this.b.$j)Va(this.b.im,r);else for(a=0,e=r.length;a<e;a++)h=r[a],this.b.trigger(Object.getPrototypeOf(h.type.Qa).j.Pf,h);y(r);this.b.$j||this.b.trigger(F.prototype.j.as,null);this.li=!1};c.prototype.rz=function(){var a,b,e,g,c;b=a=0;for(e=this.ig.length;a<e;a++)g=this.ig[a],
c=this.b.H[g[1]],c.global?c.nc||this.b.$f(g,null,!0):(this.ig[b]=g,b++);Ua(this.ig,b)};c.prototype.JD=function(){this.b.$j||this.b.trigger(F.prototype.j.wx,null);this.b.$p=!0;y(this.b.Xe.fd);var a,b,e,g,c,h;if(!this.li)for(a=0,b=this.P.length;a<b;a++)for(this.P[a].Lr(),c=this.P[a].d,e=0,g=c.length;e<g;e++)h=c[e],h.type.global||this.b.Ir(h.type)&&this.pD(h);a=0;for(b=this.P.length;a<b;a++){c=this.P[a].d;e=0;for(g=c.length;e<g;e++)h=c[e],h.type.global||this.b.Ze(h);this.b.tc();y(c);this.P[a].Sh=!0}a=
0;for(b=this.b.H.length;a<b;a++)if(c=this.b.H[a],!(c.global||c.Qa.lg||c.Qa.Vn||c.N)){e=0;for(g=c.d.length;e<g;e++)this.b.Ze(c.d[e]);this.b.tc()}l=!1;this.b.$p=!1};new Na(0,0,0,0);c.prototype.yd=function(a){var b,e=a,g=!1,c=!this.b.zd;c&&(this.b.Rm||(this.b.Rm=document.createElement("canvas"),b=this.b.Rm,b.width=this.b.W,b.height=this.b.V,this.b.Xt=b.getContext("2d"),g=!0),b=this.b.Rm,e=this.b.Xt,b.width!==this.b.W&&(b.width=this.b.W,g=!0),b.height!==this.b.V&&(b.height=this.b.V,g=!0),g&&this.b.Nn(e,
this.b.ab));e.globalAlpha=1;e.globalCompositeOperation="source-over";this.b.Fs&&!this.tt()&&e.clearRect(0,0,this.b.W,this.b.V);var l,h,g=0;for(l=this.P.length;g<l;g++)h=this.P[g],h.visible&&0<h.opacity&&11!==h.uc&&(h.d.length||!h.ye)?h.yd(e):h.oo();c&&a.drawImage(b,0,0,this.b.width,this.b.height)};c.prototype.Zg=function(a){a.xv(!0);this.b.zb||(this.b.zb=a.xd(this.b.W,this.b.V,this.b.ab));if(this.b.zb.Rg!==this.b.W||this.b.zb.Qg!==this.b.V)a.deleteTexture(this.b.zb),this.b.zb=a.xd(this.b.W,this.b.V,
this.b.ab);a.be(this.b.zb);this.b.zd||a.Ih(this.b.W,this.b.V);var b,e;for(b=this.P.length-1;0<=b;--b)e=this.P[b],e.visible&&1===e.opacity&&e.Gf&&0===e.uc&&(e.d.length||!e.ye)?e.Zg(a):e.oo();a.xv(!1)};c.prototype.Dc=function(a){var b=0<this.Ha.length||this.b.oj||!this.b.zd||this.b.Ya;if(b){this.b.zb||(this.b.zb=a.xd(this.b.W,this.b.V,this.b.ab));if(this.b.zb.Rg!==this.b.W||this.b.zb.Qg!==this.b.V)a.deleteTexture(this.b.zb),this.b.zb=a.xd(this.b.W,this.b.V,this.b.ab);a.be(this.b.zb);this.b.zd||a.Ih(this.b.W,
this.b.V)}else this.b.zb&&(a.be(null),a.deleteTexture(this.b.zb),this.b.zb=null);this.b.Fs&&!this.tt()&&a.clear(0,0,0,0);var e,g,c;e=0;for(g=this.P.length;e<g;e++)c=this.P[e],c.visible&&0<c.opacity&&(c.d.length||!c.ye)?c.Dc(a):c.oo();b&&(0===this.Ha.length||1===this.Ha.length&&this.b.zd?(1===this.Ha.length?(b=this.Ha[0].index,a.dd(this.Ha[0].Eb),a.cj(null,1/this.b.W,1/this.b.V,0,0,1,1,this.scale,this.k,0,0,this.b.W/2,this.b.V/2,this.b.yb.ma,this.mb[b]),a.Cn(this.Ha[0].Eb)&&(this.b.Ma=!0)):a.dd(0),
this.b.zd||a.Ih(this.b.width,this.b.height),a.be(null),a.wv(!1),a.Fg(1),a.cd(this.b.zb),a.tv(),a.ae(),a.Kd(),b=this.b.width/2,e=this.b.height/2,a.Wi(-b,e,b,e,b,-e,-b,-e),a.cd(null),a.wv(!0)):this.Zq(a,null,null,null))};c.prototype.Pj=function(){return 0<this.Ha.length||this.b.oj||!this.b.zd||this.b.Ya?this.b.zb:null};c.prototype.nt=function(){var a=this.P[0].Wc(),b,e,g;b=1;for(e=this.P.length;b<e;b++)g=this.P[b],(0!==g.Ed||0!==g.Zd)&&g.Wc()<a&&(a=g.Wc());return a};c.prototype.ir=function(a){if(!this.fw){var b=
1/this.nt()*this.b.W/2;a>this.width-b&&(a=this.width-b);a<b&&(a=b)}this.scrollX!==a&&(this.scrollX=a,this.b.Ma=!0)};c.prototype.jr=function(a){if(!this.fw){var b=1/this.nt()*this.b.V/2;a>this.height-b&&(a=this.height-b);a<b&&(a=b)}this.scrollY!==a&&(this.scrollY=a,this.b.Ma=!0)};c.prototype.cz=function(){this.ir(this.scrollX);this.jr(this.scrollY)};c.prototype.Zq=function(a,b,e,g){var c=e?e.Ha:b?b.Ha:this.Ha,l=1,h=0,n=0,u=0,m=this.b.W,p=this.b.V;e?(l=e.n.Wc(),h=e.n.cb(),n=e.n.Na,u=e.n.Oa,m=e.n.Ta,
p=e.n.Sa):b&&(l=b.Wc(),h=b.cb(),n=b.Na,u=b.Oa,m=b.Ta,p=b.Sa);var q=this.b.wp,E,r,w,C,V=0,W=1,la,ga,T=this.b.W,G=this.b.V,sa=T/2,ta=G/2,B=b?b.Cg:this.Cg,x=b?b.Yq:this.Yq,v=0,Y=0,D=0,H=0,M=T,Aa=T,P=G,ka=G,da=w=0;C=e?e.n.cb():0;if(e){E=0;for(r=c.length;E<r;E++)w+=a.WA(c[E].Eb),da+=a.XA(c[E].Eb);H=e.Ua;v=b.$a(H.left,H.top,!0,!0);D=b.$a(H.left,H.top,!1,!0);M=b.$a(H.right,H.bottom,!0,!0);P=b.$a(H.right,H.bottom,!1,!0);0!==C&&(E=b.$a(H.right,H.top,!0,!0),r=b.$a(H.right,H.top,!1,!0),Y=b.$a(H.left,H.bottom,
!0,!0),H=b.$a(H.left,H.bottom,!1,!0),C=Math.min(v,M,E,Y),M=Math.max(v,M,E,Y),v=C,C=Math.min(D,P,r,H),P=Math.max(D,P,r,H),D=C);v-=w;D-=da;M+=w;P+=da;x.left=v/T;x.top=1-D/G;x.right=M/T;x.bottom=1-P/G;Y=v=Ja(v);H=D=Ja(D);Aa=M=La(M);ka=P=La(P);Y-=w;H-=da;Aa+=w;ka+=da;0>v&&(v=0);0>D&&(D=0);M>T&&(M=T);P>G&&(P=G);0>Y&&(Y=0);0>H&&(H=0);Aa>T&&(Aa=T);ka>G&&(ka=G);B.left=v/T;B.top=1-D/G;B.right=M/T;B.bottom=1-P/G}else B.left=x.left=0,B.top=x.top=0,B.right=x.right=1,B.bottom=x.bottom=1;da=e&&(a.Sk(c[0].Eb)||
0!==w||0!==da||1!==e.opacity||e.type.Qa.Au)||b&&!e&&1!==b.opacity;a.tv();if(da){q[V]||(q[V]=a.xd(T,G,this.b.ab));if(q[V].Rg!==T||q[V].Qg!==G)a.deleteTexture(q[V]),q[V]=a.xd(T,G,this.b.ab);a.dd(0);a.be(q[V]);ga=ka-H;a.clearRect(Y,G-H-ga,Aa-Y,ga);e?e.Dc(a):(a.cd(this.b.Qb),a.Fg(b.opacity),a.ae(),a.translate(-sa,-ta),a.Kd(),a.Ue(v,P,M,P,M,D,v,D,B));x.left=x.top=0;x.right=x.bottom=1;e&&(C=B.top,B.top=B.bottom,B.bottom=C);V=1;W=0}a.Fg(1);w=c.length-1;var ha=a.Tq(c[w].Eb)||!b&&!e&&!this.b.zd;E=C=0;for(r=
c.length;E<r;E++){q[V]||(q[V]=a.xd(T,G,this.b.ab));if(q[V].Rg!==T||q[V].Qg!==G)a.deleteTexture(q[V]),q[V]=a.xd(T,G,this.b.ab);a.dd(c[E].Eb);C=c[E].index;a.Cn(c[E].Eb)&&(this.b.Ma=!0);0!=E||da?(a.cj(g,1/T,1/G,x.left,x.top,x.right,x.bottom,l,h,n,u,(n+m)/2,(u+p)/2,this.b.yb.ma,e?e.mb[C]:b?b.mb[C]:this.mb[C]),a.cd(null),E!==w||ha?(a.be(q[V]),ga=ka-H,la=G-H-ga,a.clearRect(Y,la,Aa-Y,ga)):(e?a.Eg(e.Jc,e.Cc):b&&a.Eg(b.Jc,b.Cc),a.be(g)),a.cd(q[W]),a.ae(),a.translate(-sa,-ta),a.Kd(),a.Ue(v,P,M,P,M,D,v,D,B),
E!==w||ha||a.cd(null)):(a.be(q[V]),ga=ka-H,la=G-H-ga,a.clearRect(Y,la,Aa-Y,ga),e?(e.Kb&&e.Kb.ba?(la=e.Kb.ba,W=1/la.width,la=1/la.height):(W=1/e.width,la=1/e.height),a.cj(g,W,la,x.left,x.top,x.right,x.bottom,l,h,n,u,(n+m)/2,(u+p)/2,this.b.yb.ma,e.mb[C]),e.Dc(a)):(a.cj(g,1/T,1/G,0,0,1,1,l,h,n,u,(n+m)/2,(u+p)/2,this.b.yb.ma,b?b.mb[C]:this.mb[C]),a.cd(b?this.b.Qb:this.b.zb),a.ae(),a.translate(-sa,-ta),a.Kd(),a.Ue(v,P,M,P,M,D,v,D,B)),x.left=x.top=0,x.right=x.bottom=1,e&&!ha&&(C=P,P=D,D=C));V=0===V?1:0;
W=0===V?1:0}ha&&(a.dd(0),e?a.Eg(e.Jc,e.Cc):b?a.Eg(b.Jc,b.Cc):this.b.zd||(a.Ih(this.b.width,this.b.height),sa=this.b.width/2,ta=this.b.height/2,D=v=0,M=this.b.width,P=this.b.height),a.be(g),a.cd(q[W]),a.ae(),a.translate(-sa,-ta),a.Kd(),e&&1===c.length&&!da?a.Ue(v,D,M,D,M,P,v,P,B):a.Ue(v,P,M,P,M,D,v,D,B),a.cd(null))};c.prototype.qm=function(a){var b,e;b=0;for(e=this.P.length;b<e;b++)if(this.P[b].Aa===a)return this.P[b];return null};c.prototype.gc=function(){var a,b,e,g={sx:this.scrollX,sy:this.scrollY,
s:this.scale,a:this.k,w:this.width,h:this.height,fv:this.li,persist:this.zg,fx:[],layers:{}};a=0;for(b=this.ja.length;a<b;a++)e=this.ja[a],g.fx.push({name:e.name,active:e.Hb,params:this.mb[e.index]});a=0;for(b=this.P.length;a<b;a++)e=this.P[a],g.layers[e.Aa.toString()]=e.gc();return g};c.prototype.Ic=function(a){var b,e,g,c;this.scrollX=a.sx;this.scrollY=a.sy;this.scale=a.s;this.k=a.a;this.width=a.w;this.height=a.h;this.zg=a.persist;"undefined"!==typeof a.fv&&(this.li=a.fv);var l=a.fx;b=0;for(e=l.length;b<
e;b++)if(g=this.Ap(l[b].name))g.Hb=l[b].active,this.mb[g.index]=l[b].params;this.ze();b=a.layers;for(c in b)b.hasOwnProperty(c)&&(a=this.qm(parseInt(c,10)))&&a.Ic(b[c])};uc=c;h.prototype.ze=function(){y(this.Ha);this.Gf=!0;var a,b,e;a=0;for(b=this.ja.length;a<b;a++)e=this.ja[a],e.Hb&&(this.Ha.push(e),e.Zc||(this.Gf=!1))};h.prototype.Ap=function(a){var b,e,g;b=0;for(e=this.ja.length;b<e;b++)if(g=this.ja[b],g.name===a)return g;return null};h.prototype.sz=function(){var a,b,e,g,c,l;b=a=0;for(e=this.Bd.length;a<
e;a++){g=this.Bd[a];c=this.b.H[g[1]];l=this.b.Ir(c);c=!0;if(!l||this.sb.li){g=this.b.$f(g,this,!0);if(!g)continue;r.push(g);g.type.global&&(c=!1,this.Dj.push(g.uid))}c&&(this.Bd[b]=this.Bd[a],b++)}this.Bd.length=b;this.b.tc();!this.b.F&&this.ja.length&&(this.uc=this.Yz);this.Bj=Ib(this.uc);this.b.J&&Kb(this,this.uc,this.b.J);this.re=!0};h.prototype.Yi=function(a,b){var e=Xa(this.d,a);0>e||(b&&this.Ld&&a.ad&&a.ad.right>=a.ad.left&&(a.wa(),this.qc.update(a,a.ad,null),a.ad.set(0,0,-1,-1)),e===this.d.length-
1?this.d.pop():(Ta(this.d,e),this.al(e)),this.re=!0)};h.prototype.xj=function(a,b){a.Ae=this.d.length;this.d.push(a);b&&this.Ld&&a.ad&&a.U();this.re=!0};h.prototype.HC=function(a){this.d.unshift(a);this.al(0)};h.prototype.dC=function(a,b,e){var g=a.Rd();b=b.Rd();Ta(this.d,g);g<b&&b--;e&&b++;b===this.d.length?this.d.push(a):this.d.splice(b,0,a);this.al(g<b?g:b)};h.prototype.al=function(a){-1===this.Nf?this.Nf=a:a<this.Nf&&(this.Nf=a);this.re=this.Sh=!0};h.prototype.Lr=function(){if(this.Sh){-1===this.Nf&&
(this.Nf=0);var a,b,e;if(this.Ld)for(a=this.Nf,b=this.d.length;a<b;++a)e=this.d[a],e.Ae=a,this.qc.aC(e.ad);else for(a=this.Nf,b=this.d.length;a<b;++a)this.d[a].Ae=a;this.Sh=!1;this.Nf=-1}};h.prototype.Wc=function(a){return this.TA()*(this.b.zd||a?this.b.yj:1)};h.prototype.TA=function(){return(this.scale*this.sb.scale-1)*this.Be+1};h.prototype.cb=function(){return this.kf?0:eb(this.sb.k+this.k)};var a=[],e=[],b=[];h.prototype.Gp=function(){this.Lr();this.qc.Fn(this.Na,this.Oa,this.Ta,this.Sa,b);if(!b.length)return p();
if(1===b.length){var a=p();Va(a,b[0]);y(b);return a}for(var f=!0;1<b.length;){for(var a=b,c=void 0,g=void 0,l=void 0,h=void 0,m=void 0,c=0,g=a.length;c<g-1;c+=2){var l=a[c],h=a[c+1],m=p(),n=l,u=h,r=m,I=0,A=0,E=0,X=n.length,w=u.length,C=void 0,V=void 0;for(r.length=X+w;I<X&&A<w;++E)C=n[I],V=u[A],C.Ae<V.Ae?(r[E]=C,++I):(r[E]=V,++A);for(;I<X;++I,++E)r[E]=n[I];for(;A<w;++A,++E)r[E]=u[A];f||(q(l),q(h));e.push(m)}1===g%2&&(f?(l=p(),Va(l,a[g-1]),e.push(l)):e.push(a[g-1]));Va(a,e);y(e);f=!1}a=b[0];y(b);return a};
h.prototype.yd=function(a){this.Ve=this.lm||1!==this.opacity||0!==this.uc;var b=this.b.canvas,e=a,g=!1;this.Ve&&(this.b.Qm||(this.b.Qm=document.createElement("canvas"),b=this.b.Qm,b.width=this.b.W,b.height=this.b.V,this.b.Wt=b.getContext("2d"),g=!0),b=this.b.Qm,e=this.b.Wt,b.width!==this.b.W&&(b.width=this.b.W,g=!0),b.height!==this.b.V&&(b.height=this.b.V,g=!0),g&&this.b.Nn(e,this.b.ab),this.ye&&e.clearRect(0,0,this.b.W,this.b.V));e.globalAlpha=1;e.globalCompositeOperation="source-over";this.ye||
(e.fillStyle="rgb("+this.ie[0]+","+this.ie[1]+","+this.ie[2]+")",e.fillRect(0,0,this.b.W,this.b.V));e.save();this.kf=!0;var g=this.Ib(0,0,!0,!0),c=this.Ib(0,0,!1,!0);this.kf=!1;this.b.Fd&&(g=Math.round(g),c=Math.round(c));this.In(g,c,e);var l=this.Wc();e.scale(l,l);e.translate(-g,-c);this.Ld?(this.jc.left=this.qc.Rc(this.Na),this.jc.top=this.qc.Sc(this.Oa),this.jc.right=this.qc.Rc(this.Ta),this.jc.bottom=this.qc.Sc(this.Sa),this.re||!this.jc.Ij(this.Gi)?(q(this.wf),g=this.Gp(),this.re=!1,this.Gi.ai(this.jc)):
g=this.wf):g=this.d;for(var h,n=null,c=0,l=g.length;c<l;++c)h=g[c],h!==n&&(this.Tz(h,e),n=h);this.Ld&&(this.wf=g);e.restore();this.Ve&&(a.globalCompositeOperation=this.Bj,a.globalAlpha=this.opacity,a.drawImage(b,0,0))};h.prototype.Tz=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.wa();var e=a.Ua;e.right<this.Na||e.bottom<this.Oa||e.left>this.Ta||e.top>this.Sa||(b.globalCompositeOperation=a.Bj,a.yd(b))}};h.prototype.oo=function(){this.kf=!0;var a=this.Ib(0,0,!0,!0),b=this.Ib(0,0,!1,!0);this.kf=
!1;this.b.Fd&&(a=Math.round(a),b=Math.round(b));this.In(a,b,null)};h.prototype.In=function(a,b,e){var g=this.Wc();this.Na=a;this.Oa=b;this.Ta=a+1/g*this.b.W;this.Sa=b+1/g*this.b.V;this.Na>this.Ta&&(a=this.Na,this.Na=this.Ta,this.Ta=a);this.Oa>this.Sa&&(a=this.Oa,this.Oa=this.Sa,this.Sa=a);a=this.cb();0!==a&&(e&&(e.translate(this.b.W/2,this.b.V/2),e.rotate(-a),e.translate(this.b.W/-2,this.b.V/-2)),this.Jf.set(this.Na,this.Oa,this.Ta,this.Sa),this.Jf.offset((this.Na+this.Ta)/-2,(this.Oa+this.Sa)/-2),
this.$v.Fv(this.Jf,a),this.$v.xs(this.Jf),this.Jf.offset((this.Na+this.Ta)/2,(this.Oa+this.Sa)/2),this.Na=this.Jf.left,this.Oa=this.Jf.top,this.Ta=this.Jf.right,this.Sa=this.Jf.bottom)};h.prototype.Zg=function(a){if(this.Ve=this.lm){this.b.Qb||(this.b.Qb=a.xd(this.b.W,this.b.V,this.b.ab));if(this.b.Qb.Rg!==this.b.W||this.b.Qb.Qg!==this.b.V)a.deleteTexture(this.b.Qb),this.b.Qb=a.xd(this.b.W,this.b.V,this.b.ab);a.be(this.b.Qb)}this.kf=!0;var b=this.Ib(0,0,!0,!0),e=this.Ib(0,0,!1,!0);this.kf=!1;this.b.Fd&&
(b=Math.round(b),e=Math.round(e));this.In(b,e,null);b=this.Wc();a.ae();a.scale(b,b);a.Jn(-this.cb());a.translate((this.Na+this.Ta)/-2,(this.Oa+this.Sa)/-2);a.Kd();this.Ld?(this.jc.left=this.qc.Rc(this.Na),this.jc.top=this.qc.Sc(this.Oa),this.jc.right=this.qc.Rc(this.Ta),this.jc.bottom=this.qc.Sc(this.Sa),this.re||!this.jc.Ij(this.Gi)?(q(this.wf),b=this.Gp(),this.re=!1,this.Gi.ai(this.jc)):b=this.wf):b=this.d;for(var g,c=null,e=b.length-1;0<=e;--e)g=b[e],g!==c&&(this.Vz(b[e],a),c=g);this.Ld&&(this.wf=
b);this.ye||(this.Zo=this.b.ah++,a.On(this.Zo),a.vv(1,1,1),a.bt(),a.gD())};h.prototype.Dc=function(a){var b=0,e=0;if(this.Ve=this.lm||1!==this.opacity||0<this.Ha.length||0!==this.uc){this.b.Qb||(this.b.Qb=a.xd(this.b.W,this.b.V,this.b.ab));if(this.b.Qb.Rg!==this.b.W||this.b.Qb.Qg!==this.b.V)a.deleteTexture(this.b.Qb),this.b.Qb=a.xd(this.b.W,this.b.V,this.b.ab);a.be(this.b.Qb);this.ye&&a.clear(0,0,0,0)}this.ye||(this.b.Ya?(a.On(this.Zo),a.vv(this.ie[0]/255,this.ie[1]/255,this.ie[2]/255),a.bt(),a.AD()):
a.clear(this.ie[0]/255,this.ie[1]/255,this.ie[2]/255,1));this.kf=!0;var g=this.Ib(0,0,!0,!0),b=this.Ib(0,0,!1,!0);this.kf=!1;this.b.Fd&&(g=Math.round(g),b=Math.round(b));this.In(g,b,null);g=this.Wc();a.ae();a.scale(g,g);a.Jn(-this.cb());a.translate((this.Na+this.Ta)/-2,(this.Oa+this.Sa)/-2);a.Kd();this.Ld?(this.jc.left=this.qc.Rc(this.Na),this.jc.top=this.qc.Sc(this.Oa),this.jc.right=this.qc.Rc(this.Ta),this.jc.bottom=this.qc.Sc(this.Sa),this.re||!this.jc.Ij(this.Gi)?(q(this.wf),b=this.Gp(),this.re=
!1,this.Gi.ai(this.jc)):b=this.wf):b=this.d;var c,l,h=null,e=0;for(c=b.length;e<c;++e)l=b[e],l!==h&&(this.Uz(b[e],a),h=l);this.Ld&&(this.wf=b);this.Ve&&(b=this.Ha.length?this.Ha[0].Eb:0,e=this.Ha.length?this.Ha[0].index:0,0===this.Ha.length||1===this.Ha.length&&!a.Tq(b)&&1===this.opacity?(1===this.Ha.length?(a.dd(b),a.cj(this.sb.Pj(),1/this.b.W,1/this.b.V,0,0,1,1,g,this.cb(),this.Na,this.Oa,(this.Na+this.Ta)/2,(this.Oa+this.Sa)/2,this.b.yb.ma,this.mb[e]),a.Cn(b)&&(this.b.Ma=!0)):a.dd(0),a.be(this.sb.Pj()),
a.Fg(this.opacity),a.cd(this.b.Qb),a.Eg(this.Jc,this.Cc),a.ae(),a.Kd(),g=this.b.W/2,b=this.b.V/2,a.Wi(-g,b,g,b,g,-b,-g,-b),a.cd(null)):this.sb.Zq(a,this,null,this.sb.Pj()))};h.prototype.Uz=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.wa();var e=a.Ua;e.right<this.Na||e.bottom<this.Oa||e.left>this.Ta||e.top>this.Sa||(b.On(a.ah),a.mw?this.Wz(a,b):(b.dd(0),b.Eg(a.Jc,a.Cc),a.Dc(b)))}};h.prototype.Vz=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.wa();var e=a.Ua;e.right<this.Na||e.bottom<
this.Oa||e.left>this.Ta||e.top>this.Sa||(a.ah=this.b.ah++,0===a.uc&&1===a.opacity&&a.Gf&&a.Zg&&(b.On(a.ah),a.Zg(b)))}};h.prototype.Wz=function(a,b){var e=a.Ha[0].Eb,g=a.Ha[0].index,c=this.Wc();if(1!==a.Ha.length||b.Tq(e)||b.KC(e)||(a.k||a.n.cb())&&b.Sk(e)||1!==a.opacity||a.type.Qa.Au)this.sb.Zq(b,this,a,this.Ve?this.b.Qb:this.sb.Pj()),b.ae(),b.scale(c,c),b.Jn(-this.cb()),b.translate((this.Na+this.Ta)/-2,(this.Oa+this.Sa)/-2),b.Kd();else{b.dd(e);b.Eg(a.Jc,a.Cc);b.Cn(e)&&(this.b.Ma=!0);var l=0,h=0,
n=0,u=0;b.Sk(e)&&(u=a.Ua,l=this.$a(u.left,u.top,!0,!0),h=this.$a(u.left,u.top,!1,!0),n=this.$a(u.right,u.bottom,!0,!0),u=this.$a(u.right,u.bottom,!1,!0),l=l/windowWidth,h=1-h/windowHeight,n=n/windowWidth,u=1-u/windowHeight);var m;a.Kb&&a.Kb.ba?(m=a.Kb.ba,e=1/m.width,m=1/m.height):(e=1/a.width,m=1/a.height);b.cj(this.Ve?this.b.Qb:this.sb.Pj(),e,m,l,h,n,u,c,this.cb(),this.Na,this.Oa,(this.Na+this.Ta)/2,(this.Oa+this.Sa)/2,this.b.yb.ma,a.mb[g]);a.Dc(b)}};h.prototype.Ib=function(a,b,e,c){var l=this.b.devicePixelRatio;
this.b.mh&&(a*=l,b*=l);var l=this.b.Yu,h=this.b.Zu,l=(this.sb.scrollX-l)*this.Ed+l,h=(this.sb.scrollY-h)*this.Zd+h,m=l,n=h,u=1/this.Wc(!c);c?(m-=this.b.W*u/2,n-=this.b.V*u/2):(m-=this.b.width*u/2,n-=this.b.height*u/2);m+=a*u;n+=b*u;b=this.cb();0!==b&&(m-=l,n-=h,a=Math.cos(b),b=Math.sin(b),c=m*a-n*b,n=n*a+m*b,m=c+l,n+=h);return e?m:n};h.prototype.$a=function(a,b,e,c){var l=this.b.Yu,h=this.b.Zu,m=(this.sb.scrollX-l)*this.Ed+l,n=(this.sb.scrollY-h)*this.Zd+h,h=m,l=n,u=this.cb();if(0!==u){a-=m;b-=n;
var p=Math.cos(-u),u=Math.sin(-u),q=a*p-b*u;b=b*p+a*u;a=q+m;b+=n}m=1/this.Wc(!c);c?(h-=this.b.W*m/2,l-=this.b.V*m/2):(h-=this.b.width*m/2,l-=this.b.height*m/2);h=(a-h)/m;l=(b-l)/m;a=this.b.devicePixelRatio;this.b.mh&&!c&&(h/=a,l/=a);return e?h:l};h.prototype.gc=function(){var a,b,e,c={s:this.scale,a:this.k,vl:this.Na,vt:this.Oa,vr:this.Ta,vb:this.Sa,v:this.visible,bc:this.ie,t:this.ye,px:this.Ed,py:this.Zd,o:this.opacity,zr:this.Be,fx:[],cg:this.Dj,instances:[]};a=0;for(b=this.ja.length;a<b;a++)e=
this.ja[a],c.fx.push({name:e.name,active:e.Hb,params:this.mb[e.index]});return c};h.prototype.Ic=function(a){var b,e,c;this.scale=a.s;this.k=a.a;this.Na=a.vl;this.Oa=a.vt;this.Ta=a.vr;this.Sa=a.vb;this.visible=a.v;this.ie=a.bc;this.ye=a.t;this.Ed=a.px;this.Zd=a.py;this.opacity=a.o;this.Be=a.zr;this.Dj=a.cg||[];Va(this.Bd,this.Nv);var l=new pa;b=0;for(c=this.Dj.length;b<c;++b)l.add(this.Dj[b]);e=b=0;for(c=this.Bd.length;b<c;++b)l.contains(this.Bd[b][2])||(this.Bd[e]=this.Bd[b],++e);Ua(this.Bd,e);e=
a.fx;b=0;for(c=e.length;b<c;b++)if(a=this.Ap(e[b].name))a.Hb=e[b].active,this.mb[a.index]=e[b].params;this.ze();this.d.sort(m);this.Sh=!0};Ic=h})();
(function(){function c(a,b){var d,e=a.length;switch(e){case 0:return!0;case 1:return a[0]===b[0];case 2:return a[0]===b[0]&&a[1]===b[1];default:for(d=0;d<e;d++)if(a[d]!==b[d])return!1;return!0}}function m(a,b){return a.index-b.index}function h(a){var b,d,e,f;2===a.length?a[0].index>a[1].index&&(b=a[0],a[0]=a[1],a[1]=b):2<a.length&&a.sort(m);a.length>=t.length&&(t.length=a.length+1);t[a.length]||(t[a.length]=[]);f=t[a.length];b=0;for(d=f.length;b<d;b++)if(e=f[b],c(a,e))return e;f.push(a);return a}
function p(a,b){this.b=a;this.cw={};this.Us={};this.Pp=!1;this.xt=new pa;this.lp=[];this.Lo=[];this.name=b[0];var d=b[1];this.eg=[];var e,c;e=0;for(c=d.length;e<c;e++)this.zt(d[e],null,this.eg)}function q(a){this.type=a;this.d=[];this.ca=[];this.ea=!0}function r(a,b,d){this.sheet=a;this.parent=b;this.b=a.b;this.La=[];this.Gg=[];this.ut=this.co=this.Er=this.zm=this.group=this.pr=!1;this.Jb=[];this.Md=[];this.de=[];this.Rj="";this.qi=this.zm=this.group=!1;this.Ql=null;d[1]&&(this.Rj=d[1][1].toLowerCase(),
this.group=!0,this.zm=!!d[1][0],this.Ql=[],this.qi=this.zm,this.b.Uf.push(this),this.b.Sj[this.Rj]=this);this.qd=d[2];this.Aa=d[4];this.group||(this.b.vs[this.Aa.toString()]=this);var e=d[5];a=0;for(b=e.length;a<b;a++){var c=new Jc(this,e[a]);c.index=a;this.Jb.push(c);this.ns(c.type)}e=d[6];a=0;for(b=e.length;a<b;a++)c=new Kc(this,e[a]),c.index=a,this.Md.push(c);if(8===d.length)for(d=d[7],a=0,b=d.length;a<b;a++)this.sheet.zt(d[a],this,this.de);this.Im=!1;this.Jb.length&&(this.Im=null==this.Jb[0].type&&
this.Jb[0].kc==F.prototype.j.Wr)}function l(a,b){var d,e,c;if(a&&(-1===b.indexOf(a)&&b.push(a),a.nc))for(d=0,e=a.jd.length;d<e;d++)c=a.jd[d],a!==c&&-1===b.indexOf(c)&&b.push(c)}function a(a,b){this.vd=a;this.sheet=a.sheet;this.b=a.b;this.Z=[];this.pb=[];this.S={};this.index=-1;this.vj=!1;this.kc=this.b.Of(b[1]);this.trigger=0<b[3];this.Ts=2===b[3];this.Pe=b[4];this.kg=b[5];this.OB=b[6];this.Aa=b[7];this.b.Yf[this.Aa.toString()]=this;-1===b[0]?(this.type=null,this.Db=this.er,this.Pg=null,this.je=-1):
(this.type=this.b.H[b[0]],this.Db=this.OB?this.nD:this.dr,b[2]?(this.Pg=this.type.om(b[2]),this.je=this.type.yp(b[2])):(this.Pg=null,this.je=-1),this.vd.parent&&this.vd.parent.Rn());this.Ts&&(this.Db=this.oD);if(10===b.length){var d,e,c=b[9];d=0;for(e=c.length;d<e;d++){var f=new Lc(this,c[d]);this.Z.push(f)}this.pb.length=c.length}}function e(a,b){this.vd=a;this.sheet=a.sheet;this.b=a.b;this.Z=[];this.pb=[];this.S={};this.index=-1;this.vj=!1;this.kc=this.b.Of(b[1]);-1===b[0]?(this.type=null,this.Db=
this.er,this.Pg=null,this.je=-1):(this.type=this.b.H[b[0]],this.Db=this.dr,b[2]?(this.Pg=this.type.om(b[2]),this.je=this.type.yp(b[2])):(this.Pg=null,this.je=-1));this.Aa=b[3];this.b.Sf[this.Aa.toString()]=this;if(6===b.length){var d,e,c=b[5];d=0;for(e=c.length;d<e;d++){var f=new Lc(this,c[d]);this.Z.push(f)}this.pb.length=c.length}}function b(){O++;N.length===O&&N.push(new Mc);return N[O]}function d(a,b){this.bb=a;this.vd=a.vd;this.sheet=a.sheet;this.b=a.b;this.type=b[0];this.Je=null;this.Hf=0;this.get=
null;this.Is=0;this.sb=null;this.key=0;this.object=null;this.index=0;this.rl=this.Nh=this.rl=this.Nh=this.Xs=this.eh=this.sl=null;this.ge=!1;var d,e,c;switch(b[0]){case 0:case 7:this.Je=new Nc(this,b[1]);this.Hf=0;this.get=this.dB;break;case 1:this.Je=new Nc(this,b[1]);this.Hf=0;this.get=this.eB;break;case 5:this.Je=new Nc(this,b[1]);this.Hf=0;this.get=this.iB;break;case 3:case 8:this.Is=b[1];this.get=this.bB;break;case 6:this.sb=this.b.Hi[b[1]];this.get=this.jB;break;case 9:this.key=b[1];this.get=
this.hB;break;case 4:this.object=this.b.H[b[1]];this.get=this.kB;this.vd.ns(this.object);this.bb instanceof Kc?this.vd.Rn():this.vd.parent&&this.vd.parent.Rn();break;case 10:this.index=b[1];a.type&&a.type.N?(this.get=this.fB,this.ge=!0):this.get=this.gB;break;case 11:this.sl=b[1];this.eh=null;this.get=this.cB;break;case 2:case 12:this.Xs=b[1];this.get=this.aB;break;case 13:for(this.get=this.lB,this.Nh=[],this.rl=[],d=1,e=b.length;d<e;d++)c=new Lc(this.bb,b[d]),this.Nh.push(c),this.rl.push(0)}}function f(a,
b,d){this.sheet=a;this.parent=b;this.b=a.b;this.La=[];this.name=d[1];this.qw=d[2];this.Up=d[3];this.fk=!!d[4];this.Hm=!!d[5];this.Aa=d[6];this.b.sj[this.Aa.toString()]=this;this.data=this.Up;this.parent?(this.uh=this.fk||this.Hm?-1:this.b.HD++,this.b.Ry.push(this)):(this.uh=-1,this.b.Qy.push(this))}function k(a,b,d){this.sheet=a;this.parent=b;this.b=a.b;this.La=[];this.Uj=null;this.yB=d[1];this.Hb=!0}function g(){this.Uv=[];this.reset(null)}var t=[];p.prototype.toString=function(){return this.name};
p.prototype.zt=function(a,b,d){switch(a[0]){case 0:a=new Oc(this,b,a);if(a.qd)for(d.push(a),d=0,b=a.Jb.length;d<b;d++)a.Jb[d].trigger&&this.At(a,d);else a.Lt()?this.At(a,0):d.push(a);break;case 1:a=new Fc(this,b,a);d.push(a);break;case 2:a=new Pc(this,b,a),d.push(a)}};p.prototype.tb=function(){var a,b;a=0;for(b=this.eg.length;a<b;a++)this.eg[a].tb(a<b-1&&this.eg[a+1].Im)};p.prototype.Jr=function(){y(this.lp);y(this.Lo);this.ls(this);y(this.Lo)};p.prototype.ls=function(a){var b,d,e,c,f=a.lp,g=a.Lo,
l=this.xt.fe();b=0;for(d=l.length;b<d;++b)e=l[b],c=e.Uj,!e.Hb||a===c||-1<g.indexOf(c)||(g.push(c),c.ls(a),f.push(c))};p.prototype.Db=function(a){this.b.DF||(this.Pp=!0,a||(this.b.fq=!0));var b,d;b=0;for(d=this.eg.length;b<d;b++){var e=this.eg[b];e.Db();this.b.Yo(e.La);this.b.hg&&this.b.tc()}a||(this.b.fq=!1)};p.prototype.At=function(a,b){a.qd||this.b.ho.push(a);var d,e,c=a.Jb[b],f;c.type?f=c.type.name:f="system";var g=(d=c.Ts)?this.Us:this.cw;g[f]||(g[f]=[]);f=g[f];g=c.kc;if(d){if(c.Z.length&&(c=
c.Z[0],1===c.type&&2===c.Je.type)){c=c.Je.value.toLowerCase();d=0;for(e=f.length;d<e;d++)if(f[d].method==g){d=f[d].Jj;d[c]?d[c].push([a,b]):d[c]=[[a,b]];return}d={};d[c]=[[a,b]];f.push({method:g,Jj:d})}}else{d=0;for(e=f.length;d<e;d++)if(f[d].method==g){f[d].Jj.push([a,b]);return}L&&g===L.prototype.j.Vh?f.unshift({method:g,Jj:[[a,b]]}):f.push({method:g,Jj:[[a,b]]})}};vc=p;q.prototype.Op=function(){return this.ea?this.type.d.length:this.d.length};q.prototype.Ec=function(){return this.ea?this.type.d:
this.d};q.prototype.Ti=function(a){a&&(a.b.hb().lb.qd?(this.ea&&(y(this.d),Va(this.ca,a.type.d),this.ea=!1),a=this.ca.indexOf(a),-1!==a&&(this.d.push(this.ca[a]),this.ca.splice(a,1))):(this.ea=!1,y(this.d),this.d[0]=a))};$b=q;window._c2hh_="AA112687F4EF80903ED8BE589E06698DB636E0D7";r.prototype.tb=function(a){var b,d=this.parent;if(this.group)for(this.co=!0;d;){if(!d.group){this.co=!1;break}d=d.parent}this.Er=!this.Lt()&&(!this.parent||this.parent.group&&this.parent.co);this.ut=!!a;this.Gg=this.La.slice(0);
for(d=this.parent;d;){a=0;for(b=d.La.length;a<b;a++)this.Ly(d.La[a]);d=d.parent}this.La=h(this.La);this.Gg=h(this.Gg);a=0;for(b=this.Jb.length;a<b;a++)this.Jb[a].tb();a=0;for(b=this.Md.length;a<b;a++)this.Md[a].tb();a=0;for(b=this.de.length;a<b;a++)this.de[a].tb(a<b-1&&this.de[a+1].Im)};r.prototype.yv=function(a){if(this.qi!==!!a){this.qi=!!a;var b;a=0;for(b=this.Ql.length;a<b;++a)this.Ql[a].iw();0<b&&this.b.Ra.dh&&this.b.Ra.dh.Jr()}};r.prototype.ns=function(a){l(a,this.La)};r.prototype.Ly=function(a){l(a,
this.Gg)};r.prototype.Rn=function(){this.pr=!0;this.parent&&this.parent.Rn()};r.prototype.Lt=function(){return this.Jb.length?this.Jb[0].trigger:!1};r.prototype.Db=function(){var a,b,d=!1,e=this.b,c=this.b.hb();c.lb=this;var f=this.Jb;this.Im||(c.qp=!1);if(this.qd){0===f.length&&(d=!0);c.ub=0;for(a=f.length;c.ub<a;c.ub++)b=f[c.ub],b.trigger||(b=b.Db())&&(d=!0);(c.ph=d)&&this.Kn()}else{c.ub=0;for(a=f.length;c.ub<a;c.ub++)if(b=f[c.ub].Db(),!b){c.ph=!1;this.Er&&e.hg&&e.tc();return}c.ph=!0;this.Kn()}this.$z(c)};
r.prototype.$z=function(a){a.ph&&this.ut&&(a.qp=!0);this.Er&&this.b.hg&&this.b.tc()};r.prototype.lD=function(a){this.b.hb().lb=this;this.Jb[a].Db()&&(this.Kn(),this.b.hb().ph=!0)};r.prototype.Kn=function(){var a=this.b.hb(),b;a.Tc=0;for(b=this.Md.length;a.Tc<b;a.Tc++)if(this.Md[a.Tc].Db())return;this.rv()};r.prototype.iD=function(){var a=this.b.hb(),b;for(b=this.Md.length;a.Tc<b;a.Tc++)if(this.Md[a.Tc].Db())return;this.rv()};r.prototype.rv=function(){if(this.de.length){var a,b,d,e,c=this.de.length-
1;this.b.En(this);if(this.pr)for(a=0,b=this.de.length;a<b;a++)d=this.de[a],(e=!this.co||!this.group&&a<c)&&this.b.Vi(d.La),d.Db(),e?this.b.Cf(d.La):this.b.Yo(d.La);else for(a=0,b=this.de.length;a<b;a++)this.de[a].Db();this.b.wn()}};r.prototype.mD=function(){var a=this.b.hb();a.lb=this;var b=!1,d;a.ub=0;for(d=this.Jb.length;a.ub<d;a.ub++)if(this.Jb[a.ub].Db())b=!0;else if(!this.qd)return!1;return this.qd?b:!0};r.prototype.Wk=function(){this.b.fh++;var a=this.b.hb().ub,b=this.b.En(this);if(!this.qd)for(b.ub=
a+1,a=this.Jb.length;b.ub<a;b.ub++)if(!this.Jb[b.ub].Db()){this.b.wn();return}this.Kn();this.b.wn()};r.prototype.IB=function(a){var b=a.index;if(0===b)return!0;for(--b;0<=b;--b)if(this.Jb[b].type===a.type)return!1;return!0};Oc=r;a.prototype.tb=function(){var a,b,d;a=0;for(b=this.Z.length;a<b;a++)d=this.Z[a],d.tb(),d.ge&&(this.vj=!0)};a.prototype.oD=function(){return!0};a.prototype.er=function(){var a,b;a=0;for(b=this.Z.length;a<b;a++)this.pb[a]=this.Z[a].get();return vb(this.kc.apply(this.b.Xe,this.pb),
this.kg)};a.prototype.nD=function(){var a,b;a=0;for(b=this.Z.length;a<b;a++)this.pb[a]=this.Z[a].get();a=this.kc.apply(this.Pg?this.Pg:this.type,this.pb);this.type.hd();return a};a.prototype.dr=function(){var a,b,d,e,c,f,g,l,h=this.type,k=h.X(),m=this.vd.qd&&!this.trigger;b=0;var t=h.nc,p=h.N,q=h.nf,r=this.je,N=-1<r,O=this.vj,B=this.Z,x=this.pb,v=this.kg,Y=this.kc,D;if(O)for(b=0,c=B.length;b<c;++b)f=B[b],f.ge||(x[b]=f.get(0));else for(b=0,c=B.length;b<c;++b)x[b]=B[b].get(0);if(k.ea){y(k.d);y(k.ca);
D=h.d;a=0;for(e=D.length;a<e;++a){l=D[a];if(O)for(b=0,c=B.length;b<c;++b)f=B[b],f.ge&&(x[b]=f.get(a));N?(b=0,p&&(b=l.type.ki[q]),b=Y.apply(l.R[r+b],x)):b=Y.apply(l,x);(g=vb(b,v))?k.d.push(l):m&&k.ca.push(l)}h.finish&&h.finish(!0);k.ea=!1;h.hd();return k.Op()}d=0;D=(g=m&&!this.vd.IB(this))?k.ca:k.d;var H=!1;a=0;for(e=D.length;a<e;++a){l=D[a];if(O)for(b=0,c=B.length;b<c;++b)f=B[b],f.ge&&(x[b]=f.get(a));N?(b=0,p&&(b=l.type.ki[q]),b=Y.apply(l.R[r+b],x)):b=Y.apply(l,x);if(vb(b,v))if(H=!0,g){if(k.d.push(l),
t)for(b=0,c=l.siblings.length;b<c;b++)f=l.siblings[b],f.type.X().d.push(f)}else{D[d]=l;if(t)for(b=0,c=l.siblings.length;b<c;b++)f=l.siblings[b],f.type.X().d[d]=f;d++}else if(g){D[d]=l;if(t)for(b=0,c=l.siblings.length;b<c;b++)f=l.siblings[b],f.type.X().ca[d]=f;d++}else if(m&&(k.ca.push(l),t))for(b=0,c=l.siblings.length;b<c;b++)f=l.siblings[b],f.type.X().ca.push(f)}Ua(D,d);if(t)for(p=h.jd,a=0,e=p.length;a<e;a++)l=p[a].X(),g?Ua(l.ca,d):Ua(l.d,d);d=H;if(g&&!H)for(a=0,e=k.d.length;a<e;a++){l=k.d[a];if(O)for(b=
0,c=B.length;b<c;b++)f=B[b],f.ge&&(x[b]=f.get(a));b=N?Y.apply(l.R[r],x):Y.apply(l,x);if(vb(b,v)){H=!0;break}}h.finish&&h.finish(d||m);return m?H:k.Op()};Jc=a;e.prototype.tb=function(){var a,b,d;a=0;for(b=this.Z.length;a<b;a++)d=this.Z[a],d.tb(),d.ge&&(this.vj=!0)};e.prototype.er=function(){var a=this.b,b,d,e=this.Z,c=this.pb;b=0;for(d=e.length;b<d;++b)c[b]=e[b].get();return this.kc.apply(a.Xe,c)};e.prototype.dr=function(){var a=this.type,b=this.je,d=a.nf,e=this.vj,c=this.Z,f=this.pb,g=this.kc,l=a.X().Ec(),
a=a.N,k=-1<b,h,m,t,p,q,r;if(e)for(m=0,p=c.length;m<p;++m)q=c[m],q.ge||(f[m]=q.get(0));else for(m=0,p=c.length;m<p;++m)f[m]=c[m].get(0);h=0;for(t=l.length;h<t;++h){r=l[h];if(e)for(m=0,p=c.length;m<p;++m)q=c[m],q.ge&&(f[m]=q.get(h));k?(m=0,a&&(m=r.type.ki[d]),g.apply(r.R[b+m],f)):g.apply(r,f)}return!1};Kc=e;var N=[],O=-1;d.prototype.tb=function(){var a,b;if(11===this.type)this.eh=this.b.kt(this.sl,this.vd.parent);else if(13===this.type)for(a=0,b=this.Nh.length;a<b;a++)this.Nh[a].tb();this.Je&&this.Je.tb()};
d.prototype.bC=function(a){this.ge||!a||a.Qa.Vn||(this.ge=!0)};d.prototype.Cv=function(){this.ge=!0};d.prototype.dB=function(a){this.Hf=a||0;a=b();this.Je.get(a);O--;return a.data};d.prototype.eB=function(a){this.Hf=a||0;a=b();this.Je.get(a);O--;return Ca(a.data)?a.data:""};d.prototype.kB=function(){return this.object};d.prototype.bB=function(){return this.Is};d.prototype.iB=function(a){this.Hf=a||0;a=b();this.Je.get(a);O--;return a.ac()?this.b.oi(a.data):this.b.pm(a.data)};d.prototype.jB=function(){return this.sb};
d.prototype.hB=function(){return this.key};d.prototype.gB=function(){return this.index};d.prototype.fB=function(a){a=a||0;var b=this.bb.type,d=null,d=b.X(),e=d.Ec();if(e.length)d=e[a%e.length].type;else if(d.ca.length)d=d.ca[a%d.ca.length].type;else if(b.d.length)d=b.d[a%b.d.length].type;else return 0;return this.index+d.gm[b.nf]};d.prototype.cB=function(){return this.eh};d.prototype.aB=function(){return this.Xs};d.prototype.lB=function(){var a,b;a=0;for(b=this.Nh.length;a<b;a++)this.rl[a]=this.Nh[a].get();
return this.rl};Lc=d;f.prototype.tb=function(){this.La=h(this.La)};f.prototype.Sn=function(a){var b=this.b.it();this.parent&&!this.fk&&b?(this.uh>=b.length&&(b.length=this.uh+1),b[this.uh]=a):this.data=a};f.prototype.ot=function(){var a=this.b.it();return!this.parent||this.fk||!a||this.Hm?this.data:this.uh>=a.length||"undefined"===typeof a[this.uh]?this.Up:a[this.uh]};f.prototype.Db=function(){!this.parent||this.fk||this.Hm||this.Sn(this.Up)};Fc=f;k.prototype.toString=function(){return"include:"+
this.Uj.toString()};k.prototype.tb=function(){this.Uj=this.b.sp[this.yB];this.sheet.xt.add(this);this.La=h(this.La);for(var a=this.parent;a;)a.group&&a.Ql.push(this),a=a.parent;this.iw()};k.prototype.Db=function(){this.parent&&this.b.Uk(this.b.H);this.Uj.Pp||this.Uj.Db(!0);this.parent&&this.b.Cf(this.b.H)};k.prototype.iw=function(){for(var a=this.parent;a;){if(a.group&&!a.qi){this.Hb=!1;return}a=a.parent}this.Hb=!0};Pc=k;g.prototype.reset=function(a){this.lb=a;this.Tc=this.ub=0;y(this.Uv);this.qp=
this.ph=!1};g.prototype.Ht=function(){return this.lb.pr?!0:this.ub<this.lb.Jb.length-1?!!this.lb.La.length:!1};Ec=g})();
(function(){function c(c,a){this.bb=c;this.b=c.b;this.type=a[0];this.get=[this.rA,this.nA,this.AA,this.DA,this.cA,this.BA,this.vA,this.kA,this.uA,this.zA,this.dA,this.yA,this.lA,this.wA,this.sA,this.tA,this.oA,this.pA,this.jA,this.CA,this.xA,this.qA,this.iA,this.mA][this.type];var e=null;this.Af=this.Z=this.pb=this.kc=this.bo=this.second=this.first=this.value=null;this.je=-1;this.me=null;this.pw=-1;this.eh=this.sl=null;this.Zi=!1;switch(this.type){case 0:case 1:case 2:this.value=a[1];break;case 3:this.first=
new Nc(c,a[1]);break;case 18:this.first=new Nc(c,a[1]);this.second=new Nc(c,a[2]);this.bo=new Nc(c,a[3]);break;case 19:this.kc=this.b.Of(a[1]);this.kc!==F.prototype.I.random&&this.kc!==F.prototype.I.Es||this.bb.Cv();this.pb=[];this.Z=[];3===a.length?(e=a[2],this.pb.length=e.length+1):this.pb.length=1;break;case 20:this.Af=this.b.H[a[1]];this.je=-1;this.kc=this.b.Of(a[2]);this.Zi=a[3];bd&&this.kc===bd.prototype.I.Aw&&this.bb.Cv();a[4]?this.me=new Nc(c,a[4]):this.me=null;this.pb=[];this.Z=[];6===a.length?
(e=a[5],this.pb.length=e.length+1):this.pb.length=1;break;case 21:this.Af=this.b.H[a[1]];this.Zi=a[2];a[3]?this.me=new Nc(c,a[3]):this.me=null;this.pw=a[4];break;case 22:this.Af=this.b.H[a[1]];this.Af.om(a[2]);this.je=this.Af.yp(a[2]);this.kc=this.b.Of(a[3]);this.Zi=a[4];a[5]?this.me=new Nc(c,a[5]):this.me=null;this.pb=[];this.Z=[];7===a.length?(e=a[6],this.pb.length=e.length+1):this.pb.length=1;break;case 23:this.sl=a[1],this.eh=null}this.bb.bC(this.Af);4<=this.type&&17>=this.type&&(this.first=new Nc(c,
a[1]),this.second=new Nc(c,a[2]));if(e){var b,d;b=0;for(d=e.length;b<d;b++)this.Z.push(new Nc(c,e[b]))}}function m(){++r;q.length===r&&q.push(new Mc);return q[r]}function h(c,a,e){var b,d;b=0;for(d=c.length;b<d;++b)c[b].get(e),a[b+1]=e.data}function p(c,a){this.type=c||Qc.Uh;this.data=a||0;this.zh=null;this.type==Qc.Uh&&(this.data=Math.floor(this.data))}c.prototype.tb=function(){23===this.type&&(this.eh=this.bb.b.kt(this.sl,this.bb.vd.parent));this.first&&this.first.tb();this.second&&this.second.tb();
this.bo&&this.bo.tb();this.me&&this.me.tb();if(this.Z){var c,a;c=0;for(a=this.Z.length;c<a;c++)this.Z[c].tb()}};var q=[],r=-1;c.prototype.CA=function(c){var a=this.Z,e=this.pb;e[0]=c;c=m();h(a,e,c);--r;this.kc.apply(this.b.Xe,e)};c.prototype.xA=function(c){var a=this.Af,e=this.pb,b=this.Z,d=this.me,f=this.kc,k=this.bb.Hf,g=a.X(),t=g.Ec();if(!t.length)if(g.ca.length)t=g.ca;else{this.Zi?c.ud(""):c.Ca(0);return}e[0]=c;c.zh=a;c=m();h(b,e,c);d&&(d.get(c),c.ac()&&(k=c.data,t=a.d));--r;a=t.length;if(k>=
a||k<=-a)k%=a;0>k&&(k+=a);f.apply(t[k],e)};c.prototype.iA=function(c){var a=this.Af,e=this.pb,b=this.Z,d=this.me,f=this.je,k=this.kc,g=this.bb.Hf,t=a.X(),p=t.Ec();if(!p.length)if(t.ca.length)p=t.ca;else{this.Zi?c.ud(""):c.Ca(0);return}e[0]=c;c.zh=a;c=m();h(b,e,c);d&&(d.get(c),c.ac()&&(g=c.data,p=a.d));--r;b=p.length;if(g>=b||g<=-b)g%=b;0>g&&(g+=b);g=p[g];p=0;a.N&&(p=g.type.ki[a.nf]);k.apply(g.R[f+p],e)};c.prototype.qA=function(c){var a=this.me,e=this.Af,b=this.pw,d=this.bb.Hf,f=e.X(),h=f.Ec();if(!h.length)if(f.ca.length)h=
f.ca;else{this.Zi?c.ud(""):c.Ca(0);return}if(a){f=m();a.get(f);if(f.ac()){d=f.data;h=e.d;0!==h.length&&(d%=h.length,0>d&&(d+=h.length));d=e.Dp(d);e=d.Ob[b];Ca(e)?c.ud(e):c.A(e);--r;return}--r}a=h.length;if(d>=a||d<=-a)d%=a;0>d&&(d+=a);d=h[d];h=0;e.N&&(h=d.type.gm[e.nf]);e=d.Ob[b+h];Ca(e)?c.ud(e):c.A(e)};c.prototype.rA=function(c){c.type=Qc.Uh;c.data=this.value};c.prototype.nA=function(c){c.type=Qc.Th;c.data=this.value};c.prototype.AA=function(c){c.type=Qc.String;c.data=this.value};c.prototype.DA=
function(c){this.first.get(c);c.ac()&&(c.data=-c.data)};c.prototype.cA=function(c){this.first.get(c);var a=m();this.second.get(a);c.ac()&&a.ac()&&(c.data+=a.data,a.wi()&&c.Li());--r};c.prototype.BA=function(c){this.first.get(c);var a=m();this.second.get(a);c.ac()&&a.ac()&&(c.data-=a.data,a.wi()&&c.Li());--r};c.prototype.vA=function(c){this.first.get(c);var a=m();this.second.get(a);c.ac()&&a.ac()&&(c.data*=a.data,a.wi()&&c.Li());--r};c.prototype.kA=function(c){this.first.get(c);var a=m();this.second.get(a);
c.ac()&&a.ac()&&(c.data/=a.data,c.Li());--r};c.prototype.uA=function(c){this.first.get(c);var a=m();this.second.get(a);c.ac()&&a.ac()&&(c.data%=a.data,a.wi()&&c.Li());--r};c.prototype.zA=function(c){this.first.get(c);var a=m();this.second.get(a);c.ac()&&a.ac()&&(c.data=Math.pow(c.data,a.data),a.wi()&&c.Li());--r};c.prototype.dA=function(c){this.first.get(c);var a=m();this.second.get(a);a.Ai()||c.Ai()?this.fA(c,a):this.eA(c,a);--r};c.prototype.fA=function(c,a){c.Ai()&&a.Ai()?this.hA(c,a):this.gA(c,
a)};c.prototype.hA=function(c,a){c.data+=a.data};c.prototype.gA=function(c,a){c.Ai()?c.data+=(Math.round(1E10*a.data)/1E10).toString():c.ud(c.data.toString()+a.data)};c.prototype.eA=function(c,a){c.Ca(c.data&&a.data?1:0)};c.prototype.yA=function(c){this.first.get(c);var a=m();this.second.get(a);c.ac()&&a.ac()&&(c.data||a.data?c.Ca(1):c.Ca(0));--r};c.prototype.jA=function(c){this.first.get(c);c.data?this.second.get(c):this.bo.get(c)};c.prototype.lA=function(c){this.first.get(c);var a=m();this.second.get(a);
c.Ca(c.data===a.data?1:0);--r};c.prototype.wA=function(c){this.first.get(c);var a=m();this.second.get(a);c.Ca(c.data!==a.data?1:0);--r};c.prototype.sA=function(c){this.first.get(c);var a=m();this.second.get(a);c.Ca(c.data<a.data?1:0);--r};c.prototype.tA=function(c){this.first.get(c);var a=m();this.second.get(a);c.Ca(c.data<=a.data?1:0);--r};c.prototype.oA=function(c){this.first.get(c);var a=m();this.second.get(a);c.Ca(c.data>a.data?1:0);--r};c.prototype.pA=function(c){this.first.get(c);var a=m();
this.second.get(a);c.Ca(c.data>=a.data?1:0);--r};c.prototype.mA=function(c){var a=this.eh.ot();za(a)?c.A(a):c.ud(a)};Nc=c;p.prototype.wi=function(){return this.type===Qc.Th};p.prototype.ac=function(){return this.type===Qc.Uh||this.type===Qc.Th};p.prototype.Ai=function(){return this.type===Qc.String};p.prototype.Li=function(){this.wi()||(this.Ai()&&(this.data=parseFloat(this.data)),this.type=Qc.Th)};p.prototype.Ca=function(c){this.type=Qc.Uh;this.data=Math.floor(c)};p.prototype.A=function(c){this.type=
Qc.Th;this.data=c};p.prototype.ud=function(c){this.type=Qc.String;this.data=c};p.prototype.Dv=function(c){za(c)?(this.type=Qc.Th,this.data=c):Ca(c)?(this.type=Qc.String,this.data=c.toString()):(this.type=Qc.Uh,this.data=0)};Mc=p;Qc={Uh:0,Th:1,String:2}})();function F(c){this.b=c;this.fd=[]}
F.prototype.gc=function(){var c={},m,h,p,q,r,l,a,e;c.waits=[];var b=c.waits,d;m=0;for(h=this.fd.length;m<h;m++){l=this.fd[m];d={t:l.time,st:l.Kv,s:l.nr,ev:l.hi.Aa,sm:[],sols:{}};l.hi.Md[l.Tc]&&(d.act=l.hi.Md[l.Tc].Aa);p=0;for(q=l.La.length;p<q;p++)d.sm.push(l.La[p].Aa);for(r in l.Qc)if(l.Qc.hasOwnProperty(r)){a=this.b.H[parseInt(r,10)];e={sa:l.Qc[r].Ln,insts:[]};p=0;for(q=l.Qc[r].qf.length;p<q;p++)e.insts.push(l.Qc[r].qf[p].uid);d.sols[a.Aa.toString()]=e}b.push(d)}return c};
F.prototype.Ic=function(c){c=c.waits;var m,h,p,q,r,l,a,e,b,d,f;y(this.fd);m=0;for(h=c.length;m<h;m++)if(l=c[m],e=this.b.vs[l.ev.toString()]){b=-1;p=0;for(q=e.Md.length;p<q;p++)if(e.Md[p].Aa===l.act){b=p;break}if(-1!==b){a={Qc:{},La:[],mp:!1};a.time=l.t;a.Kv=l.st||"";a.nr=!!l.s;a.hi=e;a.Tc=b;p=0;for(q=l.sm.length;p<q;p++)(e=this.b.rm(l.sm[p]))&&a.La.push(e);for(r in l.sols)if(l.sols.hasOwnProperty(r)&&(e=this.b.rm(parseInt(r,10)))){b=l.sols[r];d={Ln:b.sa,qf:[]};p=0;for(q=b.insts.length;p<q;p++)(f=
this.b.pi(b.insts[p]))&&d.qf.push(f);a.Qc[e.index.toString()]=d}this.fd.push(a)}}};
(function(){function c(){}function m(){}function h(){}var p=F.prototype;c.prototype.Rw=function(){return!0};c.prototype.as=function(){return!0};c.prototype.wx=function(){return!0};c.prototype.Fw=function(a,d,e){return Rc(a,d,e)};c.prototype.Nx=function(a){var d=this.b.hb(),e=d.lb,c=d.Ht(),d=this.b.lv();if(c)for(c=0;c<a&&!d.Gb;c++)this.b.Vi(e.La),d.index=c,e.Wk(),this.b.Cf(e.La);else for(c=0;c<a&&!d.Gb;c++)d.index=c,e.Wk();this.b.dv();return!1};var q=[],r=-1;c.prototype.Sw=function(a){var d=a.X();
r++;q.length===r&&q.push([]);var e=q[r];Va(e,d.Ec());var c=this.b.hb(),g=c.lb,h=c.Ht(),c=this.b.lv(),l,m,n,p,S,I,A=a.nc;if(h)for(h=0,l=e.length;h<l&&!c.Gb;h++){this.b.Vi(g.La);p=e[h];d=a.X();d.ea=!1;y(d.d);d.d[0]=p;if(A)for(m=0,n=p.siblings.length;m<n;m++)S=p.siblings[m],I=S.type.X(),I.ea=!1,y(I.d),I.d[0]=S;c.index=h;g.Wk();this.b.Cf(g.La)}else for(d.ea=!1,y(d.d),h=0,l=e.length;h<l&&!c.Gb;h++){p=e[h];d.d[0]=p;if(A)for(m=0,n=p.siblings.length;m<n;m++)S=p.siblings[m],I=S.type.X(),I.ea=!1,y(I.d),I.d[0]=
S;c.index=h;g.Wk()}y(e);this.b.dv();r--;return!1};c.prototype.Hx=function(a,d,e,c){var g,h,l,m;if(a){r++;q.length===r&&q.push([]);var n=q[r],p=a.X();Va(n,p.Ec());p.ea&&y(p.ca);var S=this.b.pf();l=g=0;for(h=n.length;g<h;g++)m=n[g],n[l]=m,d=S.Z[1].get(g),c=S.Z[3].get(g),Rc(d,e,c)?l++:p.ca.push(m);Ua(n,l);p.ea=!1;Va(p.d,n);y(n);r--;a.hd();return!!p.d.length}};c.prototype.Dy=function(){var a=this.b.pf().S;"undefined"===typeof a.TriggerOnce_lastTick&&(a.TriggerOnce_lastTick=-1);var d=a.TriggerOnce_lastTick,
e=this.b.Id;a.TriggerOnce_lastTick=e;return this.b.pq||d!==e-1};c.prototype.Qw=function(a){var d=this.b.pf(),e=d.S.Every_lastTime||0,c=this.b.yb.ma;"undefined"===typeof d.S.Every_seconds&&(d.S.Every_seconds=a);var g=d.S.Every_seconds;if(c>=e+g)return d.S.Every_lastTime=e+g,c>=d.S.Every_lastTime+.04&&(d.S.Every_lastTime=c),d.S.Every_seconds=a,!0;c<e-.1&&(d.S.Every_lastTime=c);return!1};c.prototype.Lw=function(a,d,e){return Rc(a.ot(),d,e)};c.prototype.$w=function(a){return(a=this.b.Sj[a.toLowerCase()])&&
a.qi};c.prototype.Gw=function(a,d,e){return a>=d&&a<=e};c.prototype.Wr=function(){var a=this.b.hb();return a.qp?!1:!a.ph};c.prototype.bs=function(){return!0};c.prototype.qx=function(){return!0};c.prototype.Do=function(){return!0};c.prototype.gs=function(){return!0};c.prototype.xx=function(){return!0};c.prototype.zl=function(){return!0};var l=[];c.prototype.Ix=function(a,d,e){if(!a)return!1;var c=a.X(),g=c.Ec(),h=this.b.hb().lb.qd,m=this.b.pf(),p,n;c.ea?(Va(l,g),y(c.ca),c.ea=!1,y(c.d)):h?(Va(l,c.ca),
y(c.ca)):(Va(l,g),y(c.d));g=0;for(h=l.length;g<h;++g)p=l[g],p.wa(),(n=vb(p.ic(d,e),m.kg))?c.d.push(p):c.ca.push(p);a.hd();return vb(!!c.d.length,m.kg)};c.prototype.ww=function(a,d,e){return ib(bb(a),bb(e))<=bb(d)};c.prototype.Zw=function(a,d){return lb(bb(a),bb(d))};c.prototype.Xw=function(a,d,e){a=gb(a);d=gb(d);e=gb(e);return lb(e,d)?lb(a,d)&&!lb(a,e):!(!lb(a,d)&&lb(a,e))};p.j=new c;m.prototype.Pw=function(a,d,e,c){if(d&&a&&(d=this.b.hp(a,d,e,c))){this.b.Cd++;var g;this.b.trigger(Object.getPrototypeOf(a.Qa).j.Pf,
d);if(d.nc)for(e=0,c=d.siblings.length;e<c;e++)g=d.siblings[e],this.b.trigger(Object.getPrototypeOf(g.type.Qa).j.Pf,g);this.b.Cd--;a=a.X();a.ea=!1;y(a.d);a.d[0]=d;if(d.nc)for(e=0,c=d.siblings.length;e<c;e++)g=d.siblings[e],a=g.type.X(),a.ea=!1,y(a.d),a.d[0]=g}};m.prototype.ay=function(a,d){a&&a.visible!==d&&(a.visible=d,this.b.Ma=!0)};m.prototype.qy=function(a,d){0===a.qw?za(d)?a.Sn(d):a.Sn(parseFloat(d)):1===a.qw&&a.Sn(d.toString())};m.prototype.cy=function(a,d){var e=d;0>e&&(e=0);if(a){var c=a.X().Ec(),
g,h;g=0;for(h=c.length;g<h;g++)c[g].Oi=e}};var a=[],e=[];m.prototype.Fy=function(b){if(!(0>b)){var d,c,h,g=this.b.hb(),l;a.length?l=a.pop():l={Qc:{},La:[]};l.mp=!1;l.time=this.b.yb.ma+b;l.Kv="";l.nr=!1;l.hi=g.lb;l.Tc=g.Tc+1;b=0;for(d=this.b.H.length;b<d;b++)h=this.b.H[b],c=h.X(),c.ea&&-1===g.lb.La.indexOf(h)||(l.La.push(h),h=void 0,e.length?h=e.pop():h={qf:[]},h.Ln=!1,h.Ln=c.ea,Va(h.qf,c.d),l.Qc[b.toString()]=h);this.fd.push(l);return!0}};m.prototype.Tw=function(a){if(!this.b.Bi&&!this.b.Tg)for(var d in this.b.Hi)if(this.b.Hi.hasOwnProperty(d)&&
Wb(d,a)){this.b.Tg=this.b.Hi[d];break}};m.prototype.Ox=function(){if(!this.b.Bi&&!this.b.Tg&&this.b.Ra){this.b.Tg=this.b.Ra;var a,d,e;a=0;for(d=this.b.Uf.length;a<d;a++)e=this.b.Uf[a],e.yv(e.zm)}};p.u=new m;h.prototype["int"]=function(a,d){Ca(d)?(a.Ca(parseInt(d,10)),isNaN(a.data)&&(a.data=0)):a.Ca(d)};h.prototype["float"]=function(a,d){Ca(d)?(a.A(parseFloat(d)),isNaN(a.data)&&(a.data=0)):a.A(d)};h.prototype.random=function(a,d,e){void 0===e?a.A(Math.random()*d):a.A(Math.random()*(e-d)+d)};h.prototype.sqrt=
function(a,d){a.A(Math.sqrt(d))};h.prototype.abs=function(a,d){a.A(Math.abs(d))};h.prototype.round=function(a,d){a.Ca(Math.round(d))};h.prototype.floor=function(a,d){a.Ca(Math.floor(d))};h.prototype.ceil=function(a,d){a.Ca(Math.ceil(d))};h.prototype.sin=function(a,d){a.A(Math.sin(bb(d)))};h.prototype.cos=function(a,d){a.A(Math.cos(bb(d)))};h.prototype.tan=function(a,d){a.A(Math.tan(bb(d)))};h.prototype.asin=function(a,d){a.A(cb(Math.asin(d)))};h.prototype.acos=function(a,d){a.A(cb(Math.acos(d)))};
h.prototype.atan=function(a,d){a.A(cb(Math.atan(d)))};h.prototype.exp=function(a,d){a.A(Math.exp(d))};h.prototype.log10=function(a,d){a.A(Math.log(d)/Math.LN10)};h.prototype.max=function(a){var d=arguments[1];"number"!==typeof d&&(d=0);var e,c,g;e=2;for(c=arguments.length;e<c;e++)g=arguments[e],"number"===typeof g&&d<g&&(d=g);a.A(d)};h.prototype.min=function(a){var d=arguments[1];"number"!==typeof d&&(d=0);var e,c,g;e=2;for(c=arguments.length;e<c;e++)g=arguments[e],"number"===typeof g&&d>g&&(d=g);
a.A(d)};h.prototype.bg=function(a){a.A(this.b.bg)};h.prototype.Ig=function(a){a.A(this.b.Ig)};h.prototype.time=function(a){a.A(this.b.yb.ma)};h.prototype.Id=function(a){a.Ca(this.b.Id)};h.prototype.en=function(a){a.Ca(this.b.en)};h.prototype.vp=function(a){a.Ca(this.b.vp)};h.prototype.XB=function(a,d){var e,c;if(this.b.Ek.length)if(d){for(c=this.b.Fk;0<=c;--c)if(e=this.b.Ek[c],e.name===d){a.Ca(e.index);return}a.Ca(0)}else e=this.b.jt(),a.Ca(e?e.index:-1);else a.Ca(0)};h.prototype.Az=function(a,d,
e,c,g){a.A(nb(d,e,c,g))};h.prototype.k=function(a,d,e,c,g){a.A(cb(hb(d,e,c,g)))};h.prototype.Yt=function(a,d,e,c){a.A(wb(d,e,c))};h.prototype.cE=function(a){a.Ca(this.b.width)};h.prototype.bE=function(a){a.Ca(this.b.height)};h.prototype.Ug=function(a,d,e,c){d<e?a.A(e):d>c?a.A(c):a.A(d)};h.prototype.SB=function(a,d){var e=this.b.Ep(d);e?a.A(100*e.Ed):a.A(0)};h.prototype.left=function(a,d,e){a.ud(Ca(d)?d.substr(0,e):"")};h.prototype.right=function(a,d,e){a.ud(Ca(d)?d.substr(d.length-e):"")};h.prototype.replace=
function(a,d,e,c){Ca(d)&&Ca(e)&&Ca(c)?a.ud(d.replace(new RegExp(Eb(e),"gi"),c)):a.ud(Ca(d)?d:"")};h.prototype.trim=function(a,d){a.ud(Ca(d)?d.trim():"")};h.prototype.Es=function(a){var d=Ja(Math.random()*(arguments.length-1));a.Dv(arguments[d+1])};h.prototype.fp=function(a){a.A(this.b.fp/1E3)};h.prototype.Vm=function(a){a.A(this.b.Vm)};h.prototype.TB=function(a,d,e,c){d=this.b.Ep(d);a.A(d?d.$a(e,c,!0):0)};h.prototype.UB=function(a,d,e,c){d=this.b.Ep(d);a.A(d?d.$a(e,c,!1):0)};p.I=new h;p.kD=function(){var b,
d,c,h,g,l,m=this.b.hb();b=0;for(c=this.fd.length;b<c;b++){h=this.fd[b];if(-1===h.time){if(!h.nr)continue}else if(h.time>this.b.yb.ma)continue;m.lb=h.hi;m.Tc=h.Tc;m.ub=0;for(d in h.Qc)h.Qc.hasOwnProperty(d)&&(g=this.b.H[parseInt(d,10)].X(),l=h.Qc[d],g.ea=l.Ln,Va(g.d,l.qf),g=l,y(g.qf),e.push(g));h.hi.iD();this.b.Yo(h.La);h.mp=!0}d=b=0;for(c=this.fd.length;b<c;b++)h=this.fd[b],this.fd[d]=h,h.mp?(yb(h.Qc),y(h.La),a.push(h)):d++;Ua(this.fd,d)}})();
(function(){Zb=function(c,h){var p=c[1],q=c[3],r=c[4],l=c[5],a=c[6],e=c[7],b=c[8];h.j||(h.j={});h.u||(h.u={});h.I||(h.I={});var d=h.j,f=h.u,k=h.I;q&&(d.pE=function(a,b){return Rc(this.x,a,b)},d.Mw=function(a,b){return Rc(this.y,a,b)},d.CE=function(){var a=this.n;this.wa();var b=this.Ua;return!(b.right<a.Na||b.bottom<a.Oa||b.left>a.Ta||b.top>a.Sa)},d.DE=function(){this.wa();var a=this.Ua,b=this.b.Ra;return 0>a.right||0>a.bottom||a.left>b.width||a.top>b.height},d.YE=function(a,b,d){var e=this.X(),c=
e.Ec();if(!c.length)return!1;var f=c[0],h=f,l=nb(f.x,f.y,b,d),k,m,p;k=1;for(m=c.length;k<m;k++)if(f=c[k],p=nb(f.x,f.y,b,d),0===a&&p<l||1===a&&p>l)l=p,h=f;e.Ti(h);return!0},f.ty=function(a){this.x!==a&&(this.x=a,this.U())},f.uy=function(a){this.y!==a&&(this.y=a,this.U())},f.gy=function(a,b){if(this.x!==a||this.y!==b)this.x=a,this.y=b,this.U()},f.hy=function(a,b){var d=a.UA(this);if(d){var e;d.Le?(e=d.Le(b,!0),d=d.Le(b,!1)):(e=d.x,d=d.y);if(this.x!==e||this.y!==d)this.x=e,this.y=d,this.U()}},f.ME=function(a){0!==
a&&(this.x+=Math.cos(this.k)*a,this.y+=Math.sin(this.k)*a,this.U())},f.LE=function(a,b){0!==b&&(this.x+=Math.cos(bb(a))*b,this.y+=Math.sin(bb(a))*b,this.U())},k.Go=function(a){a.A(this.x)},k.Ho=function(a){a.A(this.y)},k.bg=function(a){a.A(this.b.ni(this))});r&&(d.oE=function(a,b){return Rc(this.width,a,b)},d.nE=function(a,b){return Rc(this.height,a,b)},f.js=function(a){this.width!==a&&(this.width=a,this.U())},f.Yx=function(a){this.height!==a&&(this.height=a,this.U())},f.jy=function(a,b){if(this.width!==
a||this.height!==b)this.width=a,this.height=b,this.U()},k.Gy=function(a){a.A(this.width)},k.zE=function(a){a.A(this.height)},k.hE=function(a){this.wa();a.A(this.Ua.left)},k.jE=function(a){this.wa();a.A(this.Ua.top)},k.iE=function(a){this.wa();a.A(this.Ua.right)},k.gE=function(a){this.wa();a.A(this.Ua.bottom)});l&&(d.ww=function(a,b){return ib(this.k,bb(b))<=bb(a)},d.Zw=function(a){return lb(this.k,bb(a))},d.Xw=function(a,b){var d=gb(a),e=gb(b),c=eb(this.k);return lb(e,d)?lb(c,d)&&!lb(c,e):!(!lb(c,
d)&&lb(c,e))},f.hs=function(a){a=bb(db(a));isNaN(a)||this.k===a||(this.k=a,this.U())},f.eF=function(a){0===a||isNaN(a)||(this.k+=bb(a),this.k=eb(this.k),this.U())},f.fF=function(a){0===a||isNaN(a)||(this.k-=bb(a),this.k=eb(this.k),this.U())},f.Px=function(a,b){var d=jb(this.k,bb(b),bb(a));isNaN(d)||this.k===d||(this.k=d,this.U())},f.gF=function(a,b,d){a=jb(this.k,Math.atan2(d-this.y,b-this.x),bb(a));isNaN(a)||this.k===a||(this.k=a,this.U())},f.oy=function(a,b){var d=Math.atan2(b-this.y,a-this.x);
isNaN(d)||this.k===d||(this.k=d,this.U())},k.vw=function(a){a.A(fb(this.k))});p||(d.Iw=function(a,b,d){return Rc(this.Ob[a],b,d)},d.Yw=function(a){return this.Ob[a]},d.ZE=function(a,b){var d=this.X(),e=d.Ec();if(!e.length)return!1;var c=e[0],f=c,h=c.Ob[b],l,k,m;l=1;for(k=e.length;l<k;l++)if(c=e[l],m=c.Ob[b],0===a&&m<h||1===a&&m>h)h=m,f=c;d.Ti(f);return!0},d.XE=function(a){var b,d,e,c,f;if(this.b.pf().kg){f=this.X();if(f.ea)for(f.ea=!1,y(f.d),y(f.ca),e=this.d,b=0,d=e.length;b<d;b++)c=e[b],c.uid===
a?f.ca.push(c):f.d.push(c);else{e=b=0;for(d=f.d.length;b<d;b++)c=f.d[b],f.d[e]=c,c.uid===a?f.ca.push(c):e++;Ua(f.d,e)}this.hd();return!!f.d.length}c=this.b.pi(a);if(!c)return!1;f=this.X();if(!f.ea&&-1===f.d.indexOf(c))return!1;if(this.N)for(a=c.type.gb,b=0,d=a.length;b<d;b++){if(a[b]===this)return f.Ti(c),this.hd(),!0}else if(c.type===this)return f.Ti(c),this.hd(),!0;return!1},d.Pf=function(){return!0},d.Bo=function(){return!0},f.$x=function(a,b){var d=this.Ob;za(d[a])?d[a]=za(b)?b:parseFloat(b):
Ca(d[a])&&(d[a]=Ca(b)?b:b.toString())},f.uw=function(a,b){var d=this.Ob;za(d[a])?d[a]=za(b)?d[a]+b:d[a]+parseFloat(b):Ca(d[a])&&(d[a]=Ca(b)?d[a]+b:d[a]+b.toString())},f.Ay=function(a,b){var d=this.Ob;za(d[a])&&(d[a]=za(b)?d[a]-b:d[a]-parseFloat(b))},f.Tx=function(a,b){this.Ob[a]=b?1:0},f.By=function(a){this.Ob[a]=1-this.Ob[a]},f.Vr=function(){this.b.Ze(this)},f.kx||(f.kx=function(a){var b,d;try{b=JSON.parse(a)}catch(e){return}this.b.Tm(this,b,!0);this.Ce&&this.Ce();if(this.R)for(a=0,b=this.R.length;a<
b;++a)d=this.R[a],d.Ce&&d.Ce()}),k.Ow=function(a){var b=a.zh.d.length,d,e,c;d=0;for(e=this.b.le.length;d<e;d++)c=this.b.le[d],a.zh.N?0<=c.type.gb.indexOf(a.zh)&&b++:c.type===a.zh&&b++;a.Ca(b)},k.aF=function(a){a.Ca(a.zh.X().Ec().length)},k.Ey=function(a){a.Ca(this.uid)},k.BE=function(a){a.Ca(this.Qj())},k.xw||(k.xw=function(a){a.ud(JSON.stringify(this.b.fr(this,!0)))}));a&&(d.EE=function(){return this.visible},f.ry=function(a){!a!==!this.visible&&(this.visible=!!a,this.b.Ma=!0)},d.Jw=function(a,b){return Rc(Vb(100*
this.opacity),a,b)},f.ey=function(a){a=a/100;0>a?a=0:1<a&&(a=1);a!==this.opacity&&(this.opacity=a,this.b.Ma=!0)},k.Opacity=function(a){a.A(Vb(100*this.opacity))});e&&(d.bx=function(a){return a?this.n===a:!1},d.$E=function(a){var b=this.X(),d=b.Ec();if(!d.length)return!1;var e=d[0],c=e,f,h;f=1;for(h=d.length;f<h;f++)if(e=d[f],0===a){if(e.n.index>c.n.index||e.n.index===c.n.index&&e.Rd()>c.Rd())c=e}else if(e.n.index<c.n.index||e.n.index===c.n.index&&e.Rd()<c.Rd())c=e;b.Ti(c);return!0},f.PE=function(){var a=
this.n,b=a.d;b.length&&b[b.length-1]===this||(a.Yi(this,!1),a.xj(this,!1),this.b.Ma=!0)},f.NE=function(){var a=this.n,b=a.d;b.length&&b[0]===this||(a.Yi(this,!1),a.HC(this),this.b.Ma=!0)},f.OE=function(a){a&&a!=this.n&&(this.n.Yi(this,!0),this.n=a,a.xj(this,!0),this.b.Ma=!0)},f.oF=function(a,b){var d=0===a;if(b){var e=b.Cp(this);e&&e.uid!==this.uid&&(this.n.index!==e.n.index&&(this.n.Yi(this,!0),this.n=e.n,e.n.xj(this,!0)),this.n.dC(this,e,d),this.b.Ma=!0)}},k.JE=function(a){a.Ca(this.n.Fu)},k.IE=
function(a){a.ud(this.n.name)},k.nF=function(a){a.Ca(this.Rd())});b&&(f.Wx=function(a,b){if(this.b.F){var d=this.type.Bp(b);if(!(0>d)){var e=1===a;this.Rf[d]!==e&&(this.Rf[d]=e,this.ze(),this.b.Ma=!0)}}},f.Xx=function(a,b,d){if(this.b.F){var e=this.type.Bp(a);0>e||(a=this.type.ja[e],e=this.mb[e],b=Math.floor(b),0>b||b>=e.length||(1===this.b.F.YA(a.Eb,b)&&(d/=100),e[b]!==d&&(e[b]=d,a.Hb&&(this.b.Ma=!0))))}})};wc=function(){this.To=this.Ll=!0;this.type.El=!0;this.b.Ma=!0;var c,h,p=this.Qo;c=0;for(h=
p.length;c<h;++c)p[c](this);this.n.Ld&&this.wa()};xc=function(c){c&&this.Qo.push(c)};zc=function(){if(this.Ll){var c=this.Ua,h=this.xc;c.set(this.x,this.y,this.x+this.width,this.y+this.height);c.offset(-this.Mb*this.width,-this.Nb*this.height);this.k?(c.offset(-this.x,-this.y),h.Fv(c,this.k),h.offset(this.x,this.y),h.xs(c)):h.ej(c);c.normalize();this.Ll=!1;this.lw()}};var c=new Na(0,0,0,0);Ac=function(){if(this.n.Ld){var m=this.n.qc,h=this.Ua;c.set(m.Rc(h.left),m.Sc(h.top),m.Rc(h.right),m.Sc(h.bottom));
this.ad.Ij(c)||(this.ad.right<this.ad.left?m.update(this,null,c):m.update(this,this.ad,c),this.ad.ai(c),this.n.re=!0)}};Bc=function(){if(this.To&&this.hf){this.wa();var m=this.type.Pl,h=this.Ua;c.set(m.Rc(h.left),m.Sc(h.top),m.Rc(h.right),m.Sc(h.bottom));this.Zf.Ij(c)||(this.Zf.right<this.Zf.left?m.update(this,null,c):m.update(this,this.Zf,c),this.Zf.ai(c),this.To=!1)}};yc=function(c,h){return this.Ua.ic(c,h)&&this.xc.ic(c,h)?this.Jd?this.EF(c,h):this.na&&!this.na.nh()?(this.na.Sg(this.width,this.height,
this.k),this.na.ic(c-this.x,h-this.y)):!0:!1};sc=function(){this.type.lo();return this.lh};Cc=function(){this.n.Lr();return this.Ae};Dc=function(){y(this.Ha);var c,h,p,q=!0;c=0;for(h=this.Rf.length;c<h;c++)this.Rf[c]&&(p=this.type.ja[c],this.Ha.push(p),p.Zc||(q=!1));this.mw=!!this.Ha.length;this.Gf=q};tc=function(){return"Inst"+this.jv};bc=function(c){if(c&&c.nc&&c.type!=this){var h,p,q;h=0;for(p=c.siblings.length;h<p;h++)if(q=c.siblings[h],q.type==this)return q}c=this.X().Ec();return c.length?c[0]:
null};cc=function(c){var h=this.X().Ec();return h.length?h[c.Qj()%h.length]:null};ac=function(){if(this.gj&&!this.N){var c,h;c=0;for(h=this.d.length;c<h;c++)this.d[c].lh=c;var p=c,q=this.b.le;c=0;for(h=q.length;c<h;++c)q[c].type===this&&(q[c].lh=p++);this.gj=!1}};qc=function(c){if(c<this.d.length)return this.d[c];c-=this.d.length;var h=this.b.le,p,q;p=0;for(q=h.length;p<q;++p)if(h[p].type===this){if(0===c)return h[p];--c}return null};dc=function(){return this.If[this.Ie]};ec=function(){this.Ie++;
this.Ie===this.If.length?this.If.push(new $b(this)):(this.If[this.Ie].ea=!0,y(this.If[this.Ie].ca))};fc=function(){this.Ie++;this.Ie===this.If.length&&this.If.push(new $b(this));var c=this.If[this.Ie],h=this.If[this.Ie-1];h.ea?c.ea=!0:(c.ea=!1,Va(c.d,h.d));y(c.ca)};gc=function(){this.Ie--};hc=function(c){var h,p,q,r,l,a=0;if(!this.N)for(h=0,p=this.gb.length;h<p;h++)for(l=this.gb[h],q=0,r=l.jb.length;q<r;q++){if(c===l.jb[q].name)return this.S.lastBehIndex=a,l.jb[q];a++}h=0;for(p=this.jb.length;h<p;h++){if(c===
this.jb[h].name)return this.S.lastBehIndex=a,this.jb[h];a++}return null};nc=function(c){return this.om(c)?this.S.lastBehIndex:-1};oc=function(c){var h,p;h=0;for(p=this.ja.length;h<p;h++)if(this.ja[h].name===c)return h;return-1};pc=function(){if(this.nc&&!this.N){var c,h,p,q,r,l,a;this.lo();l=this.X();var e=l.ea,b=(c=this.b.hb())&&c.lb&&c.lb.qd;c=0;for(h=this.jd.length;c<h;c++)if(r=this.jd[c],r!==this&&(r.lo(),a=r.X(),a.ea=e,!e)){y(a.d);p=0;for(q=l.d.length;p<q;++p)a.d[p]=r.Dp(l.d[p].lh);if(b)for(y(a.ca),
p=0,q=l.ca.length;p<q;++p)a.ca[p]=r.Dp(l.ca[p].lh)}}};rc=function(){return"Type"+this.Aa};Rc=function(c,h,p){if("undefined"===typeof c||"undefined"===typeof p)return!1;switch(h){case 0:return c===p;case 1:return c!==p;case 2:return c<p;case 3:return c<=p;case 4:return c>p;case 5:return c>=p;default:return!1}}})();
var Zc={hardlight:{src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nuniform lowp sampler2D samplerBack;\nuniform mediump vec2 destStart;\nuniform mediump vec2 destEnd;\nvoid main(void)\n{\nlowp vec4 front = texture2D(samplerFront, vTex);\nlowp vec4 back = texture2D(samplerBack, mix(destStart, destEnd, vTex));\nif (front.r * 0.299 + front.g * 0.587 + front.b * 0.114 <= 0.5)\n{\nfront *= back * 2.0;\n}\nelse\n{\nfront.rgb = 1.0 - ((1.0 - (2.0 * front.rgb - 1.0)) * (1.0 - back.rgb * front.a));\n}\ngl_FragColor = front;\n}",gh:0,
hh:0,bi:!0,Zc:!1,Wh:!1,Z:[]},inverse:{src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nuniform lowp float intensity;\nvoid main(void)\n{\nlowp vec4 front = texture2D(samplerFront, vTex);\nlowp vec3 inverse = vec3(front.a - front.rgb);\ngl_FragColor = vec4(mix(front.rgb, inverse, intensity), front.a);\n}",gh:0,hh:0,bi:!1,Zc:!0,Wh:!1,Z:[["intensity",0,1]]},normalmapext:{src:"precision highp float;\nvarying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nuniform lowp sampler2D samplerBack;\nuniform mediump vec2 destStart;\nuniform mediump vec2 destEnd;\nuniform float posX;\nuniform float posY;\nuniform float posZ;\nuniform float colorR;\nuniform float colorG;\nuniform float colorB;\nuniform float lightLum;\nuniform float ambientR;\nuniform float ambientG;\nuniform float ambientB;\nuniform float ambientLum;\nuniform float falloffV1;\nuniform float falloffV2;\nuniform float falloffV3;\nuniform float posXb;\nuniform float posYb;\nuniform float posZb;\nuniform float colorRb;\nuniform float colorGb;\nuniform float colorBb;\nuniform float lightLumb;\nuniform float ambientRb;\nuniform float ambientGb;\nuniform float ambientBb;\nuniform float ambientLumb;\nuniform float falloffV1b;\nuniform float falloffV2b;\nuniform float falloffV3b;\nuniform float posXc;\nuniform float posYc;\nuniform float posZc;\nuniform float colorRc;\nuniform float colorGc;\nuniform float colorBc;\nuniform float lightLumc;\nuniform float ambientRc;\nuniform float ambientGc;\nuniform float ambientBc;\nuniform float ambientLumc;\nuniform float falloffV1c;\nuniform float falloffV2c;\nuniform float falloffV3c;\nuniform float windowX;\nuniform float windowY;\nvec2 Resolution;\nuniform float coneAngle; // new\nvec3 coneDirection; // new\nuniform float light2v;\nuniform float light3v;\nvec3 LightPos;\nvec4 LightColor = vec4(colorR,colorG,colorB,lightLum);\nvec4 AmbientColor = vec4(ambientR,ambientG,ambientB,ambientLum);\nvec3 Falloff = vec3(falloffV1,falloffV2,falloffV3);\nvec3 LightPosB;\nvec4 LightColorB = vec4(colorRb,colorGb,colorBb,lightLumb);\nvec4 AmbientColorB = vec4(ambientRb,ambientGb,ambientBb,ambientLumb);\nvec3 FalloffB = vec3(falloffV1b,falloffV2b,falloffV3b);\n/*\nvec4 LightColorB = (vec4(colorRb,colorGb,colorBb,lightLumb))*light2v;\nvec4 AmbientColorB = (vec4(ambientRb,ambientGb,ambientBb,ambientLumb))*light2v;\nvec3 FalloffB = (vec3(falloffV1b,falloffV2b,falloffV3b))*light2v;\nvec4 LightColorB = vec4(colorRb,colorGb,colorBb,lightLumb);\nvec4 AmbientColorB = vec4(ambientRb,ambientGb,ambientBb,ambientLumb);\nvec3 FalloffB = vec3(falloffV1b,falloffV2b,falloffV3b);\n*/\nvec3 LightPosC;\nvec4 LightColorC = vec4(colorRc,colorGc,colorBc,lightLumc);\nvec4 AmbientColorC = vec4(ambientRc,ambientGc,ambientBc,ambientLumc);\nvec3 FalloffC = vec3(falloffV1c,falloffV2c,falloffV3c);\n/*\nvec4 LightColorC = (vec4(colorRc,colorGc,colorBc,lightLumc))*light3v;\nvec4 AmbientColorC = (vec4(ambientRc,ambientGc,ambientBc,ambientLumc))*light3v;\nvec3 FalloffC = (vec3(falloffV1c,falloffV2c,falloffV3c))*light3v;\nvec4 LightColorC = vec4(colorRc,colorGc,colorBc,lightLumc);\nvec4 AmbientColorC = vec4(ambientRc,ambientGc,ambientBc,ambientLumc);\nvec3 FalloffC = vec3(falloffV1c,falloffV2c,falloffV3c);\n*/\nvoid main(void)\n{\nlowp vec4 front = texture2D(samplerFront, vTex);\nlowp vec4 back = texture2D(samplerBack, mix(destStart, destEnd, vTex));\nlowp vec4 DiffuseColor  = texture2D(samplerBack, mix(destStart, destEnd, vTex));\nmediump vec3 NormalMap  = texture2D(samplerFront, vTex).rgb;\nlowp vec4 DiffuseColorB  = texture2D(samplerBack, mix(destStart, destEnd, vTex));\nmediump vec3 NormalMapB  = texture2D(samplerFront, vTex).rgb;\nlowp vec4 DiffuseColorC  = texture2D(samplerBack, mix(destStart, destEnd, vTex));\nmediump vec3 NormalMapC  = texture2D(samplerFront, vTex).rgb;\nvec3 Sum = vec3(0.0);\n/*\nvec3 Sum = vec3(0.0);\nfor (... each light ...) {\n... calculate light using our illumination model ...\nSum += FinalColor;\n}\ngl_FragColor = vec4(Sum, DiffuseColor.a);\n*/\nfor (int i = 0; i < 1; i++)\n{\nLightPos.x = posX;\nLightPos.y = posY;\nLightPos.y = 1.0 - LightPos.y;\nLightPos.z = posZ;\nResolution.x = windowX;\nResolution.y = windowY;\nvec3 LightDir = vec3(LightPos.xy - (gl_FragCoord.xy / Resolution.xy), LightPos.z);\nLightDir.x *= Resolution.x / Resolution.y;\nfloat D = length(LightDir);\nvec3 N = normalize(NormalMap * 2.0 - 1.0);\nvec3 L = normalize(LightDir);\nvec3 Diffuse = (LightColor.rgb * LightColor.a) * max(dot(N, L), 0.0);\nvec3 Ambient = AmbientColor.rgb * AmbientColor.a;\nfloat Attenuation = 1.0 / ( Falloff.x + (Falloff.y*D) + (Falloff.z*D*D) );\nvec4 colors = vec4(1.0,1.0,1.0,1.0);\nvec3 Intensity = Ambient + Diffuse * Attenuation;\nvec3 FinalColor = DiffuseColor.rgb * Intensity;\ngl_FragColor =  (colors * vec4(FinalColor, DiffuseColor.a) * front.a );\nSum += FinalColor;\n}\nfor (int i = 0; i < 1; i++)\n{\nLightPosB.x = posXb;\nLightPosB.y = posYb;\nLightPosB.y = 1.0 - LightPosB.y;\nLightPosB.z = posZb;\nResolution.x = windowX;\nResolution.y = windowY;\nvec3 LightDirB = vec3(LightPosB.xy - (gl_FragCoord.xy / Resolution.xy), LightPosB.z);\nLightDirB.x *= Resolution.x / Resolution.y;\nfloat D = length(LightDirB);\nvec3 N = normalize(NormalMapB * 2.0 - 1.0);\nvec3 L = normalize(LightDirB);\nvec3 DiffuseB = (LightColorB.rgb * LightColorB.a) * max(dot(N, L), 0.0);\nvec3 AmbientB = AmbientColorB.rgb * AmbientColorB.a;\nfloat AttenuationB = 1.0 / ( FalloffB.x + (FalloffB.y*D) + (FalloffB.z*D*D) );\nvec4 colorsB = vec4(1.0,1.0,1.0,1.0);\nvec3 IntensityB = AmbientB + DiffuseB * AttenuationB;\nvec3 FinalColorB = DiffuseColorB.rgb * IntensityB;\ngl_FragColor =  (colorsB * vec4(FinalColorB, DiffuseColorB.a) * front.a );\nSum += FinalColorB * light2v;\n}\nfor (int i = 0; i < 1; i++)\n{\nLightPosC.x = posXc;\nLightPosC.y = posYc;\nLightPosC.y = 1.0 - LightPosC.y;\nLightPosC.z = posZc;\nResolution.x = windowX;\nResolution.y = windowY;\nvec3 LightDirC = vec3(LightPosC.xy - (gl_FragCoord.xy / Resolution.xy), LightPosC.z);\nLightDirC.x *= Resolution.x / Resolution.y;\nfloat D = length(LightDirC);\nvec3 N = normalize(NormalMapC * 2.0 - 1.0);\nvec3 L = normalize(LightDirC);\nvec3 DiffuseC = (LightColorC.rgb * LightColorC.a) * max(dot(N, L), 0.0);\nvec3 AmbientC = AmbientColorC.rgb * AmbientColorC.a;\nfloat AttenuationC = 1.0 / ( FalloffC.x + (FalloffC.y*D) + (FalloffC.z*D*D) );\nvec4 colorsC = vec4(1.0,1.0,1.0,1.0);\nvec3 IntensityC = AmbientC + DiffuseC * AttenuationC;\nvec3 FinalColorC = DiffuseColorC.rgb * IntensityC;\ngl_FragColor =  (colorsC * vec4(FinalColorC, DiffuseColorC.a) * front.a );\nSum += FinalColorC * light3v;\n}\ngl_FragColor = (vec4(Sum, DiffuseColor.a)) * front.a;\n}",
gh:0,hh:0,bi:!0,Zc:!1,Wh:!1,Z:[["posX",0,0],["posY",0,0],["posZ",0,0],["colorR",0,0],["colorG",0,0],["colorB",0,0],["lightLum",0,0],["ambientR",0,0],["ambientG",0,0],["ambientB",0,0],["ambientLum",0,0],["falloffV1",0,0],["falloffV2",0,0],["falloffV3",0,0],["light2v",0,0],["posXb",0,0],["posYb",0,0],["posZb",0,0],["colorRb",0,0],["colorGb",0,0],["colorBb",0,0],["lightLumb",0,0],["ambientRb",0,0],["ambientGb",0,0],["ambientBb",0,0],["ambientLumb",0,0],["falloffV1b",0,0],["falloffV2b",0,0],["falloffV3b",
0,0],["light3v",0,0],["posXc",0,0],["posYc",0,0],["posZc",0,0],["colorRc",0,0],["colorGc",0,0],["colorBc",0,0],["lightLumc",0,0],["ambientRc",0,0],["ambientGc",0,0],["ambientBc",0,0],["ambientLumc",0,0],["falloffV1c",0,0],["falloffV2c",0,0],["falloffV3c",0,0],["windowX",0,0],["windowY",0,0]]},warp:{src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nuniform mediump float seconds;\nuniform mediump float pixelWidth;\nuniform mediump float pixelHeight;\nuniform mediump float layerScale;\nuniform mediump float freqX;\nuniform mediump float freqY;\nuniform mediump float ampX;\nuniform mediump float ampY;\nuniform mediump float speedX;\nuniform mediump float speedY;\nvoid main(void)\n{\nmediump float boxLeft = 0.0;\nmediump float boxTop = 0.0;\nmediump float aspect = pixelHeight / pixelWidth;\nmediump vec2 p = vTex;\np.x += (cos((vTex.y - boxTop) * freqX / layerScale / (pixelWidth * 750.0) + (seconds * speedX)) * ampX * pixelWidth * layerScale);\np.y += (sin((vTex.x - boxLeft) * freqY * aspect / layerScale / (pixelHeight * 750.0) + (seconds * speedY)) * ampY * pixelHeight * layerScale);\ngl_FragColor = texture2D(samplerFront, p);\n}",
gh:25,hh:25,bi:!1,Zc:!1,Wh:!0,Z:[["freqX",0,0],["freqY",0,0],["ampX",0,0],["ampY",0,0],["speedX",0,0],["speedY",0,0]]}};function cd(c){this.b=c}
(function(){function c(a){-1===qa.indexOf(a)&&qa.push(a)}function m(a){var b=a.q,d;try{d=b.play()}catch(e){c(a);return}d?d.catch(function(){c(a)}):K&&!G.Hc&&c(a)}function h(){var a,b,d,e;Ya||ob||!v||(p(),"running"===v.state&&(Ya=!0));var f=qa.slice(0);y(qa);if(!P)for(a=0,b=f.length;a<b;++a)d=f[a],d.Gb||d.ld||(e=d.q.play())&&e.catch(function(){c(d)})}function p(){"suspended"===v.state&&v.resume&&v.resume();if(v.createBuffer){var a=v.createBuffer(1,220,22050),d=v.createBufferSource();d.buffer=a;d.connect(v.destination);
b(d)}}function q(a){a=Math.pow(10,a/20);isFinite(a)||(a=0);0>a&&(a=0);1<a&&(a=1);return a}function r(a){0>a&&(a=0);1<a&&(a=1);return Math.log(a)/Math.log(10)*20}function l(a){a=a.toLowerCase();return J.hasOwnProperty(a)&&J[a].length?J[a][0].Ad():v.destination}function a(){return v.createGain?v.createGain():v.createGainNode()}function e(a){return v.createDelay?v.createDelay(a):v.createDelayNode(a)}function b(a,b){a.start?a.start(b||0):a.noteOn(b||0)}function d(a,b,d,e){a.start?a.start(e||0,b):a.noteGrainOn(e||
0,b,d-b)}function f(a){try{a.stop?a.stop(0):a.noteOff(0)}catch(b){}}function k(b,d,e,c,f,g){this.type="filter";this.Ub=[b,d,e,c,f,g];this.Ba=a();this.ga=a();this.ga.gain.value=g;this.fa=a();this.fa.gain.value=1-g;this.xb=v.createBiquadFilter();this.xb.type="number"===typeof this.xb.type?b:Z[b];this.xb.frequency.value=d;this.xb.detune&&(this.xb.detune.value=e);this.xb.Q.value=c;this.xb.gain.value=f;this.Ba.connect(this.xb);this.Ba.connect(this.fa);this.xb.connect(this.ga)}function g(b,d,c){this.type=
"delay";this.Ub=[b,d,c];this.Ba=a();this.ga=a();this.ga.gain.value=c;this.fa=a();this.fa.gain.value=1-c;this.Gk=a();this.Qd=e(b);this.Qd.delayTime.value=b;this.Yl=a();this.Yl.gain.value=d;this.Ba.connect(this.Gk);this.Ba.connect(this.fa);this.Gk.connect(this.ga);this.Gk.connect(this.Qd);this.Qd.connect(this.Yl);this.Yl.connect(this.Gk)}function t(b,d,e,c){this.type="convolve";this.Ub=[d,e,c];this.Ba=a();this.ga=a();this.ga.gain.value=e;this.fa=a();this.fa.gain.value=1-e;this.Wg=v.createConvolver();
b&&(this.Wg.normalize=d,this.Wg.buffer=b);this.Ba.connect(this.Wg);this.Ba.connect(this.fa);this.Wg.connect(this.ga)}function N(d,c,f,g,h){this.type="flanger";this.Ub=[d,c,f,g,h];this.Ba=a();this.fa=a();this.fa.gain.value=1-h/2;this.ga=a();this.ga.gain.value=h/2;this.hm=a();this.hm.gain.value=g;this.Qd=e(d+c);this.Qd.delayTime.value=d;this.ec=v.createOscillator();this.ec.frequency.value=f;this.rd=a();this.rd.gain.value=c;this.Ba.connect(this.Qd);this.Ba.connect(this.fa);this.Qd.connect(this.ga);this.Qd.connect(this.hm);
this.hm.connect(this.Qd);this.ec.connect(this.rd);this.rd.connect(this.Qd.delayTime);b(this.ec)}function O(d,e,c,f,g,h){this.type="phaser";this.Ub=[d,e,c,f,g,h];this.Ba=a();this.fa=a();this.fa.gain.value=1-h/2;this.ga=a();this.ga.gain.value=h/2;this.xb=v.createBiquadFilter();this.xb.type="number"===typeof this.xb.type?7:"allpass";this.xb.frequency.value=d;this.xb.detune&&(this.xb.detune.value=e);this.xb.Q.value=c;this.ec=v.createOscillator();this.ec.frequency.value=g;this.rd=a();this.rd.gain.value=
f;this.Ba.connect(this.xb);this.Ba.connect(this.fa);this.xb.connect(this.ga);this.ec.connect(this.rd);this.rd.connect(this.xb.frequency);b(this.ec)}function n(b){this.type="gain";this.Ub=[b];this.Ga=a();this.Ga.gain.value=b}function u(d,e){this.type="tremolo";this.Ub=[d,e];this.Ga=a();this.Ga.gain.value=1-e/2;this.ec=v.createOscillator();this.ec.frequency.value=d;this.rd=a();this.rd.gain.value=e/2;this.ec.connect(this.rd);this.rd.connect(this.Ga.gain);b(this.ec)}function S(d,e){this.type="ringmod";
this.Ub=[d,e];this.Ba=a();this.ga=a();this.ga.gain.value=e;this.fa=a();this.fa.gain.value=1-e;this.Xk=a();this.Xk.gain.value=0;this.ec=v.createOscillator();this.ec.frequency.value=d;this.ec.connect(this.Xk.gain);b(this.ec);this.Ba.connect(this.Xk);this.Ba.connect(this.fa);this.Xk.connect(this.ga)}function I(b,d,e,c,f){this.type="distortion";this.Ub=[b,d,e,c,f];this.Ba=a();this.zn=a();this.xn=a();this.sD(e,Math.pow(10,c/20));this.ga=a();this.ga.gain.value=f;this.fa=a();this.fa.gain.value=1-f;this.vo=
v.createWaveShaper();this.Wl=new Float32Array(65536);this.KA(b,d);this.vo.Wl=this.Wl;this.Ba.connect(this.zn);this.Ba.connect(this.fa);this.zn.connect(this.vo);this.vo.connect(this.xn);this.xn.connect(this.ga)}function A(a,b,d,e,c){this.type="compressor";this.Ub=[a,b,d,e,c];this.Ga=v.createDynamicsCompressor();try{this.Ga.threshold.value=a,this.Ga.knee.value=b,this.Ga.ratio.value=d,this.Ga.attack.value=e,this.Ga.release.value=c}catch(f){}}function E(a,b){this.type="analyser";this.Ub=[a,b];this.Ga=
v.createAnalyser();this.Ga.fftSize=a;this.Ga.smoothingTimeConstant=b;this.IA=new Float32Array(this.Ga.frequencyBinCount);this.Iv=new Uint8Array(a);this.Qk=0}function X(){this.Y=null;this.Um=0}function w(b,d){this.src=b;this.ta=x;this.Oe=d;this.Cl=!1;var e=this;this.Mi=this.Si=null;this.Bh=[];this.Mn=0;this.Rr=this.fm=this.Rv=this.pn=!1;1===x&&d&&!R&&(this.ta=0,this.Si=a());this.ef=this.Fa=null;var c;switch(this.ta){case 0:this.Fa=new Audio;this.Fa.crossOrigin="anonymous";this.Fa.addEventListener("canplaythrough",
function(){e.Rr=!0});1===x&&v.createMediaElementSource&&!/wiiu/i.test(navigator.userAgent)&&(this.Rv=!0,this.Fa.addEventListener("canplay",function(){!e.Mi&&e.Fa&&(e.Mi=v.createMediaElementSource(e.Fa),e.Mi.connect(e.Si))}));this.Fa.autoplay=!1;this.Fa.yF="auto";this.Fa.src=b;break;case 1:G.Fm?G.Ws(b,function(a){e.ef=a;e.Os()},function(){e.fm=!0}):(c=new XMLHttpRequest,c.open("GET",b,!0),c.responseType="arraybuffer",c.onload=function(){e.ef=c.response;e.Os()},c.onerror=function(){e.fm=!0},c.send());
break;case 2:this.Fa=!0;break;case 3:this.Fa=!0}}function C(b,d){var e=this;this.tag=d;this.Gb=this.Ke=!0;this.src=b.src;this.buffer=b;this.ta=x;this.Oe=b.Oe;this.playbackRate=1;this.si=!0;this.ld=this.Hd=!1;this.bd=0;this.ek=this.xi=this.Pe=!1;this.volume=1;this.Lq=function(a){if(!e.ld&&!e.Hd){var b=this;b||(b=a.target);b===e.Al&&(e.si=!0,e.Gb=!0,ta=e.tag,G.trigger(cd.prototype.j.xl,sa))}};this.Al=null;this.vi=1===Aa&&!this.Oe||2===Aa;this.Ni=1;this.startTime=this.vi?G.yb.ma:G.Mf.ma;this.Ab=this.Lb=
null;this.Se=!1;this.oc=null;this.Vu=this.Uu=this.Tu=this.Su=this.Xu=this.Wu=0;this.q=null;var c=!1;1!==this.ta||0!==this.buffer.ta||this.buffer.Rv||(this.ta=0);switch(this.ta){case 0:this.Oe?(this.q=b.Fa,c=!b.Cl,b.Cl=!0):(this.q=new Audio,this.q.crossOrigin="anonymous",this.q.autoplay=!1,this.q.src=b.Fa.src,c=!0);c&&this.q.addEventListener("ended",function(){ta=e.tag;e.Gb=!0;G.trigger(cd.prototype.j.xl,sa)});break;case 1:this.Lb=a();this.Lb.connect(l(d));1===this.buffer.ta?b.Fa&&(this.q=v.createBufferSource(),
this.q.buffer=b.Fa,this.q.connect(this.Lb)):(this.q=this.buffer.Fa,this.buffer.Si.connect(this.Lb),this.buffer.Cl||(this.buffer.Cl=!0,this.buffer.Fa.addEventListener("ended",function(){ta=e.tag;e.Gb=!0;G.trigger(cd.prototype.j.xl,sa)})));break;case 2:this.q=new window.Media(B+this.src,null,null,function(a){a===window.Media.MEDIA_STOPPED&&(e.si=!0,e.Gb=!0,ta=e.tag,G.trigger(cd.prototype.j.xl,sa))});break;case 3:this.q=!0}}function V(a){y(Ka);if(a.length){var b,d,e;b=0;for(d=D.length;b<d;b++)e=D[b],
Wb(a,e.tag)&&Ka.push(e)}else H&&!H.kh()&&(y(Ka),Ka[0]=H)}function W(a,b){J.hasOwnProperty(a)?J[a].push(b):J[a]=[b];var d,e,c,f,g=v.destination;if(J.hasOwnProperty(a)&&(c=J[a],c.length))for(g=c[0].Ad(),d=0,e=c.length;d<e;d++)f=c[d],d+1===e?f.Od(v.destination):f.Od(c[d+1].Ad());V(a);d=0;for(e=Ka.length;d<e;d++)Ka[d].VC(g);ba&&qb===a&&(ba.disconnect(),ba.connect(g))}function la(){}function ga(){}var T=cd.prototype;T.ya=function(a){this.Qa=a;this.b=a.b};T.ya.prototype.T=function(){};var G=null,sa=null,
ta="",B="",x=0,v=null,Y=[],D=[],H=null,M=!1,Aa=0,P=!1,ka=1,da=0,ha=0,ob=!1,pb=1,Ba=1,Q=10,z=1E4,ca=1,ba=null,qb="",K=!1,qa=[],R=!1,Ya=!1;document.addEventListener("pointerup",h,!0);document.addEventListener("touchend",h,!0);document.addEventListener("click",h,!0);document.addEventListener("keydown",h,!0);document.addEventListener("gamepadconnected",h,!0);var J={},Z="lowpass highpass bandpass lowshelf highshelf peaking notch allpass".split(" ");k.prototype.Od=function(a){this.ga.disconnect();this.ga.connect(a);
this.fa.disconnect();this.fa.connect(a)};k.prototype.remove=function(){this.Ba.disconnect();this.xb.disconnect();this.ga.disconnect();this.fa.disconnect()};k.prototype.Ad=function(){return this.Ba};g.prototype.Od=function(a){this.ga.disconnect();this.ga.connect(a);this.fa.disconnect();this.fa.connect(a)};g.prototype.remove=function(){this.Ba.disconnect();this.Gk.disconnect();this.Qd.disconnect();this.Yl.disconnect();this.ga.disconnect();this.fa.disconnect()};g.prototype.Ad=function(){return this.Ba};
t.prototype.Od=function(a){this.ga.disconnect();this.ga.connect(a);this.fa.disconnect();this.fa.connect(a)};t.prototype.remove=function(){this.Ba.disconnect();this.Wg.disconnect();this.ga.disconnect();this.fa.disconnect()};t.prototype.Ad=function(){return this.Ba};N.prototype.Od=function(a){this.fa.disconnect();this.fa.connect(a);this.ga.disconnect();this.ga.connect(a)};N.prototype.remove=function(){this.Ba.disconnect();this.Qd.disconnect();this.ec.disconnect();this.rd.disconnect();this.fa.disconnect();
this.ga.disconnect();this.hm.disconnect()};N.prototype.Ad=function(){return this.Ba};O.prototype.Od=function(a){this.fa.disconnect();this.fa.connect(a);this.ga.disconnect();this.ga.connect(a)};O.prototype.remove=function(){this.Ba.disconnect();this.xb.disconnect();this.ec.disconnect();this.rd.disconnect();this.fa.disconnect();this.ga.disconnect()};O.prototype.Ad=function(){return this.Ba};n.prototype.Od=function(a){this.Ga.disconnect();this.Ga.connect(a)};n.prototype.remove=function(){this.Ga.disconnect()};
n.prototype.Ad=function(){return this.Ga};u.prototype.Od=function(a){this.Ga.disconnect();this.Ga.connect(a)};u.prototype.remove=function(){this.ec.disconnect();this.rd.disconnect();this.Ga.disconnect()};u.prototype.Ad=function(){return this.Ga};S.prototype.Od=function(a){this.ga.disconnect();this.ga.connect(a);this.fa.disconnect();this.fa.connect(a)};S.prototype.remove=function(){this.ec.disconnect();this.Xk.disconnect();this.Ba.disconnect();this.ga.disconnect();this.fa.disconnect()};S.prototype.Ad=
function(){return this.Ba};I.prototype.sD=function(a,b){.01>a&&(a=.01);this.zn.gain.value=a;this.xn.gain.value=Math.pow(1/a,.6)*b};I.prototype.shape=function(a,b,d){var e=1.05*d*b-b;d=0>a?-1:1;a=0>a?-a:a;b=a<b?a:b+e*(1-Math.exp(-(1/e)*(a-b)));return b*d};I.prototype.KA=function(a,b){for(var d=Math.pow(10,a/20),e=Math.pow(10,b/20),c=0,f=0;32768>f;++f)c=f/32768,c=this.shape(c,d,e),this.Wl[32768+f]=c,this.Wl[32768-f-1]=-c};I.prototype.Od=function(a){this.ga.disconnect();this.ga.connect(a);this.fa.disconnect();
this.fa.connect(a)};I.prototype.remove=function(){this.Ba.disconnect();this.zn.disconnect();this.vo.disconnect();this.xn.disconnect();this.ga.disconnect();this.fa.disconnect()};I.prototype.Ad=function(){return this.Ba};A.prototype.Od=function(a){this.Ga.disconnect();this.Ga.connect(a)};A.prototype.remove=function(){this.Ga.disconnect()};A.prototype.Ad=function(){return this.Ga};E.prototype.Xa=function(){this.Ga.getFloatFrequencyData(this.IA);this.Ga.getByteTimeDomainData(this.Iv);for(var a=this.Ga.fftSize,
b=0,d=this.Qk=0,e=0;b<a;b++)e=(this.Iv[b]-128)/128,0>e&&(e=-e),this.Qk<e&&(this.Qk=e),d+=e*e;this.Qk=r(this.Qk);r(Math.sqrt(d/a))};E.prototype.Od=function(a){this.Ga.disconnect();this.Ga.connect(a)};E.prototype.remove=function(){this.Ga.disconnect()};E.prototype.Ad=function(){return this.Ga};X.prototype.bj=function(a){this.Y=a};X.prototype.xm=function(){return!!this.Y};X.prototype.Xa=function(){};w.prototype.ZC=function(){var a,b,d,e;d=a=0;for(b=D.length;a<b;++a)e=D[a],D[d]=e,e.buffer===this?e.stop():
++d;D.length=d;this.Mi&&(this.Mi.disconnect(),this.Mi=null);this.Si&&(this.Si.disconnect(),this.Si=null);this.ef=this.Fa=null};w.prototype.Os=function(){if(!this.Fa&&this.ef){var a=this;if(v.decodeAudioData)v.decodeAudioData(this.ef,function(b){a.Fa=b;a.ef=null;var d,e,c;if(ya(a.sn)||P)ya(a.Sl)||(d=a.Sl.Wg,d.normalize=a.Eu,d.buffer=b);else if(a.Bh.length){d=0;for(e=a.Bh.length;d<e;d++){b=a.Bh[d];c=new C(a,b.Cr);c.$k(!0);if("undefined"!==typeof b.Gu&&(b.Y=G.pi(b.Gu),!b.Y))continue;if(b.Y){var f=mb(b.Y.x,
b.Y.y,-b.Y.n.cb(),da,ha,!0),g=mb(b.Y.x,b.Y.y,-b.Y.n.cb(),da,ha,!1);c.Qn(f,g,cb(b.Y.k-b.Y.n.cb()),b.ym,b.cn,b.gn);c.bj(b.Y)}else c.Qn(b.x,b.y,b.C,b.ym,b.cn,b.gn);c.play(a.wq,a.Or,a.Mn);a.pn&&c.pause();D.push(c)}y(a.Bh)}else c=new C(a,a.sn||""),c.play(a.wq,a.Or,a.Mn),a.pn&&c.pause(),D.push(c)},function(){a.fm=!0});else if(this.Fa=v.createBuffer(this.ef,!1),this.ef=null,ya(this.sn)||P)ya(this.Sl)||(b=this.Sl.Wg,b.normalize=this.Eu,b.buffer=this.Fa);else{var b=new C(this,this.sn);b.play(this.wq,this.Or,
this.Mn);this.pn&&b.pause();D.push(b)}}};w.prototype.Gt=function(){switch(this.ta){case 0:var a=4<=this.Fa.readyState;a&&(this.Rr=!0);return a||this.Rr;case 1:return!!this.ef||!!this.Fa;case 2:return!0;case 3:return!0}return!1};w.prototype.JB=function(){switch(this.ta){case 0:return this.Gt();case 1:return!!this.Fa;case 2:return!0;case 3:return!0}return!1};w.prototype.uB=function(){switch(this.ta){case 0:return!!this.Fa.error;case 1:return this.fm}return!1};C.prototype.kh=function(){switch(this.ta){case 0:return this.q.ended;
case 1:return 1===this.buffer.ta?!this.Ke&&!this.Gb&&this.q.loop||this.ld?!1:this.si:this.q.ended;case 2:return this.si;case 3:!0}return!0};C.prototype.fz=function(){return this.Ke||this.Gb?!0:this.kh()};C.prototype.$k=function(a){1===x&&(!this.Se&&a?this.Lb&&(this.Ab||(this.Ab=v.createPanner(),this.Ab.panningModel="number"===typeof this.Ab.panningModel?pb:["equalpower","HRTF","soundfield"][pb],this.Ab.distanceModel="number"===typeof this.Ab.distanceModel?Ba:["linear","inverse","exponential"][Ba],
this.Ab.refDistance=Q,this.Ab.maxDistance=z,this.Ab.rolloffFactor=ca),this.Lb.disconnect(),this.Lb.connect(this.Ab),this.Ab.connect(l(this.tag)),this.Se=!0):this.Se&&!a&&this.Lb&&(this.Ab.disconnect(),this.Lb.disconnect(),this.Lb.connect(l(this.tag)),this.Se=!1))};C.prototype.Qn=function(a,b,d,e,c,f){this.Se&&1===x&&(this.Ab.setPosition(a,b,0),this.Ab.setOrientation(Math.cos(bb(d)),Math.sin(bb(d)),0),this.Ab.coneInnerAngle=e,this.Ab.coneOuterAngle=c,this.Ab.coneOuterGain=f,this.Wu=a,this.Xu=b,this.Su=
d,this.Tu=e,this.Uu=c,this.Vu=f)};C.prototype.bj=function(a){this.Se&&1===x&&(this.oc||(this.oc=new X),this.oc.bj(a))};C.prototype.Xa=function(a){if(this.Se&&1===x&&this.oc&&this.oc.xm()&&this.bk()){this.oc.Xa(a);a=this.oc.Y;var b=mb(a.x,a.y,-a.n.cb(),da,ha,!0),d=mb(a.x,a.y,-a.n.cb(),da,ha,!1);this.Ab.setPosition(b,d,0);b=0;"undefined"!==typeof this.oc.Y.k&&(b=a.k-a.n.cb(),this.Ab.setOrientation(Math.cos(b),Math.sin(b),0))}};C.prototype.play=function(a,e,c,f){var g=this.q;this.Pe=a;this.volume=e;
c=c||0;f=f||0;switch(this.ta){case 0:1!==g.playbackRate&&(g.playbackRate=1);g.volume!==e*ka&&(g.volume=e*ka);g.loop!==a&&(g.loop=a);g.muted&&(g.muted=!1);if(g.currentTime!==c)try{g.currentTime=c}catch(h){}m(this);break;case 1:this.muted=!1;this.Ni=1;if(1===this.buffer.ta)this.Lb.gain.value=e*ka,this.Ke||(this.q=v.createBufferSource(),this.q.buffer=this.buffer.Fa,this.q.connect(this.Lb)),this.q.onended=this.Lq,this.Al=this.q,this.q.loop=a,this.si=!1,0===c?b(this.q,f):d(this.q,c,this.ih(),f);else{1!==
g.playbackRate&&(g.playbackRate=1);g.loop!==a&&(g.loop=a);g.volume=e*ka;if(g.currentTime!==c)try{g.currentTime=c}catch(l){}m(this)}break;case 2:(!this.Ke&&this.Gb||0!==c)&&g.seekTo(c);g.play();this.si=!1;break;case 3:G.Gc?AppMobi.context.playSound(this.src,a):AppMobi.player.playSound(this.src,a)}this.playbackRate=1;this.startTime=(this.vi?G.yb.ma:G.Mf.ma)-c;this.ld=this.Gb=this.Ke=!1};C.prototype.stop=function(){switch(this.ta){case 0:this.q.paused||this.q.pause();break;case 1:1===this.buffer.ta?
f(this.q):this.q.paused||this.q.pause();break;case 2:this.q.stop();break;case 3:G.Gc&&AppMobi.context.stopSound(this.src)}this.Gb=!0;this.ld=!1};C.prototype.pause=function(){if(!(this.Ke||this.Gb||this.kh()||this.ld)){switch(this.ta){case 0:this.q.paused||this.q.pause();break;case 1:1===this.buffer.ta?(this.bd=this.Fp(!0),this.Pe&&(this.bd=this.bd%this.ih()),this.ld=!0,f(this.q)):this.q.paused||this.q.pause();break;case 2:this.q.pause();break;case 3:G.Gc&&AppMobi.context.stopSound(this.src)}this.ld=
!0}};C.prototype.hD=function(){if(!(this.Ke||this.Gb||this.kh())&&this.ld){switch(this.ta){case 0:m(this);break;case 1:1===this.buffer.ta?(this.q=v.createBufferSource(),this.q.buffer=this.buffer.Fa,this.q.connect(this.Lb),this.q.onended=this.Lq,this.Al=this.q,this.q.loop=this.Pe,this.Lb.gain.value=ka*this.volume*this.Ni,this.mo(),this.startTime=(this.vi?G.yb.ma:G.Mf.ma)-this.bd/(this.playbackRate||.001),d(this.q,this.bd,this.ih())):m(this);break;case 2:this.q.play();break;case 3:G.Gc&&AppMobi.context.resumeSound(this.src)}this.ld=
!1}};C.prototype.seek=function(a){if(!(this.Ke||this.Gb||this.kh()))switch(this.ta){case 0:try{this.q.currentTime=a}catch(b){}break;case 1:if(1===this.buffer.ta)this.ld?this.bd=a:(this.pause(),this.bd=a,this.hD());else try{this.q.currentTime=a}catch(d){}break;case 3:G.Gc&&AppMobi.context.seekSound(this.src,a)}};C.prototype.VC=function(a){1===this.ta&&(this.Se?(this.Ab.disconnect(),this.Ab.connect(a)):(this.Lb.disconnect(),this.Lb.connect(a)))};C.prototype.ih=function(){var a=0;switch(this.ta){case 0:"undefined"!==
typeof this.q.duration&&(a=this.q.duration);break;case 1:a=this.buffer.Fa.duration;break;case 2:a=this.q.getDuration();break;case 3:G.Gc&&(a=AppMobi.context.getDurationSound(this.src))}return a};C.prototype.Fp=function(a){var b=this.ih(),d=0;switch(this.ta){case 0:"undefined"!==typeof this.q.currentTime&&(d=this.q.currentTime);break;case 1:if(1===this.buffer.ta){if(this.ld)return this.bd;d=(this.vi?G.yb.ma:G.Mf.ma)-this.startTime}else"undefined"!==typeof this.q.currentTime&&(d=this.q.currentTime);
break;case 3:G.Gc&&(d=AppMobi.context.getPlaybackTimeSound(this.src))}a&&(d*=this.playbackRate);!this.Pe&&d>b&&(d=b);return d};C.prototype.bk=function(){return!this.ld&&!this.Ke&&!this.Gb&&!this.kh()};C.prototype.ED=function(){return!this.Ke&&!this.Gb&&!this.kh()};C.prototype.UD=function(){var a=this.volume*ka;isFinite(a)||(a=0);switch(this.ta){case 0:"undefined"!==typeof this.q.volume&&this.q.volume!==a&&(this.q.volume=a);break;case 1:1===this.buffer.ta?this.Lb.gain.value=a*this.Ni:"undefined"!==
typeof this.q.volume&&this.q.volume!==a&&(this.q.volume=a)}};C.prototype.am=function(a){switch(this.ta){case 0:this.q.muted!==!!a&&(this.q.muted=!!a);break;case 1:1===this.buffer.ta?(this.Ni=a?0:1,this.Lb.gain.value=ka*this.volume*this.Ni):this.q.muted!==!!a&&(this.q.muted=!!a)}};C.prototype.xD=function(){this.xi=!0;this.am(this.xi||this.ek)};C.prototype.Bv=function(a){this.ek=!!a;this.am(this.xi||this.ek)};C.prototype.mo=function(){var a=this.playbackRate;this.vi&&(a*=G.Ig);switch(this.ta){case 0:this.q.playbackRate!==
a&&(this.q.playbackRate=a);break;case 1:1===this.buffer.ta?this.q.playbackRate.value!==a&&(this.q.playbackRate.value=a):this.q.playbackRate!==a&&(this.q.playbackRate=a)}};C.prototype.zD=function(a){switch(this.ta){case 0:a?this.bk()?(this.Hd=!0,this.q.pause()):this.Hd=!1:this.Hd&&(this.q.play(),this.Hd=!1);break;case 1:a?this.bk()?(this.Hd=!0,1===this.buffer.ta?(this.bd=this.Fp(!0),this.Pe&&(this.bd=this.bd%this.ih()),f(this.q)):this.q.pause()):this.Hd=!1:this.Hd&&(1===this.buffer.ta?(this.q=v.createBufferSource(),
this.q.buffer=this.buffer.Fa,this.q.connect(this.Lb),this.q.onended=this.Lq,this.Al=this.q,this.q.loop=this.Pe,this.Lb.gain.value=ka*this.volume*this.Ni,this.mo(),this.startTime=(this.vi?G.yb.ma:G.Mf.ma)-this.bd/(this.playbackRate||.001),d(this.q,this.bd,this.ih())):this.q.play(),this.Hd=!1);break;case 2:a?this.bk()?(this.q.pause(),this.Hd=!0):this.Hd=!1:this.Hd&&(this.Hd=!1,this.q.play())}};T.ka=function(a){this.type=a;G=this.b=a.b;sa=this;this.nd=null;this.tk=-600;this.b.Fm&&(R=!0);!(this.b.gk||
this.b.Xj&&(this.b.Zp||this.b.Bm))||this.b.Dm||this.b.ob||this.b.Et||R||(K=!0);v=null;"undefined"!==typeof AudioContext?(x=1,v=new AudioContext):"undefined"!==typeof webkitAudioContext&&(x=1,v=new webkitAudioContext);this.b.gk&&v&&(v.close&&v.close(),"undefined"!==typeof AudioContext?v=new AudioContext:"undefined"!==typeof webkitAudioContext&&(v=new webkitAudioContext));1!==x&&(this.b.rf&&"undefined"!==typeof window.Media?x=2:this.b.Ft&&(x=3));2===x&&(B=location.href,a=B.lastIndexOf("/"),-1<a&&(B=
B.substr(0,a+1)),B=B.replace("file://",""));if(this.b.KB&&this.b.LB&&"undefined"===typeof Audio)alert("It looks like you're using Safari for Windows without Quicktime.  Audio cannot be played until Quicktime is installed."),this.b.Ze(this);else{if(this.b.Gc)M=this.b.Xj;else try{M=!!(new Audio).canPlayType('audio/ogg; codecs="vorbis"')&&!this.b.Gm}catch(b){M=!1}this.b.ol(this)}};var ma=T.ka.prototype;ma.T=function(){this.b.Yh=this;Aa=this.O[0];this.Ff=this.O[1];this.AC=0!==this.O[2];this.Pi=0;pb=this.O[3];
Ba=this.O[4];this.tk=-this.O[5];Q=this.O[6];z=this.O[7];ca=this.O[8];this.nd=new X;var a=this.b.W||this.b.width,b=this.b.V||this.b.height;1===x&&(v.listener.setPosition(a/2,b/2,this.tk),v.listener.setOrientation(0,0,1,0,-1,0),window.c2OnAudioMicStream=function(a,b){ba&&ba.disconnect();qb=b.toLowerCase();ba=v.createMediaStreamSource(a);ba.connect(l(qb))});this.b.qs(function(a){sa.oC(a)});var d=this;this.b.Ko(function(a){d.Fq(a)})};ma.Fq=function(a){var b,d,e;b=0;for(d=D.length;b<d;b++)e=D[b],e.oc&&
e.oc.Y===a&&(e.oc.Y=null,e.Se&&e.bk()&&e.Pe&&e.stop());this.nd.Y===a&&(this.nd.Y=null)};ma.gc=function(){var a={silent:P,masterVolume:ka,listenerZ:this.tk,listenerUid:this.nd.xm()?this.nd.Y.uid:-1,playing:[],effects:{}},b=a.playing,d,e,c,f,g,h;d=0;for(e=D.length;d<e;d++)c=D[d],!c.ED()||3===this.Ff||c.Oe&&1===this.Ff||!c.Oe&&2===this.Ff||(f=c.Fp(),c.Pe&&(f=f%c.ih()),f={tag:c.tag,buffersrc:c.buffer.src,is_music:c.Oe,playbackTime:f,volume:c.volume,looping:c.Pe,muted:c.xi,playbackRate:c.playbackRate,
paused:c.ld,resume_position:c.bd},c.Se&&(f.pan={},h=f.pan,c.oc&&c.oc.xm()?h.objUid=c.oc.Y.uid:(h.x=c.Wu,h.y=c.Xu,h.a=c.Su),h.ia=c.Tu,h.oa=c.Uu,h.og=c.Vu),b.push(f));b=a.effects;for(g in J)if(J.hasOwnProperty(g)){c=[];d=0;for(e=J[g].length;d<e;d++)c.push({type:J[g][d].type,params:J[g][d].Ub});b[g]=c}return a};var aa=[];ma.Ic=function(a){var b=a.silent;ka=a.masterVolume;this.tk=a.listenerZ;this.nd.bj(null);var d=a.listenerUid;-1!==d&&(this.nd.Um=d,aa.push(this.nd));var d=a.playing,e,c,f,h,l,m,p,q,r,
w,C;if(3!==this.Ff)for(e=0,c=D.length;e<c;e++)r=D[e],r.Oe&&1===this.Ff||(r.Oe||2!==this.Ff)&&r.stop();for(l in J)if(J.hasOwnProperty(l))for(e=0,c=J[l].length;e<c;e++)J[l][e].remove();yb(J);for(l in a.effects)if(a.effects.hasOwnProperty(l))for(m=a.effects[l],e=0,c=m.length;e<c;e++)switch(f=m[e].type,w=m[e].params,f){case "filter":W(l,new k(w[0],w[1],w[2],w[3],w[4],w[5]));break;case "delay":W(l,new g(w[0],w[1],w[2]));break;case "convolve":f=w[2];r=this.Oj(f,!1);r.Fa?f=new t(r.Fa,w[0],w[1],f):(f=new t(null,
w[0],w[1],f),r.Eu=w[0],r.Sl=f);W(l,f);break;case "flanger":W(l,new N(w[0],w[1],w[2],w[3],w[4]));break;case "phaser":W(l,new O(w[0],w[1],w[2],w[3],w[4],w[5]));break;case "gain":W(l,new n(w[0]));break;case "tremolo":W(l,new u(w[0],w[1]));break;case "ringmod":W(l,new S(w[0],w[1]));break;case "distortion":W(l,new I(w[0],w[1],w[2],w[3],w[4]));break;case "compressor":W(l,new A(w[0],w[1],w[2],w[3],w[4]));break;case "analyser":W(l,new E(w[0],w[1]))}e=0;for(c=d.length;e<c;e++)3===this.Ff||(a=d[e],f=a.buffersrc,
h=a.is_music,l=a.tag,m=a.playbackTime,p=a.looping,q=a.volume,C=(w=a.pan)&&w.hasOwnProperty("objUid")?w.objUid:-1,h&&1===this.Ff)||!h&&2===this.Ff||((r=this.nm(f,l,h,p,q))?(r.bd=a.resume_position,r.$k(!!w),r.play(p,q,m),r.mo(),r.UD(),r.am(r.xi||r.ek),a.paused&&r.pause(),a.muted&&r.xD(),r.am(r.xi||r.ek),w&&(-1!==C?(r.oc=r.oc||new X,r.oc.Um=C,aa.push(r.oc)):r.Qn(w.x,w.y,w.a,w.ia,w.oa,w.og))):(r=this.Oj(f,h),r.Mn=m,r.pn=a.paused,w&&(-1!==C?r.Bh.push({Gu:C,ym:w.ia,cn:w.oa,gn:w.og,Cr:l}):r.Bh.push({x:w.x,
y:w.y,C:w.a,ym:w.ia,cn:w.oa,gn:w.og,Cr:l}))));if(b&&!P){e=0;for(c=D.length;e<c;e++)D[e].Bv(!0);P=!0}else if(!b&&P){e=0;for(c=D.length;e<c;e++)D[e].Bv(!1);P=!1}};ma.Ce=function(){var a,b,d,e;a=0;for(b=aa.length;a<b;a++)d=aa[a],e=this.b.pi(d.Um),d.bj(e),d.Um=-1,e&&(da=e.x,ha=e.y);y(aa)};ma.oC=function(a){if(!this.AC){!a&&v&&v.resume&&(v.resume(),ob=!1);var b,d;b=0;for(d=D.length;b<d;b++)D[b].zD(a);a&&v&&v.suspend&&(v.suspend(),ob=!0)}};ma.Xa=function(){var a=this.b.bg,b,d,e;b=0;for(d=D.length;b<d;b++)e=
D[b],e.Xa(a),0!==Aa&&e.mo();var c,f;for(c in J)if(J.hasOwnProperty(c))for(e=J[c],b=0,d=e.length;b<d;b++)f=e[b],f.Xa&&f.Xa();1===x&&this.nd.xm()&&(this.nd.Xa(a),da=this.nd.Y.x,ha=this.nd.Y.y,v.listener.setPosition(this.nd.Y.x,this.nd.Y.y,this.tk))};var oa=[];ma.yD=function(a){var b,d,e,c,f,g=0;b=0;for(d=a.length;b<d;++b)if(e=a[b],c=e[0],e=2*e[1],(f=4<c.length&&".ogg"===c.substr(c.length-4))&&M||!f&&!M)oa.push({filename:c,size:e,Y:null}),g+=e;return g};ma.ID=function(){var a,b,d,e;a=0;for(b=oa.length;a<
b;++a)d=oa[a],e=this.b.Lj+d.filename,d.Y=this.Oj(e,!1)};ma.VA=function(){var a=0,b,d,e;b=0;for(d=oa.length;b<d;++b)e=oa[b],e.Y.JB()||e.Y.uB()||this.b.ob||this.b.Bm?a+=e.size:e.Y.Gt()&&(a+=Math.floor(e.size/2));return a};ma.$C=function(){var a,b,d,e;d=a=0;for(b=Y.length;a<b;++a)e=Y[a],Y[d]=e,e.Oe?e.ZC():++d;Y.length=d};ma.Oj=function(a,b){var d,e,c,f=null;d=0;for(e=Y.length;d<e;d++)if(c=Y[d],c.src===a){f=c;break}f||(R&&b&&this.$C(),f=new w(a,b),Y.push(f));return f};ma.nm=function(a,b,d,e,c){var f,
g,h;f=0;for(g=D.length;f<g;f++)if(h=D[f],h.src===a&&(h.fz()||d))return h.tag=b,h;a=this.Oj(a,d);if(!a.Fa)return"<preload>"!==b&&(a.sn=b,a.wq=e,a.Or=c),null;h=new C(a,b);D.push(h);return h};var Ka=[];la.prototype.xl=function(a){return Wb(ta,a)};T.j=new la;ga.prototype.Play=function(a,b,d,e){!P&&(d=q(d),H=this.nm(this.b.Lj+a[0]+(M?".ogg":".m4a"),e,a[1],0!==b,d))&&(H.$k(!1),H.play(0!==b,d,0,this.Pi),this.Pi=0)};ga.prototype.Lx=function(a,b,d,e,c,f,g,h){if(!P&&e&&(e=e.Cp())){d=q(d);var l=a[1];a=this.b.Lj+
a[0]+(M?".ogg":".m4a");(H=this.nm(a,h,l,0!==b,d))?(H.$k(!0),h=mb(e.x,e.y,-e.n.cb(),da,ha,!0),a=mb(e.x,e.y,-e.n.cb(),da,ha,!1),H.Qn(h,a,cb(e.k-e.n.cb()),c,f,q(g)),H.bj(e),H.play(0!==b,d,0,this.Pi),this.Pi=0):this.Oj(a,l).Bh.push({Y:e,ym:c,cn:f,gn:q(g),Cr:h})}};ga.prototype.Mx=function(a,b,d,e,c){!P&&(e=q(e),H=this.nm(this.b.Lj+b.toLowerCase()+(M?".ogg":".m4a"),c,1===a,0!==d,e))&&(H.$k(!1),H.play(0!==d,e,0,this.Pi),this.Pi=0)};ga.prototype.zy=function(a){V(a);var b;a=0;for(b=Ka.length;a<b;a++)Ka[a].stop()};
T.u=new ga;T.I=new function(){}})();function dd(c){this.b=c}
(function(){function c(){q&&r&&window.OfflineClientInfo&&window.OfflineClientInfo.SetMessageCallback(function(a){l.mC(a)})}function m(){}var h=dd.prototype;h.ya=function(a){this.Qa=a;this.b=a.b};var p=h.ya.prototype;p.T=function(){};var q=!1,r=!1;document.addEventListener("DOMContentLoaded",function(){if(window.C2_RegisterSW&&navigator.serviceWorker){var a=document.createElement("script");a.onload=function(){q=!0;c()};a.src="offlineClient.js";document.head.appendChild(a)}});var l=null;p.Lu=function(){r=
!0;c()};h.ka=function(a){this.type=a;this.b=a.b};p=h.ka.prototype;p.T=function(){var a=this;window.addEventListener("resize",function(){a.b.trigger(dd.prototype.j.Dx,a)});l=this;"undefined"!==typeof navigator.onLine&&(window.addEventListener("online",function(){a.b.trigger(dd.prototype.j.Ax,a)}),window.addEventListener("offline",function(){a.b.trigger(dd.prototype.j.yx,a)}));this.b.Gc||(document.addEventListener("appMobi.device.update.available",function(){a.b.trigger(dd.prototype.j.Eo,a)}),document.addEventListener("backbutton",
function(){a.b.trigger(dd.prototype.j.wl,a)}),document.addEventListener("menubutton",function(){a.b.trigger(dd.prototype.j.cs,a)}),document.addEventListener("searchbutton",function(){a.b.trigger(dd.prototype.j.Ex,a)}),document.addEventListener("tizenhwkey",function(e){var b;switch(e.keyName){case "back":b=a.b.trigger(dd.prototype.j.wl,a);!b&&window.tizen&&window.tizen.application.getCurrentApplication().exit();break;case "menu":(b=a.b.trigger(dd.prototype.j.cs,a))||e.preventDefault()}}));this.b.Gm&&
"undefined"!==typeof Windows?Windows.UI.Core.SystemNavigationManager.getForCurrentView().addEventListener("backrequested",function(e){a.b.trigger(dd.prototype.j.wl,a)&&(e.handled=!0)}):this.b.Jt&&WinJS.Application&&(WinJS.Application.onbackclick=function(){return!!a.b.trigger(dd.prototype.j.wl,a)});this.b.qs(function(e){e?a.b.trigger(dd.prototype.j.Bx,a):a.b.trigger(dd.prototype.j.Cx,a)})};p.mC=function(a){a=a.data.type;"downloading-update"===a?this.b.trigger(dd.prototype.j.Fx,this):"update-ready"===
a||"update-pending"===a?this.b.trigger(dd.prototype.j.Eo,this):"offline-ready"===a&&this.b.trigger(dd.prototype.j.zx,this)};m.prototype.Ax=function(){return!0};m.prototype.yx=function(){return!0};m.prototype.Eo=function(){return!0};m.prototype.Cx=function(){return!0};m.prototype.Bx=function(){return!0};m.prototype.Dx=function(){return!0};m.prototype.wl=function(){return!0};m.prototype.cs=function(){return!0};m.prototype.Ex=function(){return!0};m.prototype.Fx=function(){return!0};m.prototype.Eo=function(){return!0};
m.prototype.zx=function(){return!0};h.j=new m;h.u=new function(){};h.I=new function(){}})();function bd(c){this.b=c}
(function(){function c(){this.name="";this.Vk=0;this.Ub=[]}function m(){a++;a===l.length&&l.push(new c);return l[a]}function h(){}function p(){}function q(){}var r=bd.prototype;r.ya=function(a){this.Qa=a;this.b=a.b};r.ya.prototype.T=function(){};r.ka=function(a){this.type=a;this.b=a.b};var l=[],a=-1;r.ka.prototype.T=function(){var e=this;window.c2_callFunction=function(b,d){var c,h,g,l=m();l.name=b.toLowerCase();l.Vk=0;if(d)for(l.Ub.length=d.length,c=0,h=d.length;c<h;++c)g=d[c],l.Ub[c]="number"===
typeof g||"string"===typeof g?g:"boolean"===typeof g?g?1:0:0;else y(l.Ub);e.b.trigger(bd.prototype.j.yl,e,l.name);a--;return l.Vk}};h.prototype.yl=function(e){var b=0>a?null:l[a];return b?Wb(e,b.name):!1};h.prototype.Kw=function(e,b,d){var c=0>a?null:l[a];if(!c)return!1;e=Ja(e);return 0>e||e>=c.Ub.length?!1:Rc(c.Ub[e],b,d)};r.j=new h;p.prototype.CallFunction=function(e,b){var d=m();d.name=e.toLowerCase();d.Vk=0;Va(d.Ub,b);this.b.trigger(bd.prototype.j.yl,this,d.name);a--};r.u=new p;q.prototype.Aw=
function(e,b){var d=m();d.name=b.toLowerCase();d.Vk=0;y(d.Ub);var c,h;c=2;for(h=arguments.length;c<h;c++)d.Ub.push(arguments[c]);this.b.trigger(bd.prototype.j.yl,this,d.name);a--;e.Dv(d.Vk)};r.I=new q})();function ed(c){this.b=c}
(function(){function c(){}var m=ed.prototype;m.ya=function(c){this.Qa=c;this.b=c.b};m.ya.prototype.T=function(){};m.ka=function(c){this.type=c;this.b=c.b;this.Di=Array(256);this.ql=Array(256);this.Kf=0};var h=m.ka.prototype;h.T=function(){var c=this;this.b.ob||(jQuery(document).keydown(function(h){c.jC(h)}),jQuery(document).keyup(function(h){c.kC(h)}))};var p=[32,33,34,35,36,37,38,39,40,44];h.jC=function(c){var h=!1;window!=window.top&&-1<p.indexOf(c.which)&&(c.preventDefault(),h=!0,c.stopPropagation());
if(this.Di[c.which])this.ql[c.which]&&!h&&c.preventDefault();else{this.Di[c.which]=!0;this.Kf=c.which;this.b.Hc=!0;this.b.trigger(ed.prototype.j.ox,this);var l=this.b.trigger(ed.prototype.j.Zr,this),a=this.b.trigger(ed.prototype.j.vx,this);this.b.Hc=!1;if(l||a)this.ql[c.which]=!0,h||c.preventDefault()}};h.kC=function(c){this.Di[c.which]=!1;this.Kf=c.which;this.b.Hc=!0;this.b.trigger(ed.prototype.j.Yr,this);var h=this.b.trigger(ed.prototype.j.Co,this),l=this.b.trigger(ed.prototype.j.$r,this);this.b.Hc=
!1;if(h||l||this.ql[c.which])this.ql[c.which]=!0,c.preventDefault()};h.Ah=function(){var c;for(c=0;256>c;++c)if(this.Di[c]){this.Di[c]=!1;this.Kf=c;this.b.trigger(ed.prototype.j.Yr,this);var h=this.b.trigger(ed.prototype.j.Co,this),l=this.b.trigger(ed.prototype.j.$r,this);if(h||l)this.ql[c]=!0}};h.gc=function(){return{triggerKey:this.Kf}};h.Ic=function(c){this.Kf=c.triggerKey};c.prototype.ax=function(c){return this.Di[c]};c.prototype.Zr=function(c){return c===this.Kf};c.prototype.ox=function(){return!0};
c.prototype.Yr=function(){return!0};c.prototype.Co=function(c){return c===this.Kf};c.prototype.vx=function(c){return c===this.Kf};c.prototype.$r=function(c){return c===this.Kf};m.j=new c;m.u=new function(){};m.I=new function(){}})();function fd(c){this.b=c}
(function(){function c(){}function m(){}function h(){}var p=fd.prototype;p.ya=function(a){this.Qa=a;this.b=a.b};p.ya.prototype.T=function(){};p.ka=function(a){this.type=a;this.b=a.b;this.Zh=Array(4);this.aw=this.fo=this.Rh=this.zf=this.yf=0;this.Mp=!1};var q=p.ka.prototype;q.T=function(){var a=this;if(!this.b.ob){jQuery(document).mousemove(function(b){a.Hq(b)});jQuery(document).mousedown(function(b){a.Gq(b)});jQuery(document).mouseup(function(b){a.Iq(b)});jQuery(document).dblclick(function(b){a.hC(b)});
var e=function(b){a.sC(b)};document.addEventListener("mousewheel",e,!1);document.addEventListener("DOMMouseScroll",e,!1)}};var r={left:0,top:0};q.Hq=function(a){var e=this.b.ob?r:jQuery(this.b.canvas).offset();this.yf=a.pageX-e.left;this.zf=a.pageY-e.top};q.yu=function(){return 0<this.b.Oc?!0:0<=this.yf&&0<=this.zf&&this.yf<this.b.width&&this.zf<this.b.height};q.Gq=function(a){this.yu()&&(this.Zh[a.which]=!0,this.b.Hc=!0,this.b.trigger(fd.prototype.j.nx,this),this.Rh=a.which-1,this.fo=0,this.b.trigger(fd.prototype.j.Ao,
this),this.b.trigger(fd.prototype.j.ds,this),this.b.Hc=!1)};q.Iq=function(a){this.Zh[a.which]&&(this.b.qt&&!this.b.uf&&a.preventDefault(),this.b.qt=!0,this.Zh[a.which]=!1,this.b.Hc=!0,this.Rh=a.which-1,this.b.trigger(fd.prototype.j.es,this),this.b.Hc=!1)};q.hC=function(a){this.yu()&&(a.preventDefault(),this.b.Hc=!0,this.Rh=a.which-1,this.fo=1,this.b.trigger(fd.prototype.j.Ao,this),this.b.trigger(fd.prototype.j.ds,this),this.b.Hc=!1)};q.sC=function(a){this.aw=0>(a.wheelDelta?a.wheelDelta:a.detail?
-a.detail:0)?0:1;this.Mp=!1;this.b.Hc=!0;this.b.trigger(fd.prototype.j.Gx,this);this.b.Hc=!1;this.Mp&&Xb(a)&&a.preventDefault()};q.Ah=function(){var a,e;a=0;for(e=this.Zh.length;a<e;++a)this.Zh[a]&&(this.Zh[a]=!1,this.Rh=a-1,this.b.trigger(fd.prototype.j.es,this))};c.prototype.Ao=function(a,e){return a===this.Rh&&e===this.fo};c.prototype.nx=function(){return!0};c.prototype.es=function(a){return a===this.Rh};c.prototype.cx=function(a){var e=this.b.pf();return vb(this.b.Vv(a,this.yf,this.zf,e.kg),e.kg)};
c.prototype.ds=function(a,e,b){return a!==this.Rh||e!==this.fo?!1:this.b.Vv(b,this.yf,this.zf,!1)};c.prototype.Gx=function(a){this.Mp=!0;return a===this.aw};p.j=new c;var l=null;m.prototype.Ux=function(a){this.b.ob||(a="auto pointer text crosshair move help wait none".split(" ")[a],l!==a&&(l=a,document.body.style.cursor=a))};m.prototype.Vx=function(a){this.b.ob||this.b.uf||!a||(a=a.Cp())&&a.Kb&&(a=a.Kb,l!==a&&(l=a,a="url("+a.OA()+") "+Math.round(a.Mb*a.width)+" "+Math.round(a.Nb*a.height)+", auto",
document.body.style.cursor="",document.body.style.cursor=a))};p.u=new m;h.prototype.Go=function(a,e){var b,d,c,h,g;ya(e)?(b=this.b.oi(0),d=b.scale,c=b.Be,h=b.Ed,g=b.k,b.scale=1,b.Be=1,b.Ed=1,b.k=0,a.A(b.Ib(this.yf,this.zf,!0)),b.scale=d,b.Be=c,b.Ed=h,b.k=g):(b=za(e)?this.b.oi(e):this.b.pm(e))?a.A(b.Ib(this.yf,this.zf,!0)):a.A(0)};h.prototype.Ho=function(a,e){var b,d,c,h,g;ya(e)?(b=this.b.oi(0),d=b.scale,c=b.Be,h=b.Zd,g=b.k,b.scale=1,b.Be=1,b.Zd=1,b.k=0,a.A(b.Ib(this.yf,this.zf,!1)),b.scale=d,b.Be=
c,b.Zd=h,b.k=g):(b=za(e)?this.b.oi(e):this.b.pm(e))?a.A(b.Ib(this.yf,this.zf,!1)):a.A(0)};p.I=new h})();function gd(c){this.b=c}
(function(){function c(c){this.bb=c;this.Hb=!1;this.k=this.speed=this.y=this.x=0;this.opacity=1;this.Tf=this.ri=this.size=this.um=0}function m(){}function h(){}var p=gd.prototype;p.ya=function(c){this.Qa=c;this.b=c.b};var q=p.ya.prototype;q.T=function(){this.N||(this.ba=new Image,this.ba.gp=this.ao,this.xa=null,this.b.Qr(this.ba,this.$n))};q.Pk=function(){this.N||(this.xa=null)};q.jn=function(){this.N||!this.d.length||this.xa||(this.xa=this.b.F.Ii(this.ba,!0,this.b.ab,this.ml))};q.vk=function(){this.N||
this.xa||!this.b.F||(this.xa=this.b.F.Ii(this.ba,!0,this.b.ab,this.ml))};q.jo=function(){this.N||this.d.length||!this.xa||(this.b.F.deleteTexture(this.xa),this.xa=null)};q.Bn=function(c){c.drawImage(this.ba,0,0)};c.prototype.init=function(){var c=this.bb;this.x=c.x-c.xo/2+Math.random()*c.xo;this.y=c.y-c.yo/2+Math.random()*c.yo;this.speed=c.Am-c.gl/2+Math.random()*c.gl;this.k=c.k-c.Xn/2+Math.random()*c.Xn;this.opacity=c.Vp;this.size=c.Wp-c.Wn/2+Math.random()*c.Wn;this.um=c.Lp-c.vm/2+Math.random()*
c.vm;this.Tf=this.ri=0};c.prototype.Xa=function(c){var a=this.bb;this.x+=Math.cos(this.k)*this.speed*c;this.y+=Math.sin(this.k)*this.speed*c;this.y+=this.ri*c;this.speed+=a.$e*c;this.size+=this.um*c;this.ri+=a.fg*c;this.Tf+=c;1>this.size?this.Hb=!1:(0!==a.qk&&(this.k+=Math.random()*a.qk*c-a.qk*c/2),0!==a.sk&&(this.speed+=Math.random()*a.sk*c-a.sk*c/2),0!==a.rk&&(this.opacity+=Math.random()*a.rk*c-a.rk*c/2,0>this.opacity?this.opacity=0:1<this.opacity&&(this.opacity=1)),1>=a.fi&&this.Tf>=a.timeout&&
(this.Hb=!1),2===a.fi&&0>=this.speed&&(this.Hb=!1))};c.prototype.yd=function(c){var a=this.bb.opacity*this.opacity;if(0!==a){0===this.bb.fi&&(a*=1-this.Tf/this.bb.timeout);c.globalAlpha=a;var a=this.x-this.size/2,e=this.y-this.size/2;this.bb.b.Fd&&(a=a+.5|0,e=e+.5|0);c.drawImage(this.bb.type.ba,a,e,this.size,this.size)}};c.prototype.Dc=function(c){var a=this.bb.opacity*this.opacity;0===this.bb.fi&&(a*=1-this.Tf/this.bb.timeout);var e=this.size,b=e*this.bb.$u,d=this.x-e/2,f=this.y-e/2;this.bb.b.Fd&&
(d=d+.5|0,f=f+.5|0);1>b||0===a||(b<c.cC||b>c.xq?(c.Fg(a),c.Wi(d,f,d+e,f,d+e,f+e,d,f+e)):c.BC(this.x,this.y,b,a))};c.prototype.left=function(){return this.x-this.size/2};c.prototype.right=function(){return this.x+this.size/2};c.prototype.top=function(){return this.y-this.size/2};c.prototype.bottom=function(){return this.y+this.size/2};p.ka=function(c){this.type=c;this.b=c.b};var q=p.ka.prototype,r=[];q.T=function(){var c=this.O;this.Eh=c[0];this.Xn=bb(c[1]);this.Lh=c[2];this.hl=!0;this.Am=c[3];this.Wp=
c[4];this.Vp=c[5]/100;this.Lp=c[6];this.xo=c[7];this.yo=c[8];this.gl=c[9];this.Wn=c[10];this.vm=c[11];this.$e=c[12];this.fg=c[13];this.qk=c[14];this.sk=c[15];this.rk=c[16];this.fi=c[17];this.timeout=c[18];this.Ch=0;this.$u=1;this.ln=this.x;this.nn=this.y;this.mn=this.x;this.kn=this.y;this.Py(function(a){a.Ua.set(a.ln,a.nn,a.mn,a.kn);a.xc.ej(a.Ua);a.Ll=!1;a.Mr();a.lw()});this.td||(this.Bb=[]);this.b.ol(this);this.type.vk();if(1===this.Lh)for(c=0;c<this.Eh;c++)this.Dl().opacity=0;this.Mj=!0};q.gc=function(){var c=
{r:this.Eh,sc:this.Xn,st:this.Lh,s:this.hl,isp:this.Am,isz:this.Wp,io:this.Vp,gr:this.Lp,xr:this.xo,yr:this.yo,spr:this.gl,szr:this.Wn,grnd:this.vm,acc:this.$e,g:this.fg,lar:this.qk,lsr:this.sk,lor:this.rk,dm:this.fi,to:this.timeout,pcc:this.Ch,ft:this.Mj,p:[]},a,e,b,d=c.p;a=0;for(e=this.Bb.length;a<e;a++)b=this.Bb[a],d.push([b.x,b.y,b.speed,b.k,b.opacity,b.um,b.size,b.ri,b.Tf]);return c};q.Ic=function(c){this.Eh=c.r;this.Xn=c.sc;this.Lh=c.st;this.hl=c.s;this.Am=c.isp;this.Wp=c.isz;this.Vp=c.io;this.Lp=
c.gr;this.xo=c.xr;this.yo=c.yr;this.gl=c.spr;this.Wn=c.szr;this.vm=c.grnd;this.$e=c.acc;this.fg=c.g;this.qk=c.lar;this.sk=c.lsr;this.rk=c.lor;this.fi=c.dm;this.timeout=c.to;this.Ch=c.pcc;this.Mj=c.ft;r.push.apply(r,this.Bb);y(this.Bb);var a,e,b,d=c.p;c=0;for(a=d.length;c<a;c++)e=this.Dl(),b=d[c],e.x=b[0],e.y=b[1],e.speed=b[2],e.k=b[3],e.opacity=b[4],e.um=b[5],e.size=b[6],e.ri=b[7],e.Tf=b[8]};q.xg=function(){r.push.apply(r,this.Bb);y(this.Bb)};q.Dl=function(){var h;r.length?(h=r.pop(),h.bb=this):h=
new c(this);this.Bb.push(h);h.Hb=!0;return h};q.Xa=function(){var c=this.b.ni(this),a,e,b,d;if(0===this.Lh&&this.hl)for(this.Ch+=c*this.Eh,e=Ja(this.Ch),this.Ch-=e,a=0;a<e;a++)b=this.Dl(),b.init();this.ln=this.x;this.nn=this.y;this.mn=this.x;this.kn=this.y;d=a=0;for(e=this.Bb.length;a<e;a++)b=this.Bb[a],this.Bb[d]=b,this.b.Ma=!0,1===this.Lh&&this.Mj&&b.init(),b.Xa(c),b.Hb?(b.left()<this.ln&&(this.ln=b.left()),b.right()>this.mn&&(this.mn=b.right()),b.top()<this.nn&&(this.nn=b.top()),b.bottom()>this.kn&&
(this.kn=b.bottom()),d++):r.push(b);Ua(this.Bb,d);this.U();this.Mj=!1;1===this.Lh&&0===this.Bb.length&&this.b.Ze(this)};q.yd=function(c){var a,e,b,d=this.n;a=0;for(e=this.Bb.length;a<e;a++)b=this.Bb[a],b.right()>=d.Na&&b.bottom()>=d.Oa&&b.left()<=d.Ta&&b.top()<=d.Sa&&b.yd(c)};q.Dc=function(c){this.$u=this.n.Wc();c.cd(this.type.xa);var a,e,b,d=this.n;a=0;for(e=this.Bb.length;a<e;a++)b=this.Bb[a],b.right()>=d.Na&&b.bottom()>=d.Oa&&b.left()<=d.Ta&&b.top()<=d.Sa&&b.Dc(c)};m.prototype.ix=function(){return this.hl};
p.j=new m;h.prototype.my=function(c){this.hl=0!==c};h.prototype.iy=function(c){this.Eh=c;var a;if(1===this.Lh&&this.Mj)if(c<this.Bb.length)for(c=this.Bb.length-c,a=0;a<c;a++)r.push(this.Bb.pop());else if(c>this.Bb.length)for(c=c-this.Bb.length,a=0;a<c;a++)this.Dl().opacity=0};h.prototype.Zx=function(c){this.Am=c};h.prototype.ky=function(c){this.gl=c};h.prototype.fy=function(c){this.$e=c};p.u=new h;p.I=new function(){}})();function L(c){this.b=c}
(function(){function c(){if(0===this.kp.length){var a=document.createElement("canvas");a.width=this.width;a.height=this.height;var b=a.getContext("2d");this.fj?b.drawImage(this.ba,this.Qi,this.Ri,this.width,this.height,0,0,this.width,this.height):b.drawImage(this.ba,0,0,this.width,this.height);this.kp=a.toDataURL("image/png")}return this.kp}function m(){}function h(a){a[0]=0;a[1]=0;a[2]=0;t.push(a)}function p(a,b){return a<b?""+a+","+b:""+b+","+a}function q(a,b,c,d){b=b.uid;c=c.uid;var e=p(b,c);if(a.hasOwnProperty(e))a[e][2]=
d;else{var f=t.length?t.pop():[0,0,0];f[0]=b;f[1]=c;f[2]=d;a[e]=f}}function r(a,b,c){b=p(b.uid,c.uid);a.hasOwnProperty(b)&&(h(a[b]),delete a[b])}function l(a,b,c){b=p(b.uid,c.uid);if(a.hasOwnProperty(b))return N=a[b][2],!0;N=-2;return!1}function a(a,b,c){if(!a)return!1;var d=0!==b||0!==c,e,f,g=!1,h,k=this.b.pf(),l=k.type,k=k.kg,m=a.X();h=this.b.hb().lb.qd;m.ea?(this.wa(),A.ai(this.Ua),A.offset(b,c),this.b.zp(this.n,a,A,I),m=I):m=h?this.b.GB()&&!m.ca.length&&m.d.length?m.d:m.ca:m.d;n=a;S=l!==a&&!k;
d&&(e=this.x,f=this.y,this.x+=b,this.y+=c,this.U());b=0;for(c=m.length;b<c;b++)if(h=m[b],this.b.Hg(this,h)){g=!0;if(k)break;l!==a&&u.add(h)}d&&(this.x=e,this.y=f,this.U());y(I);return g}function e(){}function b(){}var d=L.prototype;d.ya=function(a){this.Qa=a;this.b=a.b};var f=d.ya.prototype;f.T=function(){if(!this.N){var a,b,d,e,f,g,h,k,l;this.he=[];this.Tj=!1;a=0;for(b=this.gd.length;a<b;a++){f=this.gd[a];h={};h.name=f[0];h.speed=f[1];h.loop=f[2];h.$q=f[3];h.br=f[4];h.av=f[5];h.Aa=f[6];h.frames=
[];d=0;for(e=f[7].length;d<e;d++)g=f[7][d],k={},k.$n=g[0],k.ao=g[1],k.Qi=g[2],k.Ri=g[3],k.width=g[4],k.height=g[5],k.duration=g[6],k.Mb=g[7],k.Nb=g[8],k.Rp=g[9],k.tn=g[10],k.bv=g[11],k.fj=0!==k.width,k.kp="",k.OA=c,l={left:0,top:0,right:1,bottom:1},k.mr=l,k.xa=null,(l=this.b.HA(g[0]))?k.ba=l:(k.ba=new Image,k.ba.qz=g[0],k.ba.gp=g[1],k.ba.dz=null,this.b.Qr(k.ba,g[0])),h.frames.push(k),this.he.push(k);this.gd[a]=h}}};f.kw=function(){var a,b,c;a=0;for(b=this.d.length;a<b;a++)c=this.d[a],c.Ul=c.Kb.xa};
f.Pk=function(){if(!this.N){var a,b,c;a=0;for(b=this.he.length;a<b;++a)c=this.he[a],c.ba.dz=null,c.xa=null;this.Tj=!1;this.kw()}};f.jn=function(){if(!this.N&&this.d.length){var a,b,c;a=0;for(b=this.he.length;a<b;++a)c=this.he[a],c.xa=this.b.F.Ii(c.ba,!1,this.b.ab,c.bv);this.kw()}};f.vk=function(){if(!this.N&&!this.Tj&&this.b.F){var a,b,c;a=0;for(b=this.he.length;a<b;++a)c=this.he[a],c.xa=this.b.F.Ii(c.ba,!1,this.b.ab,c.bv);this.Tj=!0}};f.jo=function(){if(!this.N&&!this.d.length&&this.Tj){var a,b,
c;a=0;for(b=this.he.length;a<b;++a)c=this.he[a],this.b.F.deleteTexture(c.xa),c.xa=null;this.Tj=!1}};var k=[];f.Bn=function(a){var b,c,d;y(k);b=0;for(c=this.he.length;b<c;++b)d=this.he[b].ba,-1===k.indexOf(d)&&(a.drawImage(d,0,0),k.push(d))};d.ka=function(a){this.type=a;this.b=a.b;a=this.type.gd[0].frames[0].tn;this.td?this.na.bl(a):this.na=new Fb(a)};var g=d.ka.prototype;g.T=function(){this.visible=0===this.O[0];this.Sp=this.gq=!1;this.hf=0!==this.O[3];this.Wa=this.dt(this.O[1])||this.type.gd[0];
this.M=this.O[2];0>this.M&&(this.M=0);this.M>=this.Wa.frames.length&&(this.M=this.Wa.frames.length-1);var a=this.Wa.frames[this.M];this.na.bl(a.tn);this.Mb=a.Mb;this.Nb=a.Nb;this.ci=this.Wa.speed;this.ag=this.Wa.br;1===this.type.gd.length&&1===this.type.gd[0].frames.length||0===this.ci||(this.b.ol(this),this.gq=!0);this.td?this.De.reset():this.De=new Db;this.of=this.De.ma;this.Ng=!0;this.df=0;this.Mg=!0;this.$h=this.rs="";this.Ds=0;this.Wo=-1;this.type.vk();var b,c,d,e,f,g,h,a=0;for(b=this.type.gd.length;a<
b;a++)for(e=this.type.gd[a],c=0,d=e.frames.length;c<d;c++)f=e.frames[c],0===f.width&&(f.width=f.ba.width,f.height=f.ba.height),f.fj&&(h=f.ba,g=f.mr,g.left=f.Qi/h.width,g.top=f.Ri/h.height,g.right=(f.Qi+f.width)/h.width,g.bottom=(f.Ri+f.height)/h.height,0===f.Qi&&0===f.Ri&&f.width===h.width&&f.height===h.height&&(f.fj=!1));this.Kb=this.Wa.frames[this.M];this.Ul=this.Kb.xa};g.gc=function(){var a={a:this.Wa.Aa,f:this.M,cas:this.ci,fs:this.of,ar:this.df,at:this.De.ma,rt:this.ag};this.Ng||(a.ap=this.Ng);
this.Mg||(a.af=this.Mg);return a};g.Ic=function(a){var b=this.LA(a.a);b&&(this.Wa=b);this.M=a.f;0>this.M&&(this.M=0);this.M>=this.Wa.frames.length&&(this.M=this.Wa.frames.length-1);this.ci=a.cas;this.of=a.fs;this.df=a.ar;this.De.reset();this.De.ma=a.at;this.Ng=a.hasOwnProperty("ap")?a.ap:!0;this.Mg=a.hasOwnProperty("af")?a.af:!0;a.hasOwnProperty("rt")?this.ag=a.rt:this.ag=this.Wa.br;this.Kb=this.Wa.frames[this.M];this.Ul=this.Kb.xa;this.na.bl(this.Kb.tn);this.Mb=this.Kb.Mb;this.Nb=this.Kb.Nb};g.Mo=
function(a){this.M=a?0:this.Wa.frames.length-1;this.Ng=!1;this.rs=this.Wa.name;this.Sp=!0;this.b.trigger(L.prototype.j.mx,this);this.b.trigger(L.prototype.j.Xr,this);this.Sp=!1;this.df=0};g.ik=function(){return this.De.ma};g.Xa=function(){this.De.add(this.b.ni(this));this.$h.length&&this.Ps();0<=this.Wo&&this.Cz();var a=this.De.ma,b=this.Wa,c=b.frames[this.M],d=c.duration/this.ci;this.Ng&&a>=this.of+d&&(this.Mg?this.M++:this.M--,this.of+=d,this.M>=b.frames.length&&(b.av?(this.Mg=!1,this.M=b.frames.length-
2):b.loop?this.M=this.ag:(this.df++,this.df>=b.$q?this.Mo(!1):this.M=this.ag)),0>this.M&&(b.av?(this.M=1,this.Mg=!0,b.loop||(this.df++,this.df>=b.$q&&this.Mo(!0))):b.loop?this.M=this.ag:(this.df++,this.df>=b.$q?this.Mo(!0):this.M=this.ag)),0>this.M?this.M=0:this.M>=b.frames.length&&(this.M=b.frames.length-1),a>this.of+b.frames[this.M].duration/this.ci&&(this.of=a),a=b.frames[this.M],this.Vh(c,a),this.b.Ma=!0)};g.dt=function(a){var b,c,d;b=0;for(c=this.type.gd.length;b<c;b++)if(d=this.type.gd[b],Wb(d.name,
a))return d;return null};g.LA=function(a){var b,c,d;b=0;for(c=this.type.gd.length;b<c;b++)if(d=this.type.gd[b],d.Aa===a)return d;return null};g.Ps=function(){var a=this.Wa.frames[this.M],b=this.dt(this.$h);this.$h="";!b||Wb(b.name,this.Wa.name)&&this.Ng||(this.Wa=b,this.ci=b.speed,this.ag=b.br,0>this.M&&(this.M=0),this.M>=this.Wa.frames.length&&(this.M=this.Wa.frames.length-1),1===this.Ds&&(this.M=0),this.Ng=!0,this.of=this.De.ma,this.Mg=!0,this.Vh(a,this.Wa.frames[this.M]),this.b.Ma=!0)};g.Cz=function(){var a=
this.Wa.frames[this.M],b=this.M;this.M=Ja(this.Wo);0>this.M&&(this.M=0);this.M>=this.Wa.frames.length&&(this.M=this.Wa.frames.length-1);b!==this.M&&(this.Vh(a,this.Wa.frames[this.M]),this.of=this.De.ma,this.b.Ma=!0);this.Wo=-1};g.Vh=function(a,b){var c=a.width,d=a.height,e=b.width,f=b.height;c!=e&&(this.width*=e/c);d!=f&&(this.height*=f/d);this.Mb=b.Mb;this.Nb=b.Nb;this.na.bl(b.tn);this.U();this.Kb=b;this.Ul=b.xa;c=0;for(d=this.R.length;c<d;c++)e=this.R[c],e.nC&&e.nC(a,b);this.b.trigger(L.prototype.j.Vh,
this)};g.yd=function(a){a.globalAlpha=this.opacity;var b=this.Kb,c=b.fj,d=b.ba,e=this.x,f=this.y,g=this.width,h=this.height;if(0===this.k&&0<=g&&0<=h)e-=this.Mb*g,f-=this.Nb*h,this.b.Fd&&(e=Math.round(e),f=Math.round(f)),c?a.drawImage(d,b.Qi,b.Ri,b.width,b.height,e,f,g,h):a.drawImage(d,e,f,g,h);else{this.b.Fd&&(e=Math.round(e),f=Math.round(f));a.save();var k=0<g?1:-1,l=0<h?1:-1;a.translate(e,f);1===k&&1===l||a.scale(k,l);a.rotate(this.k*k*l);e=0-this.Mb*Fa(g);f=0-this.Nb*Fa(h);c?a.drawImage(d,b.Qi,
b.Ri,b.width,b.height,e,f,Fa(g),Fa(h)):a.drawImage(d,e,f,Fa(g),Fa(h));a.restore()}};g.Zg=function(a){this.Dc(a)};g.Dc=function(a){a.cd(this.Ul);a.Fg(this.opacity);var b=this.Kb,c=this.xc;if(this.b.Fd){var d=Math.round(this.x)-this.x,e=Math.round(this.y)-this.y;b.fj?a.Ue(c.Vb+d,c.Wb+e,c.Lc+d,c.Mc+e,c.yc+d,c.zc+e,c.vc+d,c.wc+e,b.mr):a.Wi(c.Vb+d,c.Wb+e,c.Lc+d,c.Mc+e,c.yc+d,c.zc+e,c.vc+d,c.wc+e)}else b.fj?a.Ue(c.Vb,c.Wb,c.Lc,c.Mc,c.yc,c.zc,c.vc,c.wc,b.mr):a.Wi(c.Vb,c.Wb,c.Lc,c.Mc,c.yc,c.zc,c.vc,c.wc)};
g.QA=function(a){var b=this.Kb,c,d;c=0;for(d=b.Rp.length;c<d;c++)if(Wb(a,b.Rp[c][0]))return c;return-1};g.Le=function(a,b){var c=this.Kb,d=c.Rp,e;Ca(a)?e=this.QA(a):e=a-1;e=Ja(e);if(0>e||e>=d.length)return b?this.x:this.y;var f=(d[e][1]-c.Mb)*this.width,d=d[e][2],d=(d-c.Nb)*this.height,c=Math.cos(this.k);e=Math.sin(this.k);var g=f*c-d*e,d=d*c+f*e,f=g+this.x,d=d+this.y;return b?f:d};var t=[],N=-2,O=[];m.prototype.rx=function(a){if(!a)return!1;var b=this.b,c=b.pf(),d=c.type,e=null;c.S.collmemory?e=
c.S.collmemory:(e={},c.S.collmemory=e);c.S.spriteCreatedDestroyCallback||(c.S.spriteCreatedDestroyCallback=!0,b.Ko(function(a){var b=c.S.collmemory;a=a.uid;var d,e;for(d in b)b.hasOwnProperty(d)&&(e=b[d],e[0]===a||e[1]===a)&&(h(b[d]),delete b[d])}));var f=d.X(),g=a.X(),f=f.Ec(),k,m,p,n,t,u,x,v=this.b.Id,A=v-1,D=b.hb().lb;for(m=0;m<f.length;m++){p=f[m];g.ea?(p.wa(),this.b.zp(p.n,a,p.Ua,O),k=O,this.b.Oy(p,a,k)):k=g.Ec();for(n=0;n<k.length;n++)t=k[n],b.Hg(p,t)||b.gz(p,t)?(u=l(e,p,t),u=!u||N<A,q(e,p,
t,v),u&&(b.Vi(D.La),u=d.X(),x=a.X(),u.ea=!1,x.ea=!1,d===a?(u.d.length=2,u.d[0]=p,u.d[1]=t,d.hd()):(u.d.length=1,x.d.length=1,u.d[0]=p,x.d[0]=t,d.hd(),a.hd()),D.Wk(),b.Cf(D.La))):r(e,p,t);y(O)}return!1};var n=null,u=new pa,S=!1,I=[],A=new Na(0,0,0,0);f.finish=function(a){if(S){if(a){var b=this.b.hb().lb.qd;a=n.X();var c=u.fe(),d,e;if(a.ea){a.ea=!1;y(a.d);d=0;for(e=c.length;d<e;++d)a.d[d]=c[d];if(b)for(y(a.ca),d=0,e=n.d.length;d<e;++d)c=n.d[d],u.contains(c)||a.ca.push(c)}else if(b)for(b=a.d.length,
d=0,e=c.length;d<e;++d)a.d[b+d]=c[d],$a(a.ca,c[d]);else Va(a.d,c);n.hd()}u.clear();S=!1}};m.prototype.gx=function(b){return a.call(this,b,0,0)};m.prototype.hx=function(b,c,d){return a.call(this,b,c,d)};m.prototype.Ww=function(a){return this.$h.length?Wb(this.$h,a):Wb(this.Wa.name,a)};m.prototype.Hw=function(a,b){return Rc(this.M,a,b)};m.prototype.Xr=function(a){return Wb(this.rs,a)};m.prototype.mx=function(){return!0};m.prototype.Vh=function(){return!0};d.j=new m;e.prototype.yy=function(a,b,c){if(a&&
b&&(b=this.b.hp(a,b,this.Le(c,!0),this.Le(c,!1)))){"undefined"!==typeof b.k&&(b.k=this.k,b.U());this.b.Cd++;var d,e,f;this.b.trigger(Object.getPrototypeOf(a.Qa).j.Pf,b);if(b.nc)for(d=0,e=b.siblings.length;d<e;d++)f=b.siblings[d],this.b.trigger(Object.getPrototypeOf(f.type.Qa).j.Pf,f);this.b.Cd--;d=this.b.NA();c=!1;if(ya(d.S.Spawn_LastExec)||d.S.Spawn_LastExec<this.b.fh)c=!0,d.S.Spawn_LastExec=this.b.fh;if(a!=this.type&&(a=a.X(),a.ea=!1,c?(y(a.d),a.d[0]=b):a.d.push(b),b.nc))for(d=0,e=b.siblings.length;d<
e;d++)f=b.siblings[d],a=f.type.X(),a.ea=!1,c?(y(a.d),a.d[0]=f):a.d.push(f)}};e.prototype.Sx=function(a,b){this.$h=a;this.Ds=b;this.gq||(this.b.ol(this),this.gq=!0);this.Sp||this.Ps()};e.prototype.by=function(a){a=Fa(this.width)*(0===a?-1:1);this.width!==a&&(this.width=a,this.U())};d.u=new e;b.prototype.Uw=function(a,b){a.A(this.Le(b,!0))};b.prototype.Vw=function(a,b){a.A(this.Le(b,!1))};d.I=new b})();function hd(c){this.b=c}
(function(){function c(){return a.length?a.pop():{}}function m(c){var b,d;b=0;for(d=c.length;b<d;b++)a.push(c[b]);y(c)}function h(a){return a.length&&" "===a.charAt(a.length-1)?a.substring(0,a.length-1):a}function p(){}var q=hd.prototype;q.T=function(){q.u.js=function(a){this.width!==a&&(this.width=a,this.Qh=!0,this.U())}};q.ya=function(a){this.Qa=a;this.b=a.b};var r=q.ya.prototype;r.T=function(){};r.Pk=function(){if(!this.N){var a,b,c;a=0;for(b=this.d.length;a<b;a++)c=this.d[a],c.Qe=null,c.yh=null,
c.od=null}};q.ka=function(a){this.type=a;this.b=a.b;this.td?y(this.rg):this.rg=[];this.Qh=!0};r=q.ka.prototype;r.T=function(){this.text=this.O[0];this.visible=0===this.O[1];this.font=this.O[2];this.color=this.O[3];this.wm=this.O[4];this.qo=this.O[5];this.Sr=0===this.O[7];this.oq=this.Nm=this.width;this.Mm=this.height;this.rq=this.O[8];this.km=this.ji="";this.Xv=this.Yv=this.Tk=0;this.xC();this.od=this.yh=this.Qe=null;this.Cu=!1;this.pk=this.b.Id;this.td?this.Cg.set(0,0,1,1):this.Cg=new Na(0,0,1,1);
this.b.F&&this.b.ol(this)};r.xC=function(){var a=this.font.split(" "),b;for(b=0;b<a.length;b++)if("pt"===a[b].substr(a[b].length-2,2)){this.Tk=parseInt(a[b].substr(0,a[b].length-2));this.Uq=Math.ceil(this.Tk/72*96)+4;0<b&&(this.km=a[b-1]);this.ji=a[b+1];for(b+=2;b<a.length;b++)this.ji+=" "+a[b];break}};r.gc=function(){return{t:this.text,f:this.font,c:this.color,ha:this.wm,va:this.qo,wr:this.Sr,lho:this.rq,fn:this.ji,fs:this.km,ps:this.Tk,pxh:this.Uq,tw:this.Yv,th:this.Xv,lrt:this.pk}};r.Ic=function(a){this.text=
a.t;this.font=a.f;this.color=a.c;this.wm=a.ha;this.qo=a.va;this.Sr=a.wr;this.rq=a.lho;this.ji=a.fn;this.km=a.fs;this.Tk=a.ps;this.Uq=a.pxh;this.Yv=a.tw;this.Xv=a.th;this.pk=a.lrt;this.Qh=!0;this.oq=this.Nm=this.width;this.Mm=this.height};r.Xa=function(){if(this.b.F&&this.od&&300<=this.b.Id-this.pk){var a=this.n;this.wa();var b=this.Ua;if(b.right<a.Na||b.bottom<a.Oa||b.left>a.Ta||b.top>a.Sa)this.b.F.deleteTexture(this.od),this.Qe=this.yh=this.od=null}};r.xg=function(){this.Qe=this.yh=null;this.b.F&&
this.od&&this.b.F.deleteTexture(this.od);this.od=null};r.ik=function(){this.font=this.km+" "+this.Tk.toString()+"pt "+this.ji;this.Qh=!0;this.b.Ma=!0};r.yd=function(a,b){a.font=this.font;a.textBaseline="top";a.fillStyle=this.color;a.globalAlpha=b?1:this.opacity;var c=1;b&&(c=Math.abs(this.n.Wc()),a.save(),a.scale(c,c));if(this.Qh||this.width!==this.oq)this.type.Qa.Hy(this.text,this.rg,a,this.width,this.Sr),this.Qh=!1,this.oq=this.width;this.wa();var c=b?0:this.xc.Vb,f=b?0:this.xc.Wb;this.b.Fd&&(c=
c+.5|0,f=f+.5|0);0===this.k||b||(a.save(),a.translate(c,f),a.rotate(this.k),f=c=0);var h=f+this.height,g=this.Uq,g=g+this.rq,l,m;1===this.qo?f+=Math.max(this.height/2-this.rg.length*g/2,0):2===this.qo&&(f+=Math.max(this.height-this.rg.length*g-2,0));for(m=0;m<this.rg.length&&!(l=c,1===this.wm?l=c+(this.width-this.rg[m].width)/2:2===this.wm&&(l=c+(this.width-this.rg[m].width)),a.fillText(this.rg[m].text,l,f),f+=g,f>=h-g);m++);(0!==this.k||b)&&a.restore();this.pk=this.b.Id};r.Dc=function(a){if(!(1>
this.width||1>this.height)){var b=this.Qh||this.Cu;this.Cu=!1;var c=this.n.Wc(),f=this.n.cb(),h=this.Cg,g=c*this.width,l=c*this.height,m=Math.ceil(g),p=Math.ceil(l),n=Math.abs(m),r=Math.abs(p),q=this.b.W/2,I=this.b.V/2;this.yh||(this.Qe=document.createElement("canvas"),this.Qe.width=n,this.Qe.height=r,this.Nm=n,this.Mm=r,b=!0,this.yh=this.Qe.getContext("2d"));if(n!==this.Nm||r!==this.Mm)this.Qe.width=n,this.Qe.height=r,this.od&&(a.deleteTexture(this.od),this.od=null),b=!0;b&&(this.yh.clearRect(0,
0,n,r),this.yd(this.yh,!0),this.od||(this.od=a.xd(n,r,this.b.ab,this.b.uf)),a.$D(this.Qe,this.od,this.b.uf));this.Nm=n;this.Mm=r;a.cd(this.od);a.Fg(this.opacity);a.ae();a.translate(-q,-I);a.Kd();var A=this.xc,b=this.n.$a(A.Vb,A.Wb,!0,!0),n=this.n.$a(A.Vb,A.Wb,!1,!0),r=this.n.$a(A.Lc,A.Mc,!0,!0),q=this.n.$a(A.Lc,A.Mc,!1,!0),I=this.n.$a(A.yc,A.zc,!0,!0),E=this.n.$a(A.yc,A.zc,!1,!0),X=this.n.$a(A.vc,A.wc,!0,!0),A=this.n.$a(A.vc,A.wc,!1,!0);if(this.b.Fd||0===this.k&&0===f)var w=(b+.5|0)-b,C=(n+.5|0)-
n,b=b+w,n=n+C,r=r+w,q=q+C,I=I+w,E=E+C,X=X+w,A=A+C;0===this.k&&0===f?(r=b+m,q=n,I=r,E=n+p,X=b,A=E,h.right=1,h.bottom=1):(h.right=g/m,h.bottom=l/p);a.Ue(b,n,r,q,I,E,X,A,h);a.ae();a.scale(c,c);a.Jn(-this.n.cb());a.translate((this.n.Na+this.n.Ta)/-2,(this.n.Oa+this.n.Sa)/-2);a.Kd();this.pk=this.b.Id}};var l=[];q.Cy=function(a){y(l);for(var b="",c,f=0;f<a.length;)if(c=a.charAt(f),"\n"===c)b.length&&(l.push(b),b=""),l.push("\n"),++f;else if(" "===c||"\t"===c||"-"===c){do b+=a.charAt(f),f++;while(f<a.length&&
(" "===a.charAt(f)||"\t"===a.charAt(f)));l.push(b);b=""}else f<a.length&&(b+=c,f++);b.length&&l.push(b)};var a=[];q.Hy=function(a,b,d,f,h){if(a&&a.length)if(2>=f)m(b);else{if(100>=a.length&&-1===a.indexOf("\n")){var g=d.measureText(a).width;if(g<=f){m(b);b.push(c());b[0].text=a;b[0].width=g;return}}this.Iy(a,b,d,f,h)}else m(b)};q.Iy=function(e,b,d,f,k){k&&(this.Cy(e),e=l);var g="",m,p,r,n=0;for(r=0;r<e.length;r++)"\n"===e[r]?(n>=b.length&&b.push(c()),g=h(g),p=b[n],p.text=g,p.width=d.measureText(g).width,
n++,g=""):(m=g,g+=e[r],p=d.measureText(g).width,p>=f&&(n>=b.length&&b.push(c()),m=h(m),p=b[n],p.text=m,p.width=d.measureText(m).width,n++,g=e[r],k||" "!==g||(g="")));g.length&&(n>=b.length&&b.push(c()),g=h(g),p=b[n],p.text=g,p.width=d.measureText(g).width,n++);for(r=n;r<b.length;r++)a.push(b[r]);b.length=n};q.j=new function(){};p.prototype.ny=function(a){za(a)&&1E9>a&&(a=Math.round(1E10*a)/1E10);a=a.toString();this.text!==a&&(this.text=a,this.Qh=!0,this.b.Ma=!0)};q.u=new p;q.I=new function(){}})();
function id(c){this.b=c}
(function(){var c=id.prototype;c.ya=function(c){this.Qa=c;this.b=c.b};var m=c.ya.prototype;m.T=function(){this.N||(this.ba=new Image,this.ba.gp=this.ao,this.b.Qr(this.ba,this.$n),this.xa=this.pattern=null)};m.Pk=function(){this.N||(this.xa=null)};m.jn=function(){if(!this.N&&this.d.length){this.xa||(this.xa=this.b.F.Ii(this.ba,!0,this.b.ab,this.ml));var c,m;c=0;for(m=this.d.length;c<m;c++)this.d[c].xa=this.xa}};m.vk=function(){this.N||this.xa||!this.b.F||(this.xa=this.b.F.Ii(this.ba,!0,this.b.ab,this.ml))};
m.jo=function(){this.N||this.d.length||!this.xa||(this.b.F.deleteTexture(this.xa),this.xa=null)};m.Bn=function(c){c.drawImage(this.ba,0,0)};c.ka=function(c){this.type=c;this.b=c.b};m=c.ka.prototype;m.T=function(){this.visible=0===this.O[0];this.Cg=new Na(0,0,0,0);this.wt=!1;this.ba=this.type.ba;this.b.F?(this.type.vk(),this.xa=this.type.xa):(this.type.pattern||(this.type.pattern=this.b.fb.createPattern(this.type.ba,"repeat")),this.pattern=this.type.pattern)};m.Ce=function(){this.wt=!1;this.ba=this.type.ba};
m.xg=function(){this.b.F&&this.wt&&this.xa&&(this.b.F.deleteTexture(this.xa),this.xa=null)};m.yd=function(c){c.globalAlpha=this.opacity;c.save();c.fillStyle=this.pattern;var m=this.x,q=this.y;this.b.Fd&&(m=Math.round(m),q=Math.round(q));var r=-(this.Mb*this.width),l=-(this.Nb*this.height),a=r%this.ba.width,e=l%this.ba.height;0>a&&(a+=this.ba.width);0>e&&(e+=this.ba.height);c.translate(m,q);c.rotate(this.k);c.translate(a,e);c.fillRect(r-a,l-e,this.width,this.height);c.restore()};m.Zg=function(c){this.Dc(c)};
m.Dc=function(c){c.cd(this.xa);c.Fg(this.opacity);var m=this.Cg;m.right=this.width/this.ba.width;m.bottom=this.height/this.ba.height;var q=this.xc;if(this.b.Fd){var r=Math.round(this.x)-this.x,l=Math.round(this.y)-this.y;c.Ue(q.Vb+r,q.Wb+l,q.Lc+r,q.Mc+l,q.yc+r,q.zc+l,q.vc+r,q.wc+l,m)}else c.Ue(q.Vb,q.Wb,q.Lc,q.Mc,q.yc,q.zc,q.vc,q.wc,m)};c.j=new function(){};c.u=new function(){};c.I=new function(){}})();function jd(c){this.b=c}
(function(){var c=jd.prototype;c.ya=function(c){this.behavior=c;this.b=c.b};c.ya.prototype.T=function(){};c.ka=function(c,m){this.type=c;this.behavior=c.behavior;this.i=m;this.b=c.b};var m=c.ka.prototype;m.T=function(){var c=this.O[0];this.$e=this.O[1];this.fg=this.O[2];this.bz=0!==this.O[3];this.$i=0!==this.O[4];this.$b=Math.cos(this.i.k)*c;this.wb=Math.sin(this.i.k)*c;this.Om=this.i.x;this.Pm=this.i.y;this.Vd=this.i.k;this.eo=0;this.enabled=0!==this.O[5]};m.gc=function(){return{acc:this.$e,g:this.fg,
dx:this.$b,dy:this.wb,lx:this.Om,ly:this.Pm,lka:this.Vd,t:this.eo,e:this.enabled}};m.Ic=function(c){this.$e=c.acc;this.fg=c.g;this.$b=c.dx;this.wb=c.dy;this.Om=c.lx;this.Pm=c.ly;this.Vd=c.lka;this.eo=c.t;this.enabled=c.e};m.Xa=function(){if(this.enabled){var c=this.b.ni(this.i),m,q;this.i.k!==this.Vd&&(this.$i&&(m=nb(0,0,this.$b,this.wb),this.$b=Math.cos(this.i.k)*m,this.wb=Math.sin(this.i.k)*m),this.Vd=this.i.k);0!==this.$e&&(m=nb(0,0,this.$b,this.wb),q=0===this.$b&&0===this.wb?this.i.k:hb(0,0,this.$b,
this.wb),m+=this.$e*c,0>m&&(m=0),this.$b=Math.cos(q)*m,this.wb=Math.sin(q)*m);0!==this.fg&&(this.wb+=this.fg*c);this.Om=this.i.x;this.Pm=this.i.y;if(0!==this.$b||0!==this.wb)if(this.i.x+=this.$b*c,this.i.y+=this.wb*c,this.eo+=nb(0,0,this.$b*c,this.wb*c),this.$i&&(this.i.k=hb(0,0,this.$b,this.wb),this.i.U(),this.Vd=this.i.k),this.i.U(),this.bz&&(m=this.b.Ph(this.i)))this.b.WC(this.i,m),m=nb(0,0,this.$b,this.wb),q=this.b.ez(this.i,this.Om,this.Pm),this.$b=Math.cos(q)*m,this.wb=Math.sin(q)*m,this.i.x+=
this.$b*c,this.i.y+=this.wb*c,this.i.U(),this.$i&&(this.Vd=this.i.k=q,this.i.U()),this.b.NC(this.i,this.$b/m,this.wb/m,Math.max(2.5*m*c,30))||this.b.OC(this.i)}};c.j=new function(){};c.u=new function(){};c.I=new function(){}})();
function kd(c){this.b=c;var m=this;this.b.ob||(jQuery(document).mousemove(function(c){m.Hq(c)}),jQuery(document).mousedown(function(c){m.Gq(c)}),jQuery(document).mouseup(function(c){m.Iq(c)}));c=0<this.b.Oc?document:this.b.canvas;this.b.Gc?c=window.Canvas:this.b.Ud&&(c=window);"undefined"!==typeof PointerEvent?(c.addEventListener("pointerdown",function(c){m.Nu(c)},!1),c.addEventListener("pointermove",function(c){m.Mu(c)},!1),c.addEventListener("pointerup",function(c){m.hn(c)},!1),c.addEventListener("pointercancel",
function(c){m.hn(c)},!1)):window.navigator.msPointerEnabled?(c.addEventListener("MSPointerDown",function(c){m.Nu(c)},!1),c.addEventListener("MSPointerMove",function(c){m.Mu(c)},!1),c.addEventListener("MSPointerUp",function(c){m.hn(c)},!1),c.addEventListener("MSPointerCancel",function(c){m.hn(c)},!1)):(c.addEventListener("touchstart",function(c){m.qC(c)},!1),c.addEventListener("touchmove",function(c){m.pC(c)},!1),c.addEventListener("touchend",function(c){m.Pu(c)},!1),c.addEventListener("touchcancel",
function(c){m.Pu(c)},!1))}
(function(){function c(c){var l,a;l=0;for(a=c.R.length;l<a;l++)if(c.R[l]instanceof h.ka)return c.R[l];return null}function m(){}var h=kd.prototype,p={left:0,top:0};h.Gq=function(c){1===c.which&&this.Cq("leftmouse",c.pageX,c.pageY)};h.Hq=function(c){1===c.which&&this.Dq("leftmouse",c.pageX,c.pageY)};h.Iq=function(c){1===c.which&&this.Eq("leftmouse")};h.qC=function(c){c.preventDefault&&Xb(c)&&c.preventDefault();var h,a,e,b;h=0;for(a=c.changedTouches.length;h<a;h++)e=c.changedTouches[h],b=e.identifier,
this.Cq(b?b.toString():"<none>",e.pageX,e.pageY)};h.pC=function(c){c.preventDefault&&c.preventDefault();var h,a,e,b;h=0;for(a=c.changedTouches.length;h<a;h++)e=c.changedTouches[h],b=e.identifier,this.Dq(b?b.toString():"<none>",e.pageX,e.pageY)};h.Pu=function(c){c.preventDefault&&Xb(c)&&c.preventDefault();var h,a,e;h=0;for(a=c.changedTouches.length;h<a;h++)e=c.changedTouches[h],e=e.identifier,this.Eq(e?e.toString():"<none>")};h.Nu=function(c){c.pointerType!==c.MSPOINTER_TYPE_MOUSE&&"mouse"!==c.pointerType&&
(c.preventDefault&&Xb(c)&&c.preventDefault(),this.Cq(c.pointerId.toString(),c.pageX,c.pageY))};h.Mu=function(c){c.pointerType!==c.MSPOINTER_TYPE_MOUSE&&"mouse"!==c.pointerType&&(c.preventDefault&&c.preventDefault(),this.Dq(c.pointerId.toString(),c.pageX,c.pageY))};h.hn=function(c){c.pointerType!==c.MSPOINTER_TYPE_MOUSE&&"mouse"!==c.pointerType&&(c.preventDefault&&Xb(c)&&c.preventDefault(),this.Eq(c.pointerId.toString()))};h.Cq=function(h,l,a){var e=this.b.ob?p:jQuery(this.b.canvas).offset();l=l-e.left;
a=a-e.top;var b,d,f,k,e=this.xh.fe(),g,m,q,O=null;g=0;for(m=e.length;g<m;g++)if(q=e[g],b=c(q),b.enabled&&!b.Yg&&(b=q.n.Ib(l,a,!0),d=q.n.Ib(l,a,!1),q.wa(),q.ic(b,d)))O?q.n.index>O.n.index?(O=q,f=b,k=d):q.n.index===O.n.index&&q.Rd()>O.Rd()&&(O=q,f=b,k=d):(O=q,f=b,k=d);O&&c(O).iC(h,f,k)};h.Dq=function(h,l,a){var e=this.b.ob?p:jQuery(this.b.canvas).offset();l=l-e.left;a=a-e.top;var b,d=this.xh.fe(),f,k,g;f=0;for(k=d.length;f<k;f++)b=d[f],g=c(b),!g.enabled||!g.Yg||g.Yg&&g.np!==h||(e=b.n.Ib(l,a,!0),b=b.n.Ib(l,
a,!1),g.lC(e,b))};h.Eq=function(h){var l=this.xh.fe(),a,e,b;a=0;for(e=l.length;a<e;a++)b=l[a],b=c(b),b.Yg&&b.np===h&&b.rC()};h.ya=function(c){this.behavior=c;this.b=c.b};h.ya.prototype.T=function(){};h.ka=function(c,h){this.type=c;this.behavior=c.behavior;this.i=h;this.b=c.b};var q=h.ka.prototype;q.T=function(){this.Yg=!1;this.wb=this.$b=0;this.np="<none>";this.Oo=this.O[0];this.enabled=0!==this.O[1]};q.gc=function(){return{enabled:this.enabled}};q.Ic=function(c){this.enabled=c.enabled;this.Yg=!1};
q.iC=function(c,h,a){this.$b=h-this.i.x;this.wb=a-this.i.y;this.Yg=!0;this.np=c;this.b.Hc=!0;this.b.trigger(kd.prototype.j.tx,this.i);this.b.Hc=!1};q.lC=function(c,h){var a=c-this.$b,e=h-this.wb;if(0===this.Oo){if(this.i.x!==a||this.i.y!==e)this.i.x=a,this.i.y=e,this.i.U()}else 1===this.Oo?this.i.x!==a&&(this.i.x=a,this.i.U()):2===this.Oo&&this.i.y!==e&&(this.i.y=e,this.i.U())};q.rC=function(){this.Yg=!1;this.b.Hc=!0;this.b.trigger(kd.prototype.j.ux,this.i);this.b.Hc=!1};q.Xa=function(){};m.prototype.tx=
function(){return!0};m.prototype.ux=function(){return!0};h.j=new m;h.u=new function(){};h.I=new function(){}})();function qd(c){this.b=c}
(function(){var c=qd.prototype;c.ya=function(c){this.behavior=c;this.b=c.b};c.ya.prototype.T=function(){};c.ka=function(c,m){this.type=c;this.behavior=c.behavior;this.i=m;this.b=c.b};var m=c.ka.prototype;m.T=function(){this.fc=null;this.rn=-1;this.mode=this.Vd=this.Br=this.Ik=this.Ag=this.qn=0;var c=this;this.td||(this.Bu=function(m){c.Fq(m)});this.b.Ko(this.Bu)};m.gc=function(){return{uid:this.fc?this.fc.uid:-1,pa:this.qn,pd:this.Ag,msa:this.Ik,tsa:this.Br,lka:this.Vd,m:this.mode}};m.Ic=function(c){this.rn=
c.uid;this.qn=c.pa;this.Ag=c.pd;this.Ik=c.msa;this.Br=c.tsa;this.Vd=c.lka;this.mode=c.m};m.Ce=function(){-1===this.rn?this.fc=null:this.fc=this.b.pi(this.rn);this.rn=-1};m.Fq=function(c){this.fc==c&&(this.fc=null)};m.xg=function(){this.fc=null;this.b.bD(this.Bu)};m.Xa=function(){};m.nl=function(){if(this.fc){this.Vd!==this.i.k&&(this.Ik=eb(this.Ik+(this.i.k-this.Vd)));var c=this.i.x,m=this.i.y;if(3===this.mode||4===this.mode){var q=nb(this.i.x,this.i.y,this.fc.x,this.fc.y);if(q>this.Ag||4===this.mode&&
q<this.Ag)m=hb(this.fc.x,this.fc.y,this.i.x,this.i.y),c=this.fc.x+Math.cos(m)*this.Ag,m=this.fc.y+Math.sin(m)*this.Ag}else c=this.fc.x+Math.cos(this.fc.k+this.qn)*this.Ag,m=this.fc.y+Math.sin(this.fc.k+this.qn)*this.Ag;this.Vd=q=eb(this.Ik+(this.fc.k-this.Br));0!==this.mode&&1!==this.mode&&3!==this.mode&&4!==this.mode||this.i.x===c&&this.i.y===m||(this.i.x=c,this.i.y=m,this.i.U());0!==this.mode&&2!==this.mode||this.i.k===q||(this.i.k=q,this.i.U())}};c.j=new function(){};c.u=new function(){};c.I=new function(){}})();
function rd(c){this.b=c}
(function(){var c=rd.prototype;c.ya=function(c){this.behavior=c;this.b=c.b};c.ya.prototype.T=function(){};c.ka=function(c,h){this.type=c;this.behavior=c.behavior;this.i=h;this.b=c.b;this.mode=0};c=c.ka.prototype;c.T=function(){this.mode=this.O[0]};c.Xa=function(){};c.nl=function(){this.i.wa();var c=this.i.Ua,h=this.i.n.sb,p=!1;0===this.mode?(0>this.i.x&&(this.i.x=0,p=!0),0>this.i.y&&(this.i.y=0,p=!0),this.i.x>h.width&&(this.i.x=h.width,p=!0),this.i.y>h.height&&(this.i.y=h.height,p=!0)):(0>c.left&&
(this.i.x-=c.left,p=!0),0>c.top&&(this.i.y-=c.top,p=!0),c.right>h.width&&(this.i.x-=c.right-h.width,p=!0),c.bottom>h.height&&(this.i.y-=c.bottom-h.height,p=!0));p&&this.i.U()}})();function sd(c){this.b=c}
(function(){var c=sd.prototype;c.ya=function(c){this.behavior=c;this.b=c.b};c.ya.prototype.T=function(){};c.ka=function(c,h){this.type=c;this.behavior=c.behavior;this.i=h;this.b=c.b};c=c.ka.prototype;c.T=function(){};c.Xa=function(){this.i.wa();var c=this.i.Ua,h=this.i.n.sb;(0>c.right||0>c.bottom||c.left>h.width||c.top>h.height)&&this.b.Ze(this.i)}})();
(function(){function c(a,b){return(b-a.eD)*a.rr}function m(a,b){return(a.fD-b)*a.rr}function h(a,b,c,d,e,f){var g;g=a.pe+b.pe;var h=a.qa,k=c.x*c.x*h;a=-c.x*c.y*h;c=g+c.y*c.y*h;g+=k;h=b.qa;b=d.x*d.x*h;k=-d.x*d.y*h;c+=d.y*d.y*h;d=0+a+k;a=0+a+k;g+=b;b=c*g-d*a;Ba(0!==b,"Unsolvable constraint.");b=1/b;e.x=g*b;e.y=-d*b;f.x=-a*b;f.y=c*b}function p(a,b,c,d,e){a=q(a,c,e)+q(b,d,e);Ba(0!==a,"Unsolvable collision or constraint.");return a}function q(a,b,c){b=oa(b,c);return a.pe+a.qa*b*b}function r(a,b,c,d){a.pj+=
b*a.pe;a.qj+=c*a.pe;a.Kg+=a.qa*(d.x*c-d.y*b)}function l(b,c,d,e,f,g){a(b,-f,-g,d);a(c,f,g,e)}function a(a,b,c,d){a.Xb+=b*a.pe;a.Yb+=c*a.pe;a.B+=a.qa*(d.x*c-d.y*b)}function e(a,b,c,d,e){return(b.Xb+-d.y*b.B-(a.Xb+-c.y*a.B))*e.x+(b.Yb+d.x*b.B-(a.Yb+c.x*a.B))*e.y}function b(a,b,c,d){return new K(b.Xb+-d.y*b.B-(a.Xb+-c.y*a.B),b.Yb+d.x*b.B-(a.Yb+c.x*a.B))}function d(a){var b=a.body;a.update(b.za,b.ib)}function f(a,b){var c=vd;if(a.Ia<=b.Ja&&b.Ia<=a.Ja&&a.Da<=b.Ea&&b.Da<=a.Ea&&a.body!==b.body&&(!a.group||
a.group!==b.group)&&a.P&b.P){var d=c.cu(a.Aj,b.Aj),e=a.sv||b.sv;if(!e||d!==wd){if(a.gf>b.gf){var f=a;a=b;b=f}f=Bd(a,b);if(0!==f.length){var g=ha(a.nb,b.nb),h=c.Fe[g];h||(h=c.Fe[g]=new A(a,b));h.update(f,d,a,b);"ignore"!==h.state&&d.An(h,c)&&!e?c.Xh.push(h):(h.Vc=null,"ignore"!==h.state&&(h.state="normal"));h.Fb=c.Fb}}}}function k(a,b){if(!b.Pa()){var c=b?b.wg:null;if(null==c){b.wg=a;b!==a&&(b.Yd=a.Yd,a.Yd=b);for(c=b.Og;c;c=c.next(b))k(a,b==c.kb?c.ke:c.kb);for(c=b.He;c;c=c.next(b))k(a,b==c.C?c.L:c.C)}else Ba(c===
a,"Internal Error: Inconsistency detected in the contact graph.")}}function g(a){Q(!a.Xc,"This addition/removal cannot be done safely during a call to cpSpaceStep() \r\n or during a query. Put these calls into a post-step callback.")}function t(a,b,c,d,e){for(var f=oa(b.we,b.rc),g=oa(b.we,b.ed),h=aa(b.we,e),k=c.Ye,l=0;l<k.length;l+=2){var m=k[l],p=k[l+1];if(m*h.x+p*h.y<R(b.we,b.rc)*e+b.ua){var n=b.we.x*p-b.we.y*m;f>=n&&n>=g&&a.push(new S(new K(m,p),h,d,ha(c.nb,l)))}}}function N(a,b,c){var d=R(b,a.rc)-
a.ua;a=R(b,a.ed)-a.ua;return ca(d,a)-c}function O(a,b,c,d){for(var e=[],f=a.Ye,g=0;g<f.length;g+=2){var h=f[g],k=f[g+1];b.Rl(h,k)&&e.push(new S(new K(h,k),c,d,ha(a.nb,g>>1)))}f=b.Ye;for(g=0;g<f.length;g+=2)h=f[g],k=f[g+1],a.Rl(h,k)&&e.push(new S(new K(h,k),c,d,ha(b.nb,g>>1)));if(!e.length){e=[];f=a.Ye;for(g=0;g<f.length;g+=2)h=f[g],k=f[g+1],b.Ks(h,k,ma(c))&&e.push(new S(new K(h,k),c,d,ha(a.nb,g)));f=b.Ye;for(g=0;g<f.length;g+=2)h=f[g],k=f[g+1],a.Ks(h,k,c)&&e.push(new S(new K(h,k),c,d,ha(b.nb,g)))}return a=
e}function n(a,b){var c=0,d=a.ro(b[0].K,b[0].Ac);if(0<d)return-1;for(var e=1;e<b.length;e++){var f=a.ro(b[e].K,b[e].Ac);if(0<f)return-1;f>d&&(d=f,c=e)}ic=d;return c}function u(a,b,c,d){d=c+d;b=Z(b,a);var e=Za(b);if(!(e>=d*d))return e=Math.sqrt(e),new S(J(a,aa(b,.5+(c-.5*d)/(e?e:Infinity))),e?aa(b,1/e):new K(1,0),e-d,0)}function S(a,b,c,d){this.za=a;this.K=b;this.Fj=c;this.aa=this.da=qa;this.Pb=this.mg=this.jk=this.Xd=this.sr=this.ws=this.Va=0;this.hash=d;Cd++}function I(a,b,c){b?b.kb===a?b.ij=c:b.kj=
c:a.Og=c;c&&(c.kb===a?c.jj=b:c.lj=b)}function A(a,b){this.mj=this.dg=0;this.Tv=qa;this.C=a;this.kb=a.body;this.L=b;this.ke=b.body;this.Vc=this.kj=this.lj=this.ij=this.jj=null;this.Fb=0;this.Np=null;this.Oh=!1;this.state="first coll"}function E(a,b){!a.Zj&&10>=b&&(E(a.Zb,b+1),E(a.Nc,b+1));for(var c="",d=0;d<b;d++)c+=" ";console.log(c+a.Da+" "+a.Ea)}function X(a,b){return a.Ia<=b.Ja&&b.Ia<=a.Ja&&a.Da<=b.Ea&&b.Da<=a.Ea}function w(a,b,c){if(b==a)return null;var d=b.parent;if(d==a)return b=a.Ru(b),b.parent=
a.parent,a.Fh(c),b;d.parent.replaceChild(d,d.Ru(b),c);return a}function C(a,b,c,d,e){if(a.Zj)return e(a.Y);var f=V(a.Zb,b,c),g=V(a.Nc,b,c);f<g?(f<d&&(d=ca(d,C(a.Zb,b,c,d,e))),g<d&&(d=ca(d,C(a.Nc,b,c,d,e)))):(g<d&&(d=ca(d,C(a.Nc,b,c,d,e))),f<d&&(d=ca(d,C(a.Zb,b,c,d,e))));return d}function V(a,b,c){var d=1/(c.x-b.x),e=(a.Ia-b.x)*d,f=(a.Ja-b.x)*d,d=ca(e,f),e=ba(e,f),f=1/(c.y-b.y);c=(a.Da-b.y)*f;b=(a.Ea-b.y)*f;a=ca(c,b);b=ba(c,b);return a<=e&&d<=b&&(d=ba(d,a),0<=ca(e,b)&&1>=d)?ba(d,0):Infinity}function W(a,
b,c){a.Ct(b)&&(a.Zj?c(a.Y):(W(a.Zb,b,c),W(a.Nc,b,c)))}function la(a,b,c){if(null==a)return b;if(a.Zj)return c.ZB(b,a);var d=a.Nc.Po()+T(a.Zb,b),e=a.Zb.Po()+T(a.Nc,b);d===e&&(d=ga(a.Zb,b),e=ga(a.Nc,b));e<d?a.lr(la(a.Nc,b,c)):a.kr(la(a.Zb,b,c));a.Ia=ca(a.Ia,b.Ia);a.Da=ca(a.Da,b.Da);a.Ja=ba(a.Ja,b.Ja);a.Ea=ba(a.Ea,b.Ea);return a}function ga(a,b){return Math.abs(a.Ia+a.Ja-b.Ia-b.Ja)+Math.abs(a.Da+a.Ea-b.Da-b.Ea)}function T(a,b){return(ba(a.Ja,b.Ja)-ca(a.Ia,b.Ia))*(ba(a.Ea,b.Ea)-ca(a.Da,b.Da))}function G(a,
b,c){var d=a.yg,e=b.yg;c=c.$B(a,d,b,e);a.yg=b.yg=c;d&&(d.pg===a?d.Dh=c:d.Rk=c);e&&(e.pg===b?e.Dh=c:e.Rk=c)}function sa(a,b,c){c&&(c.pg===b?c.Dh=a:c.Rk=a);a?a.pg===b?a.Jk=c:a.Kk=c:b.yg=c}function ta(a,b,c,d){this.Dh=null;this.pg=a;this.Jk=b;this.Rk=null;this.qq=c;this.Kk=d}function B(a,b){this.Y=b;a.xp(b,this);this.parent=null;this.Fb=1;this.yg=null;Dd++}function x(a,b,c){this.Y=null;this.Ia=ca(b.Ia,c.Ia);this.Da=ca(b.Da,c.Da);this.Ja=ba(b.Ja,c.Ja);this.Ea=ba(b.Ea,c.Ea);this.parent=null;this.kr(b);
this.lr(c)}function v(a,b,c){if(a===c)return a.next(b);a.C===b?a.an=v(a.an,b,c):a.bn=v(a.bn,b,c);return a}function Y(a,b){this.K=a;this.Ac=b}function D(a){for(var b=a.length,c=0;c<b;c+=2){var d=a[(c+2)%b],e=a[(c+3)%b];if(0<(d-a[c])*(a[(c+5)%b]-e)-(e-a[c+1])*(a[(c+4)%b]-d))return!1}return!0}function H(a,b,c,d,e){d=Z(d,b);e=Z(e,b);b=R(d,d)-2*R(d,e)+R(e,e);var f=-2*R(d,d)+2*R(d,e);c=R(d,d)-c*c;c=f*f-4*b*c;if(0<=c&&(b=(-f-Math.sqrt(c))/(2*b),0<=b&&1>=b))return new Lb(a,b,kb(ld(d,e,b)))}function M(a,b,
c){return ca(ba(a,b),c)}function Aa(a,b,c,d,e,f,g,h){if(0>d)return 0;if(0==d)return b[2*h]=f.x,b[2*h+1]=f.y,1;var k=P(b,c,d,e,f,a),l=new K(b[2*c],b[2*c+1]);e=Aa(a,b,c+1,k-1,e,l,f,h);l=h+e++;b[2*l]=f.x;b[2*l+1]=f.y;d=P(b,c+k,d-k,f,g,a);l=new K(b[2*(c+k)],b[2*(c+k)+1]);return e+Aa(a,b,c+k+1,d-1,f,l,g,h+e)}function P(a,b,c,d,e,f){if(0===c)return 0;var g=0,h=b;e=Z(e,d);f=f*Ya(e);var k=b;for(c=b+c-1;k<=c;){var l=new K(a[2*k],a[2*k+1]),l=oa(e,Z(l,d));l>f?(l>g&&(g=l,h=k),k++):(ka(a,k,c),c--)}h!=b&&ka(a,
b,h);return k-b}function ka(a,b,c){var d=a[2*b];a[2*b]=a[2*c];a[2*c]=d;d=a[2*b+1];a[2*b+1]=a[2*c+1];a[2*c+1]=d}function da(a,b){for(var c=0;c<a.length;c++)if(a[c]===b){a[c]=a[a.length-1];a.length--;break}}function ha(a,b){return a<b?a+" "+b:b+" "+a}function ob(a,b){return a>b?a:b}function pb(a,b){return a<b?a:b}function Ba(a,b){!a&&console&&console.warn&&(console.warn("ASSERTION FAILED: "+b),console.trace&&console.trace())}function Q(a,b){if(!a)throw Error("Assertion failed: "+b);}Object.create=Object.create||
function(a){function b(){}b.prototype=a;return new b};var z;"undefined"===typeof exports?(z={},"object"===typeof window&&(window.cp=z)):z=exports;var ca,ba;"object"===typeof window&&-1<window.navigator.userAgent.indexOf("Firefox")?(ca=Math.min,ba=Math.max):(ca=pb,ba=ob);z.wu=function(a,b){var c=cp.D(0,0);return a*(.5*(b*b+0)+Za(c))};z.Wy=function(a){return Math.PI*Math.abs(a*a-0)};z.xu=function(a,b,c){var d=aa(J(b,c),.5);return a*(od(c,b)/12+Za(d))};z.Xy=function(a,b,c){return c*(Math.PI*c+2*nd(a,
b))};z.zq=function(a,b,c){for(var d=0,e=0,f=b.length,g=0;g<f;g+=2)var h=b[g]+c.x,k=b[g+1]+c.y,l=b[(g+2)%f]+c.x,m=b[(g+3)%f]+c.y,p=l*k-m*h,d=d+p*(h*h+k*k+(h*l+k*m)+(l*l+m*m)),e=e+p;return a*d/(6*e)};z.No=function(a){for(var b=0,c=0,d=a.length;c<d;c+=2)b+=oa(new K(a[c],a[c+1]),new K(a[(c+2)%d],a[(c+3)%d]));return-b/2};z.Cs=function(a){for(var b=0,c=new K(0,0),d=0,e=a.length;d<e;d+=2)var f=new K(a[d],a[d+1]),g=new K(a[(d+2)%e],a[(d+3)%e]),h=oa(f,g),b=b+h,c=J(c,aa(J(f,g),h));return aa(c,1/(3*b))};z.BF=
function(a){for(var b=z.Cs(a),c=0;c<a.length;c+=2)a[c]-=b.x,a[c+1]-=b.y};z.vu=function(a,b,c){return a*(b*b+c*c)/12};z.xF=function(a,b){var c=b.ua-b.nk,d=b.eb-b.L,e=aa([b.nk+b.ua,b.L+b.eb],.5);return z.vu(a,c,d)+a*Za(e)};var qb=z.wF=function(a){var b=0,c=0,d,e,f,g;d=f=a[0];e=g=a[1];for(var h=a.length>>1,k=1;k<h;k++){var l=a[2*k],m=a[2*k+1];if(l<d||l==d&&m<e)d=l,e=m,b=k;else if(l>f||l==f&&m>g)f=l,g=m,c=k}return[b,c]};z.rF=function(a,b,c){if(b)for(var d=0;d<a.length;d++)b[d]=a[d];else b=a;var e=qb(a),
d=e[0],e=e[1];if(d==e)return b.length=2,b;ka(b,0,d);ka(b,1,0==e?d:e);d=new K(b[0],b[1]);e=new K(b[2],b[3]);a=Aa(c,b,2,(a.length>>1)-2,d,e,d,1)+1;b.length=2*a;Ba(D(b),"Internal error: cpConvexHull() and cpPolyValidate() did not agree.Please report this error with as much info as you can.");return b};var K=z.mF=function(a,b){this.x=a;this.y=b};z.D=function(a,b){return new K(a,b)};var qa=z.HF=new K(0,0),R=z.D.Gj=function(a,b){return a.x*b.x+a.y*b.y},Ya=z.D.uE=function(a){return Math.sqrt(R(a,a))};z.D.yE=
function(a,b){return Math.sqrt(a*a+b*b)};z.D.lE=function(a,b){return a.x===b.x&&a.y===b.y};var J=z.D.add=function(a,b){return new K(a.x+b.x,a.y+b.y)};K.prototype.add=function(a){this.x+=a.x;this.y+=a.y;return this};var Z=z.D.sub=function(a,b){return new K(a.x-b.x,a.y-b.y)};K.prototype.sub=function(a){this.x-=a.x;this.y-=a.y;return this};var ma=z.D.ik=function(a){return new K(-a.x,-a.y)};K.prototype.ik=function(){this.x=-this.x;this.y=-this.y;return this};var aa=z.D.zu=function(a,b){return new K(a.x*
b,a.y*b)};K.prototype.zu=function(a){this.x*=a;this.y*=a;return this};var oa=z.D.uz=function(a,b){return a.x*b.y-a.y*b.x},Ka=z.D.QE=function(a){return new K(-a.y,a.x)};z.D.UE=function(a){return new K(a.y,-a.x)};var xd=z.D.Dn=function(a,b){return aa(b,R(a,b)/Za(b))};K.prototype.Dn=function(a){this.zu(R(this,a)/Za(a));return this};var ua=z.D.rotate=function(a,b){return new K(a.x*b.x-a.y*b.y,a.x*b.y+a.y*b.x)};K.prototype.rotate=function(a){this.x=this.x*a.x-this.y*a.y;this.y=this.x*a.y+this.y*a.x;return this};
var yd=z.D.hF=function(a,b){return new K(a.x*b.x+a.y*b.y,a.y*b.x-a.x*b.y)},Za=z.D.AE=function(a){return R(a,a)};z.D.FE=function(a,b){return a*a+b*b};var ld=z.D.Yt=function(a,b,c){return J(aa(a,1-c),aa(b,c))},kb=z.D.normalize=function(a){return aa(a,1/Ya(a))},md=z.D.KE=function(a){return 0===a.x&&0===a.y?qa:kb(a)},rb=z.D.Ug=function(a,b){return R(a,a)>b*b?aa(kb(a),b):a};z.D.GE=function(a,b,c){return J(a,rb(Z(b,a),c))};var nd=z.D.Fj=function(a,b){return Ya(Z(a,b))},od=z.D.AF=function(a,b){return Za(Z(a,
b))};z.D.HE=function(a,b,c){return od(a,b)<c*c};var zd=z.D.VE=function(a,b,c){var d=Math.acos(R(a,b));if(d){var e=1/Math.sin(d);return J(aa(a,Math.sin((1-c)*d)*e),aa(b,Math.sin(c*d)*e))}return a};z.D.bF=function(a,b,c){var d=Math.acos(R(a,b));return zd(a,b,ca(c,d)/d)};z.D.rE=function(a){return new K(Math.cos(a),Math.sin(a))};z.D.QB=function(a){return Math.atan2(a.y,a.x)};z.D.vE=function(a){return"("+a.x.toFixed(3)+", "+a.y.toFixed(3)+")"};var Ad=0,Jb=z.fE=function(a,b,c,d){this.nk=a;this.L=b;this.ua=
c;this.eb=d;Ad++};z.pF=function(a,b,c,d){return new Jb(a,b,c,d)};var pd=0;z.RE=0;var Ed=z.eE=-1;z.CF=function(){pd=0};var Sa=z.iF=function(a){this.body=a;this.Ia=this.Da=this.Ja=this.Ea=0;this.nb=pd++;this.sv=!1;this.mj=this.dg=0;this.Sv=qa;this.group=this.Aj=0;this.P=Ed;this.G=null;this.Za=!1;this.gf=this.gf};Sa.prototype.Pn=function(a){this.dg=a};Sa.prototype.Zk=function(a){this.body.rb();this.mj=a};Sa.prototype.Hb=function(){return this.body&&-1!==this.body.Kh.indexOf(this)};Sa.prototype.update=
function(a,b){Q(!isNaN(b.x),"Rotation is NaN");Q(!isNaN(a.x),"Position is NaN");this.Ro(a,b)};Sa.prototype.xp=function(){return new Jb(this.Ia,this.Da,this.Ja,this.Ea)};z.SE=function(a,b,c){this.shape=a;this.za=b;this.Ac=c};var Lb=z.Qx=function(a,b,c){this.shape=a;this.eb=b;this.K=c};Lb.prototype.vB=function(a,b){return nd(a,b)*this.eb};var sb=z.Bw=function(a,b,c){this.zj=this.ue=c;this.ua=b;this.type="circle";Sa.call(this,a)};sb.prototype=Object.create(Sa.prototype);sb.prototype.Ro=function(a,b){var c=
this.ue=ua(this.zj,b).add(a),d=this.ua;this.Ia=c.x-d;this.Da=c.y-d;this.Ja=c.x+d;this.Ea=c.y+d};sb.prototype.Dg=function(a,b){return H(this,this.ue,this.ua,a,b)};var tb=z.Rx=function(a,b,c,d){this.C=b;this.L=c;this.K=Ka(kb(Z(c,b)));this.rc=this.ed=this.we=null;this.ua=d;this.$y=this.Jy=qa;this.type="segment";Sa.call(this,a)};tb.prototype=Object.create(Sa.prototype);tb.prototype.Ro=function(a,b){this.rc=J(a,ua(this.C,b));this.ed=J(a,ua(this.L,b));this.we=ua(this.K,b);var c,d,e,f;this.rc.x<this.ed.x?
(c=this.rc.x,d=this.ed.x):(c=this.ed.x,d=this.rc.x);this.rc.y<this.ed.y?(e=this.rc.y,f=this.ed.y):(e=this.ed.y,f=this.rc.y);var g=this.ua;this.Ia=c-g;this.Da=e-g;this.Ja=d+g;this.Ea=f+g};tb.prototype.Dg=function(a,b){var c=this.we,d=R(Z(this.rc,a),c),e=this.ua,f=0<d?ma(c):c,g=Z(aa(f,e),a),h=J(this.rc,g),k=J(this.ed,g),g=Z(b,a);if(0>=oa(g,h)*oa(g,k)){if(e=d+(0<d?-e:e),d=-e,c=R(g,c)-e,0>d*c)return new Lb(this,d/(d-c),f)}else if(0!==e)return f=H(this,this.rc,this.ua,a,b),c=H(this,this.ed,this.ua,a,b),
f?c&&c.eb<f.eb?c:f:c};var Pa=z.Fo=function(a,b,c){this.DD(b,c);this.type="poly";Sa.call(this,a)};Pa.prototype=Object.create(Sa.prototype);Y.prototype.compare=function(a){return R(this.K,a)-this.Ac};Pa.prototype.DD=function(a,b){Q(4<=a.length,"Polygons require some verts");Q("number"===typeof a[0],"Polygon verticies should be specified in a flattened list (eg [x1,y1,x2,y2,x3,y3,...])");Q(D(a),"Polygon is concave or has a reversed winding. Consider using cpConvexHull()");var c=a.length,d=c>>1;this.tj=
Array(c);this.Ye=Array(c);this.cv=Array(d);this.te=Array(d);for(d=0;d<c;d+=2){var e=a[d]+b.x,f=a[d+1]+b.y,g=kb(Ka(new K(a[(d+2)%c]+b.x-e,a[(d+3)%c]+b.y-f)));this.tj[d]=e;this.tj[d+1]=f;this.cv[d>>1]=new Y(g,g.x*e+g.y*f);this.te[d>>1]=new Y(new K(0,0),0)}};z.zw=function(a,b,c){b=b/2;c=c/2;return Fd(a,new Jb(-b,-c,b,c))};var Fd=z.kE=function(a,b){return new Pa(a,[b.nk,b.L,b.nk,b.eb,b.ua,b.eb,b.ua,b.L],qa)};Pa.prototype.QD=function(a,b){for(var c=this.tj,d=this.Ye,e=Infinity,f=-Infinity,g=Infinity,h=
-Infinity,k=0;k<c.length;k+=2){var l=c[k],m=c[k+1],p=a.x+l*b.x-m*b.y,l=a.y+l*b.y+m*b.x;d[k]=p;d[k+1]=l;e=ca(e,p);f=ba(f,p);g=ca(g,l);h=ba(h,l)}this.Ia=e;this.Da=g;this.Ja=f;this.Ea=h};Pa.prototype.PD=function(a,b){for(var c=this.cv,d=this.te,e=0;e<c.length;e++){var f=ua(c[e].K,b);d[e].K=f;d[e].Ac=R(a,f)+c[e].Ac}};Pa.prototype.Ro=function(a,b){this.PD(a,b);this.QD(a,b)};Pa.prototype.Dg=function(a,b){for(var c=this.te,d=this.Ye,e=c.length,f=2*e,g=0;g<e;g++){var h=c[g].K,k=R(a,h);if(!(c[g].Ac>k)){var l=
R(b,h),k=(c[g].Ac-k)/(l-k);if(!(0>k||1<k)){var l=ld(a,b,k),l=-oa(h,l),m=-(h.x*d[(2*g+3)%f]-h.y*d[(2*g+2)%f]);if(-(h.x*d[2*g+1]-h.y*d[2*g])<=l&&l<=m)return new Lb(this,k,h)}}}};Pa.prototype.ro=function(a,b){for(var c=this.Ye,d=a.x*c[0]+a.y*c[1],e=2;e<c.length;e+=2)d=ca(d,a.x*c[e]+a.y*c[e+1]);return d-b};Pa.prototype.Rl=function(a,b){for(var c=this.te,d=0;d<c.length;d++){var e=c[d].K;if(0<e.x*a+e.y*b-c[d].Ac)return!1}return!0};Pa.prototype.Ks=function(a,b,c){for(var d=this.te,e=0;e<d.length;e++){var f=
d[e].K;if(!(0>R(f,c))&&0<f.x*a+f.y*b-d[e].Ac)return!1}return!0};var fa=z.Ur=function(a,b){this.za=new K(0,0);this.Xb=this.Yb=0;this.ii=new K(0,0);this.eb=this.B=0;this.Pr=this.po=Infinity;this.Kg=this.pj=this.qj=0;this.G=null;this.Za=!1;this.Kh=[];this.Yd=this.wg=this.He=this.Og=null;this.Re=0;this.aj(a);this.Hh(b);this.ib=new K(0,0);this.$i(0)};if("undefined"!==typeof DEBUG&&DEBUG){var jc=function(a,b){Q(a.x==a.x&&a.y==a.y,b)},kc=function(a,b){Q(Infinity!==Math.abs(a.x)&&Infinity!==Math.abs(a.y),
b)};fa.prototype.Yk=function(){Q(this.Ki===this.Ki&&this.pe===this.pe,"Body's mass is invalid.");Q(this.ti===this.ti&&this.qa===this.qa,"Body's moment is invalid.");var a=this.za;jc(a,"Body's position is invalid.");kc(a,"Body's position is invalid.");a=this.ii;jc(a,"Body's force is invalid.");kc(a,"Body's force is invalid.");Q(this.Xb===this.Xb&&Infinity!==Math.abs(this.Xb),"Body's velocity is invalid.");Q(this.Yb===this.Yb&&Infinity!==Math.abs(this.Yb),"Body's velocity is invalid.");Q(this.C===this.C&&
Infinity!==Math.abs(this.C),"Body's angle is invalid.");Q(this.B===this.B&&Infinity!==Math.abs(this.B),"Body's angular velocity is invalid.");Q(this.eb===this.eb&&Infinity!==Math.abs(this.eb),"Body's torque is invalid.");a=this.ib;jc(a,"Body's rotation vector is invalid.");kc(a,"Body's rotation vector is invalid.");Q(this.po===this.po,"Body's velocity limit is invalid.");Q(this.Pr===this.Pr,"Body's angular velocity limit is invalid.")}}else fa.prototype.Yk=function(){};fa.prototype.cb=function(){return z.D.QB(this.ib)};
fa.prototype.Ne=function(){return null!==this.wg};fa.prototype.Pc=function(){return Infinity===this.Re};fa.prototype.Pa=function(){return null===this.G};fa.prototype.aj=function(a){Q(0<a,"Mass must be positive and non-zero.");this.rb();this.Ki=a;this.pe=1/a};fa.prototype.Hh=function(a){Q(0<a,"Moment of Inertia must be positive and non-zero.");this.rb();this.ti=a;this.qa=1/a};fa.prototype.bf=function(a){this.Kh.push(a)};fa.prototype.Df=function(a){da(this.Kh,a)};fa.prototype.Xi=function(a){this.He=
v(this.He,this,a)};fa.prototype.Av=function(a){this.rb();this.Yk();a===qa&&(a=z.D(0,0));this.za=a};fa.prototype.BD=function(a){this.rb();this.Xb=a.x;this.Yb=a.y};fa.prototype.uv=function(a){Q(!isNaN(a),"Internal Error: Attempting to set body's angle to NaN");this.C=a;this.ib.x=Math.cos(a);this.ib.y=Math.sin(a)};fa.prototype.$i=function(a){this.rb();this.Yk();this.uv(a)};fa.prototype.ZD=function(a,b,c){var d=this.Xb*b+(a.x+this.ii.x*this.pe)*c;a=this.Yb*b+(a.y+this.ii.y*this.pe)*c;var e=this.po,f=
d*d+a*a,e=f>e*e?e/Math.sqrt(f):1;this.Xb=d*e;this.Yb=a*e;d=this.Pr;this.B=M(this.B*b+this.eb*this.qa*c,-d,d);this.Yk()};fa.prototype.DC=function(a){this.za.x+=(this.Xb+this.pj)*a;this.za.y+=(this.Yb+this.qj)*a;this.uv(this.C+(this.B+this.Kg)*a);this.Kg=this.pj=this.qj=0;this.Yk()};fa.prototype.dD=function(){this.rb();this.ii=new K(0,0);this.eb=0};fa.prototype.Sy=function(a,b){this.rb();this.ii=J(this.ii,a);this.eb+=oa(b,a)};fa.prototype.Uc=function(b,c){this.rb();a(this,b.x,b.y,c)};fa.prototype.cm=
function(a){for(var b=this.He;b;){var c=b.next(this);a(b);b=c}};fa.prototype.au=function(a){return J(this.za,ua(a,this.ib))};fa.prototype.wo=function(a){return yd(Z(a,this.za),this.ib)};fa.prototype.RB=function(){var a=this.Xb*this.Xb+this.Yb*this.Yb,b=this.B*this.B;return(a?a*this.Ki:0)+(b?b*this.ti:0)};var lc=z.lF=function(a){if(this.Pv=a){if(a.gi)throw Error("This static index is already associated with a dynamic index.");a.gi=this}};lc.prototype.iz=function(a,b){if(0<a.count){var c=a.PC;this.each(function(a){c(a,
new Jb(a.Ia,a.Da,a.Ja,a.Ea),b)})}};var wa=z.yw=function(a){lc.call(this,a);this.YD=null;this.qg={};this.count=0;this.vn=this.un=this.root=null;this.Fb=0};wa.prototype=Object.create(lc.prototype);var Gd=0;wa.prototype.ZB=function(a,b){var c=this.un;if(c)return this.un=c.parent,c.constructor(this,a,b),c;Gd++;return new x(0,a,b)};var Dd=0;wa.prototype.xp=function(a,b){var c=this.YD;if(c){var d=.1*(a.Ja-a.Ia),e=.1*(a.Ea-a.Da),c=aa(c(a),.1);b.Ia=a.Ia+ca(-d,c.x);b.Da=a.Da+ca(-e,c.y);b.Ja=a.Ja+ba(d,c.x);
b.Ea=a.Ea+ba(e,c.y)}else b.Ia=a.Ia,b.Da=a.Da,b.Ja=a.Ja,b.Ea=a.Ea};wa.prototype.Ip=function(){var a=this.gi;return a&&a.Fb?a.Fb:this.Fb};wa.prototype.Tp=function(){this.gi&&this.gi.Fb?this.gi.Fb++:this.Fb++};var Hd=0;wa.prototype.$B=function(a,b,c,d){var e=this.vn;if(e)return this.vn=e.Dh,e.Dh=null,e.pg=a,e.Jk=b,e.Rk=null,e.qq=c,e.Kk=d,e;Hd++;return new ta(a,b,c,d)};ta.prototype.Fh=function(a){this.Dh=a.vn;a.vn=this};B.prototype.Gs=function(a){var b=this.yg,c;for(this.yg=null;b;)b.pg===this?(c=b.Jk,
sa(b.Rk,b.qq,b.Kk)):(c=b.Kk,sa(b.Dh,b.pg,b.Jk)),b.Fh(a),b=c};x.prototype.Fh=function(a){this.parent=a.un;a.un=this};B.prototype.Fh=function(){};x.prototype.kr=function(a){this.Zb=a;a.parent=this};x.prototype.lr=function(a){this.Nc=a;a.parent=this};B.prototype.Zj=!0;x.prototype.Zj=!1;x.prototype.Ru=function(a){return this.Zb==a?this.Nc:this.Zb};x.prototype.replaceChild=function(a,b,c){Ba(a==this.Zb||a==this.Nc,"Node is not a child of parent.");this.Zb==a?(this.Zb.Fh(c),this.kr(b)):(this.Nc.Fh(c),this.lr(b));
for(a=this;a;a=a.parent)b=a.Zb,c=a.Nc,a.Ia=ca(b.Ia,c.Ia),a.Da=ca(b.Da,c.Da),a.Ja=ba(b.Ja,c.Ja),a.Ea=ba(b.Ea,c.Ea)};x.prototype.Po=B.prototype.Po=function(){return(this.Ja-this.Ia)*(this.Ea-this.Da)};x.prototype.Ct=B.prototype.Ct=function(a){return this.Ia<=a.ua&&a.nk<=this.Ja&&this.Da<=a.eb&&a.L<=this.Ea};B.prototype.vh=function(a,b,c,d){X(a,this)&&(b?G(a,this,c):(this.Fb<a.Fb&&G(this,a,c),d&&d(a.Y,this.Y)))};x.prototype.vh=function(a,b,c,d){X(a,this)&&(this.Zb.vh(a,b,c,d),this.Nc.vh(a,b,c,d))};B.prototype.Hk=
function(a,b,c){if(this.Fb==a.Ip())for(b&&b.vh(this,!1,a,c),b=this;b.parent;b=b.parent)b==b.parent.Zb?b.parent.Nc.vh(this,!0,a,c):b.parent.Zb.vh(this,!1,a,c);else for(a=this.yg;a;)this===a.qq?(c&&c(a.pg.Y,this.Y),a=a.Kk):a=a.Jk};x.prototype.Hk=function(a,b,c){this.Zb.Hk(a,b,c);this.Nc.Hk(a,b,c)};B.prototype.oz=function(a){return this.Ia<=a.Ia&&this.Ja>=a.Ja&&this.Da<=a.Da&&this.Ea>=a.Ea};B.prototype.update=function(a){var b=a.root;return this.oz(this.Y)?!1:(a.xp(this.Y,this),b=w(b,this,a),a.root=
la(b,this,a),this.Gs(a),this.Fb=a.Ip(),!0)};B.prototype.ms=function(a){var b=a.gi;b?(a=b.root)&&a.vh(this,!0,b,null):this.Hk(a,a.Pv.root,null)};wa.prototype.jg=function(a,b){var c=new B(this,a);this.qg[b]=c;this.root=la(this.root,c,this);this.count++;c.Fb=this.Ip();c.ms(this);this.Tp()};wa.prototype.remove=function(a,b){var c=this.qg[b];delete this.qg[b];this.root=w(this.root,c,this);this.count--;c.Gs(this);c.Fh(this)};wa.prototype.contains=function(a,b){return null!=this.qg[b]};wa.prototype.XC=function(a){if(this.root){var b,
c=this.qg;for(b in c)c[b].update(this);c=(b=this.Pv)&&b.root;this.root.Hk(this,c,a);b&&!c&&this.iz(this,b);this.Tp()}};wa.prototype.ov=function(a){if(a=this.qg[a])a.update(this)&&a.ms(this),this.Tp()};wa.prototype.Dg=function(a,b,c,d){this.root&&C(this.root,a,b,c,d)};wa.prototype.PC=function(a,b){this&&this.root&&this instanceof z.yw&&W(this.root,a,b)};wa.prototype.count=function(){return this.count};wa.prototype.each=function(a){for(var b in this.qg)a(this.qg[b].Y)};wa.prototype.log=function(){this.root&&
E(this.root,0)};var Mb=z.mE=function(){this.C=this.L=0};Mb.prototype.An=function(){return!0};Mb.prototype.yn=function(){};A.prototype.OD=function(){for(var a=(1-this.dg)/(1+this.dg),b=0,c=this.Vc,d=0,e=c.length;d<e;d++)var f=c[d],g=f.Pb,h=f.mg,b=b+(a*g*g/f.Xd+h*h/f.sr);return b};A.prototype.wB=function(){this.state="ignore"};A.prototype.ct=function(){return this.Oh?this.L:this.C};A.prototype.et=function(){return this.Oh?this.C:this.L};A.prototype.aq=function(){return"first coll"===this.state};A.prototype.SA=
function(a){a=this.Vc[a].K;return this.Oh?ma(a):a};A.prototype.gw=function(){I(this.kb,this.jj,this.ij);I(this.ke,this.lj,this.kj);this.lj=this.kj=this.jj=this.ij=null};A.prototype.update=function(a,b,c,d){if(this.Vc)for(var e=0;e<this.Vc.length;e++)for(var f=this.Vc[e],g=0;g<a.length;g++){var h=a[g];h.hash===f.hash&&(h.Pb=f.Pb,h.mg=f.mg)}this.Vc=a;this.Np=b;this.Oh=c.Aj!==b.C;this.dg=c.dg*d.dg;this.mj=c.mj*d.mj;this.Tv=Z(c.Sv,d.Sv);this.C=c;this.kb=c.body;this.L=d;this.ke=d.body;"cached"==this.state&&
(this.state="first coll")};A.prototype.Gd=function(a,b,c){for(var d=this.kb,f=this.ke,g=0;g<this.Vc.length;g++){var h=this.Vc[g];h.aa=Z(h.za,d.za);h.da=Z(h.za,f.za);h.Xd=1/p(d,f,h.aa,h.da,h.K);h.sr=1/p(d,f,h.aa,h.da,Ka(h.K));h.Va=-c*ca(0,h.Fj+b)/a;h.jk=0;h.ws=e(d,f,h.aa,h.da,h.K)*this.dg}};A.prototype.Nd=function(a){if(!this.aq())for(var b=this.kb,c=this.ke,d=0;d<this.Vc.length;d++){var e=this.Vc[d],f=e.K.x,g=e.K.y;l(b,c,e.aa,e.da,(f*e.Pb-g*e.mg)*a,(f*e.mg+g*e.Pb)*a)}};var Id=0,Jd=0;A.prototype.Uc=
function(){Id++;for(var a=this.kb,b=this.ke,c=this.Tv,d=this.mj,e=0;e<this.Vc.length;e++){Jd++;var f=this.Vc[e],g=f.Xd,h=f.K,k=f.aa,m=f.da,p=b.Xb-m.y*b.B-(a.Xb-k.y*a.B),n=b.Yb+m.x*b.B-(a.Yb+k.x*a.B),q=p*h.x+n*h.y,t=(p+c.x)*-h.y+(n+c.y)*h.x,n=f.jk;f.jk=ba(n+(f.Va-(h.x*(b.pj-m.y*b.Kg-a.pj+k.y*a.Kg)+h.y*(m.x*b.Kg+b.qj-k.x*a.Kg-a.qj)))*g,0);p=f.Pb;f.Pb=ba(p+-(f.ws+q)*g,0);q=d*f.Pb;g=f.mg;f.mg=M(g+-t*f.sr,-q,q);q=h.x*(f.jk-n);n=h.y*(f.jk-n);r(a,-q,-n,k);r(b,q,n,m);p=f.Pb-p;f=f.mg-g;l(a,b,k,m,h.x*p-h.y*
f,h.x*f+h.y*p)}};A.prototype.next=function(a){return this.kb==a?this.ij:this.kj};var Cd=0,Qa=[],ic=0;sb.prototype.gf=0;tb.prototype.gf=1;Pa.prototype.gf=2;sb.prototype.ep=[function(a,b){var c=u(a.ue,b.ue,a.ua,b.ua);return c?[c]:Qa},function(a,b){var c=b.rc,d=a.ue,e=Z(b.ed,c),f;f=R(e,Z(d,c))/Za(e);f=ba(0,ca(f,1));c=J(c,aa(e,f));return(d=u(d,c,a.ua,b.ua))?(c=d.K,0===f&&0>R(c,b.Jy)||1===f&&0>R(c,b.$y)?Qa:[d]):Qa},function(a,b){for(var c=b.te,d=0,e=R(c[0].K,a.ue)-c[0].Ac-a.ua,f=0;f<c.length;f++){var g=
R(c[f].K,a.ue)-c[f].Ac-a.ua;if(0<g)return Qa;g>e&&(e=g,d=f)}var c=c[d].K,h=b.Ye,k=h.length,l=d<<1,d=h[l],f=h[l+1],g=h[(l+2)%k],h=h[(l+3)%k],k=c.x*f-c.y*d,l=c.x*h-c.y*g,m=oa(c,a.ue);return m<l?(e=u(a.ue,new K(g,h),a.ua,0))?[e]:Qa:m<k?[new S(Z(a.ue,aa(c,a.ua+e/2)),ma(c),e,0)]:(e=u(a.ue,new K(d,f),a.ua,0))?[e]:Qa}];tb.prototype.ep=[null,function(){return Qa},function(a,b){var c=[],d=b.te,e=d.length,f=R(a.we,a.rc),g=b.ro(a.we,f)-a.ua,f=b.ro(ma(a.we),-f)-a.ua;if(0<f||0<g)return Qa;var h=0,k=N(a,d[0].K,
d[0].Ac);if(0<k)return Qa;for(var l=0;l<e;l++){var m=N(a,d[l].K,d[l].Ac);if(0<m)return Qa;m>k&&(k=m,h=l)}d=ma(d[h].K);l=J(a.rc,aa(d,a.ua));m=J(a.ed,aa(d,a.ua));b.Rl(l.x,l.y)&&c.push(new S(l,d,k,ha(a.nb,0)));b.Rl(m.x,m.y)&&c.push(new S(m,d,k,ha(a.nb,1)));if(g>=k||f>=k)g>f?t(c,a,b,g,1):t(c,a,b,f,-1);if(0===c.length){g=2*h;f=b.Ye;k=new K(f[g],f[g+1]);if((h=u(a.rc,k,a.ua,0))||(h=u(a.ed,k,a.ua,0)))return[h];e=2*e;e=new K(f[(g+2)%e],f[(g+3)%e]);if((h=u(a.rc,e,a.ua,0))||(h=u(a.ed,e,a.ua,0)))return[h]}return c}];
Pa.prototype.ep=[null,null,function(a,b){var c=n(b,a.te);if(-1==c)return Qa;var d=ic,e=n(a,b.te);if(-1==e)return Qa;var f=ic;return d>f?O(a,b,a.te[c].K,d):O(a,b,ma(b.te[e].K),f)}];var Bd=z.Hs=function(a,b){Q(a.gf<=b.gf,"Collided shapes must be sorted by type");return a.ep[b.gf](a,b)},wd=new Mb,ea=z.wy=function(){this.Ms=this.Fb=0;this.Wf=[];this.cr=[];this.or=[];this.Mh=new wa(null);this.Qf=new wa(this.Mh);this.Xh=[];this.Fe={};this.Vg=[];this.Xc=0;this.dp={};this.wz=wd;this.Rq=[];this.Bc=[];this.PB=
10;this.tm=qa;this.ei=1;this.Qp=0;this.el=Infinity;this.lz=.1;this.jz=Math.pow(.9,60);this.kz=3;this.Ov=new fa(Infinity,Infinity);this.Ov.Re=Infinity;this.Hs=this.YB()};ea.prototype.Ky=function(a,b){g(this);this.aD();var c=new Mb;c.C=0;c.L=0;a&&(c.An=a);b&&(c.yn=b);this.dp[ha(0,0)]=c};ea.prototype.aD=function(){g(this);delete this.dp[ha(0,0)]};ea.prototype.cu=function(a,b){return this.dp[ha(a,b)]||this.wz};ea.prototype.bf=function(a){var b=a.body;if(b.Pc())return this.os(a);if(this.Xc)return a.Za||
(a.Za=!0,this.Bc.push(this.bf),this.Bc.push(a)),a;a.Za=!0;Q(!a.G,"This shape is already added to a space and cannot be added to another.");g(this);b.rb();b.bf(a);a.update(b.za,b.ib);this.Qf.jg(a,a.nb);a.G=this;return a};ea.prototype.os=function(a){if(this.Xc)return a.Za||(a.Za=!0,this.Bc.push(this.os),this.Bc.push(a)),a;a.Za=!0;Q(!a.G,"This shape is already added to a space and cannot be added to another.");g(this);var b=a.body;b.bf(a);a.update(b.za,b.ib);this.Mh.jg(a,a.nb);a.G=this;return a};ea.prototype.Bl=
function(a){Q(!a.Pc(),"Static bodies cannot be added to a space as they are not meant to be simulated.");if(this.Xc)return a.Za||(a.Za=!0,this.Bc.push(this.Bl),this.Bc.push(a)),a;a.Za=!0;Q(!a.G,"This body is already added to a space and cannot be added to another.");g(this);this.Wf.push(a);a.G=this;return a};ea.prototype.Jo=function(a){if(this.Xc)return a.Za||(a.Za=!0,this.Bc.push(this.Jo),this.Bc.push(a)),a;a.Za=!0;Q(!a.G,"This shape is already added to a space and cannot be added to another.");
g(this);var b=a.C,c=a.L;b.rb();c.rb();this.Vg.push(a);a.an=b.He;b.He=a;a.bn=c.He;c.He=a;a.G=this;return a};ea.prototype.Ys=function(a,b){for(var c in this.Fe){var d=this.Fe[c];if(a===d.kb&&(b===d.C||null===b)||a===d.ke&&(b===d.L||null===b))d.gw(),da(this.Xh,d),delete this.Fe[c]}};ea.prototype.Df=function(a){var b=a.body;b.Pc()?this.pv(a):this.Xc?a.Za&&(a.Za=!1,this.Bc.push(this.Df),this.Bc.push(a)):(a.Za=!1,Q(this.Js(a),"Cannot remove a shape that was not added to the space. (Removed twice maybe?)"),
g(this),b.rb(),b.Df(a),this.Ys(b,a),this.Qf.remove(a,a.nb),a.G=null)};ea.prototype.pv=function(a){if(this.Xc)a.Za&&(a.Za=!1,this.Bc.push(this.pv),this.Bc.push(a));else{a.Za=!1;Q(this.Js(a),"Cannot remove a static or sleeping shape that was not added to the space. (Removed twice maybe?)");g(this);var b=a.body;b.Pc()&&b.Io(a);b.Df(a);this.Ys(b,a);this.Mh.remove(a,a.nb);a.G=null}};ea.prototype.Gn=function(a){this.Xc?a.Za&&(a.Za=!1,this.Bc.push(this.Gn),this.Bc.push(a)):(a.Za=!1,Q(this.mz(a),"Cannot remove a body that was not added to the space. (Removed twice maybe?)"),
g(this),a.rb(),da(this.Wf,a),a.G=null)};ea.prototype.Xi=function(a){this.Xc?a.Za&&(a.Za=!1,this.Bc.push(this.Xi),this.Bc.push(a)):(a.Za=!1,Q(this.nz(a),"Cannot remove a constraint that was not added to the space. (Removed twice maybe?)"),g(this),a.C.rb(),a.L.rb(),da(this.Vg,a),a.C.Xi(a),a.L.Xi(a),a.G=null)};ea.prototype.Js=function(a){return a.G===this};ea.prototype.mz=function(a){return a.G==this};ea.prototype.nz=function(a){return a.G==this};ea.prototype.RD=function(a){delete this.Fe[ha(a.C.nb,
a.L.nb)];da(this.Xh,a)};ea.prototype.op=function(a,b){this.Ck();for(var c=this.Wf,d=0;d<c.length;d++)a.call(b,c[d]);c=this.or;for(d=0;d<c.length;d++)for(var e=c[d];e;){var f=e.Yd;a.call(b,e);e=f}this.pl(!0)};ea.prototype.cm=function(a){this.Ck();for(var b=this.Vg,c=0;c<b.length;c++)a(b[c]);this.pl(!0)};ea.prototype.YC=function(a){Q(!this.Xc,"You cannot manually reindex objects while the space is locked. Wait until the current query or step is complete.");var b=a.body;a.update(b.za,b.ib);this.Qf.ov(a.nb);
this.Mh.ov(a.nb)};ea.prototype.ks=function(a){Q(!a.Pa(),"Internal error: Attempting to activate a rogue body.");if(this.Xc)-1===this.cr.indexOf(a)&&this.cr.push(a);else{this.Wf.push(a);for(var b=0;b<a.Kh.length;b++){var c=a.Kh[b];this.Mh.remove(c,c.nb);this.Qf.jg(c,c.nb)}for(b=a.Og;b;b=b.next(a))if(c=b.kb,a===c||c.Pc()){var c=b.C,d=b.L;this.Fe[ha(c.nb,d.nb)]=b;b.Fb=this.Fb;b.Np=this.cu(c.Aj,d.Aj);this.Xh.push(b)}for(b=a.He;b;b=b.Yd)c=b.C,(a===c||c.Pc())&&this.Vg.push(b)}};ea.prototype.vz=function(a){Q(!a.Pa(),
"Internal error: Attempting to deactivate a rogue body.");da(this.Wf,a);for(var b=0;b<a.Kh.length;b++){var c=a.Kh[b];this.Qf.remove(c,c.nb);this.Mh.jg(c,c.nb)}for(c=a.Og;c;c=c.next(a))b=c.kb,(a===b||b.Pc())&&this.RD(c);for(c=a.He;c;c=c.Yd)b=c.C,(a===b||b.Pc())&&da(this.Vg,c)};fa.prototype.rb=function(){if(!this.Pa()){this.Re=0;var a=this?this.wg:null;if(a&&a.Ne(a)){Q(!a.Pa(),"Internal Error: componentActivate() called on a rogue body.");for(var b=a.G,c=a;c;){var d=c.Yd;c.Re=0;c.wg=null;c.Yd=null;
b.ks(c);c=d}da(b.or,a)}}};fa.prototype.Io=function(a){Q(this.Pc(),"Body.activateStatic() called on a non-static body.");for(var b=this.Og;b;b=b.next(this))a&&a!=b.C&&a!=b.L||(b.kb==this?b.ke:b.kb).rb()};fa.prototype.kv=function(a){Ba(null===(a.kb===this?a.ij:a.kj),"Internal Error: Dangling contact graph pointers detected. (A)");Ba(null===(a.kb===this?a.jj:a.lj),"Internal Error: Dangling contact graph pointers detected. (B)");var b=this.Og;Ba(null===b||null===(b.kb===this?b.jj:b.lj),"Internal Error: Dangling contact graph pointers detected. (C)");
a.kb===this?a.ij=b:a.kj=b;b&&(b.kb===this?b.jj=a:b.lj=a);this.Og=a};ea.prototype.JC=function(a){for(var b=Infinity!==this.el,c=this.Wf,d=0;d<c.length;d++){var e=c[d];Ba(null===e.Yd,"Internal Error: Dangling next pointer detected in contact graph.");Ba(null===e.wg,"Internal Error: Dangling root pointer detected in contact graph.")}if(b)for(var f=(d=this.Qp)?d*d:Za(this.tm)*a*a,d=0;d<c.length;d++)e=c[d],e.Re=Infinity!==e.Ki?e.RB()>(f?e.Ki*f:0)?0:e.Re+a:Infinity;for(var f=this.Xh,d=0,g=f.length;d<g;d++){var h=
f[d],e=h.kb;a=h.ke;b&&((a.Pa()&&!a.Pc()||e.Ne())&&e.rb(),(e.Pa()&&!e.Pc()||a.Ne())&&a.rb());e.kv(h);a.kv(h)}if(b){b=this.Vg;for(d=0;d<b.length;d++)a=b[d],e=a.C,a=a.L,a.Pa()&&!a.Pc()&&e.rb(),e.Pa()&&!e.Pc()&&a.rb();for(d=0;d<c.length;){e=c[d];if(null===(e?e.wg:null)){k(e,e);a:{for(b=e;b;b=b.Yd)if(b.Re<this.el){b=!0;break a}b=!1}if(!b){this.or.push(e);for(b=e;b;b=b.Yd)this.vz(b);continue}}d++;e.wg=null;e.Yd=null}}};ea.prototype.Dg=function(a,b,c,d,e){function f(g){var h;(!g.group||d!==g.group)&&c&g.P&&
(h=g.Dg(a,b))&&e(g,h.eb,h.K);return 1}this.Ck();this.Mh.Dg(a,b,1,f);this.Qf.Dg(a,b,1,f);this.pl(!0)};ea.prototype.jD=function(){for(var a=0;a<this.Rq.length;a++)this.Rq[a]();this.Rq.length=0};ea.prototype.Ck=function(){this.Xc++};ea.prototype.pl=function(a){this.Xc--;Q(0<=this.Xc,"Internal Error: Space lock underflow.");if(0===this.Xc&&a){a=this.cr;for(var b=0;b<a.length;b++)this.ks(a[b]);a.length=0;this.jD()}};var vd;ea.prototype.YB=function(){vd=this;return f};ea.prototype.Vy=function(a){var b=
this.Fb-a.Fb,c=a.kb,d=a.ke;if((c.Pc()||c.Ne())&&(d.Pc()||d.Ne()))return!0;1<=b&&"cached"!=a.state&&(a.state="cached");return b>=this.kz?(a.Vc=null,!1):!0};ea.prototype.step=function(a){if(0!==a){Q(0===qa.x&&0===qa.y,"vzero is invalid");this.Fb++;var b=this.Ms;this.Ms=a;var c,e,f=this.Wf,g=this.Vg,h=this.Xh;for(c=0;c<h.length;c++){var k=h[c];k.state="normal";k.kb.Ne()||k.ke.Ne()||k.gw()}h.length=0;this.Ck();for(c=0;c<f.length;c++)f[c].DC(a);this.Qf.each(d);this.Qf.XC(this.Hs);this.pl(!1);this.JC(a);
this.Ck();for(e in this.Fe)this.Vy(this.Fe[e])||delete this.Fe[e];e=this.lz;k=1-Math.pow(this.jz,a);for(c=0;c<h.length;c++)h[c].Gd(a,e,k);for(c=0;c<g.length;c++)e=g[c],e.An(this),e.Gd(a);e=Math.pow(this.ei,a);k=this.tm;for(c=0;c<f.length;c++)f[c].ZD(k,e,a);a=0===b?0:a/b;for(c=0;c<h.length;c++)h[c].Nd(a);for(c=0;c<g.length;c++)g[c].Nd(a);for(c=0;c<this.PB;c++){for(a=0;a<h.length;a++)h[a].Uc();for(a=0;a<g.length;a++)g[a].Uc()}for(c=0;c<g.length;c++)g[c].yn(this);for(c=0;c<h.length;c++)h[c].Np.yn(h[c],
this);this.pl(!0)}};var ja=z.qE=function(a,b){this.C=a;this.L=b;this.G=null;this.Za=!1;this.bn=this.an=null;this.xf=Infinity;this.bh=Math.pow(.9,60);this.wh=Infinity};ja.prototype.Gd=function(){};ja.prototype.Nd=function(){};ja.prototype.Uc=function(){};ja.prototype.An=function(){};ja.prototype.yn=function(){};ja.prototype.next=function(a){return this.C===a?this.an:this.bn};var Nb=z.Jx=function(a,b,c,d){ja.call(this,a,b);this.Lg=c;this.cf=d;a=a?J(a.za,ua(c,a.ib)):c;b=b?J(b.za,ua(d,b.ib)):d;this.Fj=
Ya(Z(b,a));Ba(0<this.Fj,"You created a 0 length pin joint. A pivot joint will be much more stable.");this.K=this.aa=this.da=null;this.Va=this.Pb=this.Ci=this.Xd=0};Nb.prototype=Object.create(ja.prototype);Nb.prototype.Gd=function(a){var b=this.C,c=this.L;if(!b.Pa()||!c.Pa()){this.aa=ua(this.Lg,b.ib);this.da=ua(this.cf,c.ib);var d=Z(J(c.za,this.da),J(b.za,this.aa)),e=Ya(d);this.K=aa(d,1/(e?e:Infinity));this.Xd=1/p(b,c,this.aa,this.da,this.K);b=this.wh;this.Va=M(-(1-Math.pow(this.bh,a))*(e-this.Fj)/
a,-b,b);this.Ci=this.xf*a}};Nb.prototype.Nd=function(a){a=aa(this.K,this.Pb*a);l(this.C,this.L,this.aa,this.da,a.x,a.y)};Nb.prototype.Uc=function(){var a=this.C,b=this.L,c=this.K,d=(this.Va-e(a,b,this.aa,this.da,c))*this.Xd,f=this.Pb;this.Pb=M(f+d,-this.Ci,this.Ci);d=this.Pb-f;l(a,b,this.aa,this.da,c.x*d,c.y*d)};var Ob=z.kF=function(a,b,c,d,e,f){ja.call(this,a,b);this.Lg=c;this.cf=d;this.min=e;this.max=f;this.aa=this.da=this.K=null;this.Va=this.Pb=this.Ci=this.Xd=0};Ob.prototype=Object.create(ja.prototype);
Ob.prototype.Gd=function(a){var b=this.C,c=this.L;if(!b.Pa()||!c.Pa()){this.aa=ua(this.Lg,b.ib);this.da=ua(this.cf,c.ib);var d=Z(J(c.za,this.da),J(b.za,this.aa)),e=Ya(d),f=0;e>this.max?(f=e-this.max,this.K=md(d)):e<this.min?(f=this.min-e,this.K=ma(md(d))):(this.K=qa,this.Pb=0);this.Xd=1/p(b,c,this.aa,this.da,this.K);b=this.wh;this.Va=M(-(1-Math.pow(this.bh,a))*f/a,-b,b);this.Ci=this.xf*a}};Ob.prototype.Nd=function(a){a=this.Pb*a;l(this.C,this.L,this.aa,this.da,this.K.x*a,this.K.y*a)};Ob.prototype.Uc=
function(){if(0!==this.K.x||0!==this.K.y){var a=this.C,c=this.L,d=this.K,e=b(a,c,this.aa,this.da),e=R(e,d),e=(this.Va-e)*this.Xd,f=this.Pb;this.Pb=M(f+e,-this.Ci,0);e=this.Pb-f;l(a,c,this.aa,this.da,d.x*e,d.y*e)}};var Pb=z.Kx=function(a,b,c,d){ja.call(this,a,b);"undefined"===typeof d&&(d=c,c=a?a.wo(d):d,d=b?b.wo(d):d);this.Lg=c;this.cf=d;this.aa=this.da=qa;this.lk=new K(0,0);this.mk=new K(0,0);this.ra=qa;this.kk=0;this.Va=qa};Pb.prototype=Object.create(ja.prototype);Pb.prototype.Gd=function(a){var b=
this.C,c=this.L;b.Pa()&&c.Pa()||(this.aa=ua(this.Lg,b.ib),this.da=ua(this.cf,c.ib),h(b,c,this.aa,this.da,this.lk,this.mk),this.kk=this.xf*a,b=Z(J(c.za,this.da),J(b.za,this.aa)),this.Va=rb(aa(b,-(1-Math.pow(this.bh,a))/a),this.wh))};Pb.prototype.Nd=function(a){l(this.C,this.L,this.aa,this.da,this.ra.x*a,this.ra.y*a)};Pb.prototype.Uc=function(){var a=this.C,c=this.L,d=b(a,c,this.aa,this.da),d=Z(this.Va,d),e=this.mk,d=new K(R(d,this.lk),R(d,e)),e=this.ra;this.ra=rb(J(this.ra,d),this.kk);l(a,c,this.aa,
this.da,this.ra.x-e.x,this.ra.y-e.y)};var ub=z.xE=function(a,b,c,d,e){ja.call(this,a,b);this.pB=c;this.qB=d;this.rB=Ka(kb(Z(d,c)));this.cf=e;this.pt=null;this.Ug=0;this.aa=this.da=null;this.lk=new K(0,0);this.mk=new K(0,0);this.ra=qa;this.kk=0;this.Va=null};ub.prototype=Object.create(ja.prototype);ub.prototype.Gd=function(a){var b=this.C,c=this.L;if(!b.Pa()||!c.Pa()){var d=b.au(this.pB),e=b.au(this.qB),f=ua(this.rB,b.ib),g=R(d,f);this.pt=f;this.da=ua(this.cf,c.ib);var k=oa(J(c.za,this.da),f);k<=oa(d,
f)?(this.Ug=1,this.aa=Z(d,b.za)):k>=oa(e,f)?(this.Ug=-1,this.aa=Z(e,b.za)):(this.Ug=0,this.aa=Z(J(aa(Ka(f),-k),aa(f,g)),b.za));h(b,c,this.aa,this.da,this.lk,this.mk);this.kk=this.xf*a;b=Z(J(c.za,this.da),J(b.za,this.aa));this.Va=rb(aa(b,-(1-Math.pow(this.bh,a))/a),this.wh)}};ub.prototype.Nd=function(a){l(this.C,this.L,this.aa,this.da,this.ra.x*a,this.ra.y*a)};ub.prototype.oB=function(a){var b=this.pt;a=0<this.Ug*oa(a,b)?a:xd(a,b);return rb(a,this.kk)};ub.prototype.Uc=function(){var a=this.C,c=this.L,
d=b(a,c,this.aa,this.da),d=Z(this.Va,d),e=this.mk,d=new K(R(d,this.lk),R(d,e)),e=this.ra;this.ra=this.oB(J(e,d));l(a,c,this.aa,this.da,this.ra.x-e.x,this.ra.y-e.y)};var Qb=z.tE=function(a,b,c,d,e,f,g){ja.call(this,a,b);this.Lg=c;this.cf=d;this.fD=e;this.rr=f;this.ei=g;this.FD=m;this.tr=this.ow=0;this.aa=this.da=null;this.Xd=0;this.K=null};Qb.prototype=Object.create(ja.prototype);Qb.prototype.Gd=function(a){var b=this.C,c=this.L;if(!b.Pa()||!c.Pa()){this.aa=ua(this.Lg,b.ib);this.da=ua(this.cf,c.ib);
var d=Z(J(c.za,this.da),J(b.za,this.aa)),e=Ya(d);this.K=aa(d,1/(e?e:Infinity));d=p(b,c,this.aa,this.da,this.K);Ba(0!==d,"Unsolvable this.");this.Xd=1/d;this.tr=0;this.ow=1-Math.exp(-this.ei*a*d);e=this.FD(this,e);l(b,c,this.aa,this.da,this.K.x*e*a,this.K.y*e*a)}};Qb.prototype.Nd=function(){};Qb.prototype.Uc=function(){var a=this.C,b=this.L,c=e(a,b,this.aa,this.da,this.K),d=(this.tr-c)*this.ow;this.tr=c+d;d*=this.Xd;l(a,b,this.aa,this.da,this.K.x*d,this.K.y*d)};var mc=z.sE=function(a,b,d,e,f){ja.call(this,
a,b);this.eD=d;this.rr=e;this.ei=f;this.GD=c;this.kd=this.rw=this.ur=0};mc.prototype=Object.create(ja.prototype);mc.prototype.Gd=function(a){var b=this.C,c=this.L;if(!b.Pa()||!c.Pa()){var d=b.qa+c.qa;Ba(0!==d,"Unsolvable spring.");this.kd=1/d;this.rw=1-Math.exp(-this.ei*a*d);this.ur=0;a=this.GD(this,b.C-c.C)*a;b.B-=a*b.qa;c.B+=a*c.qa}};mc.prototype.Uc=function(){var a=this.C,b=this.L,c=a.B-b.B,d=(this.ur-c)*this.rw;this.ur=c+d;c=d*this.kd;a.B+=c*a.qa;b.B-=c*b.qa};var Rb=z.dF=function(a,b,c,d){ja.call(this,
a,b);this.min=c;this.max=d;this.kd=this.Va=this.md=this.ra=0};Rb.prototype=Object.create(ja.prototype);Rb.prototype.Gd=function(a){var b=this.C,c=this.L;if(!b.Pa()||!c.Pa()){var d=c.C-b.C,e=0;d>this.max?e=this.max-d:d<this.min&&(e=this.min-d);this.kd=1/(1/b.ti+1/c.ti);b=this.wh;this.Va=M(-(1-Math.pow(this.bh,a))*e/a,-b,b);this.md=this.xf*a;this.Va||(this.ra=0)}};Rb.prototype.Nd=function(a){var b=this.C,c=this.L;a=this.ra*a;b.B-=a*b.qa;c.B+=a*c.qa};Rb.prototype.Uc=function(){if(this.Va){var a=this.C,
b=this.L,c=-(this.Va+(b.B-a.B))*this.kd,d=this.ra;this.ra=0>this.Va?M(d+c,0,this.md):M(d+c,-this.md,0);c=this.ra-d;a.B-=c*a.qa;b.B+=c*b.qa}};var Sb=z.cF=function(a,b,c,d){ja.call(this,a,b);this.k=0;this.Oq=c;this.mv=d;this.k=(b?b.C:0)-(a?a.C:0);this.kd=this.Va=this.ra=this.md=0};Sb.prototype=Object.create(ja.prototype);Sb.prototype.Gd=function(a){var b=this.C,c=this.L;if(!b.Pa()||!c.Pa()){var d=this.Oq,e=this.mv,f=c.C-b.C,g=this.k-f,h=0;0<g*e?h=g:this.k=Math.floor((f-d)/e)*e+d;this.kd=1/(b.qa+c.qa);
b=this.wh;this.Va=M(-(1-Math.pow(this.bh,a))*h/a,-b,b);this.md=this.xf*a;this.Va||(this.ra=0)}};Sb.prototype.Nd=function(a){var b=this.C,c=this.L;a=this.ra*a;b.B-=a*b.qa;c.B+=a*c.qa};Sb.prototype.Uc=function(){if(this.Va){var a=this.C,b=this.L,c=this.mv,d=-(this.Va+(b.B-a.B))*this.kd,e=this.ra;this.ra=M((e+d)*c,0,this.md*Math.abs(c))/c;d=this.ra-e;a.B-=d*a.qa;b.B+=d*b.qa}};var Tb=z.wE=function(a,b,c,d){ja.call(this,a,b);this.Oq=c;this.Wq=d;this.Xq=1/d;this.kd=this.Va=this.md=this.ra=0};Tb.prototype=
Object.create(ja.prototype);Tb.prototype.Gd=function(a){var b=this.C,c=this.L;if(!b.Pa()||!c.Pa()){this.kd=1/(b.qa*this.Xq+this.Wq*c.qa);var d=this.wh;this.Va=M(-(1-Math.pow(this.bh,a))*(c.C*this.Wq-b.C-this.Oq)/a,-d,d);this.md=this.xf*a}};Tb.prototype.Nd=function(a){var b=this.C,c=this.L;a=this.ra*a;b.B-=a*b.qa*this.Xq;c.B+=a*c.qa};Tb.prototype.Uc=function(){var a=this.C,b=this.L,c=(this.Va-(b.B*this.Wq-a.B))*this.kd,d=this.ra;this.ra=M(d+c,-this.md,this.md);c=this.ra-d;a.B-=c*a.qa*this.Xq;b.B+=
c*b.qa};var Ub=z.jF=function(a,b,c){ja.call(this,a,b);this.Eh=c;this.kd=this.md=this.ra=0};Ub.prototype=Object.create(ja.prototype);Ub.prototype.Gd=function(a){this.kd=1/(this.C.qa+this.L.qa);this.md=this.xf*a};Ub.prototype.Nd=function(a){var b=this.C,c=this.L;a=this.ra*a;b.B-=a*b.qa;c.B+=a*c.qa};Ub.prototype.Uc=function(){var a=this.C,b=this.L,c=-(b.B-a.B+this.Eh)*this.kd,d=this.ra;this.ra=M(d+c,-this.md,this.md);c=this.ra-d;a.B-=c*a.qa;b.B+=c*b.qa}})();
function td(c){var m=c[1],h=c[2];c=cp.D.sub(m,c[0]);m=cp.D.sub(h,m);return 0>cp.D.uz(c,m)}
function U(c){this.b=c;var m=this.G=new cp.wy;m.Ky(function(h){if(h.aq()){var m=h.ct().body.wd,q=h.et().body.wd;m.hc=h;m.kl=!1;q.hc=h;q.kl=!0;c.trigger(U.prototype.j.Kq,m.i);c.trigger(U.prototype.j.Kq,q.i);m.hc=null;q.hc=null}return"ignore"!==h.state},function(h){if(h.aq()){var m=h.ct().body.wd,q=h.et().body.wd;m.hc=h;m.kl=!1;q.hc=h;q.kl=!0;c.trigger(U.prototype.j.Jq,m.i);c.trigger(U.prototype.j.Jq,q.i);m.hc=null;q.hc=null}return!0});m.tm=cp.D(0,100);m.$s=1/30;m.Qv=0;m.el=1}
(function(){function c(a){this.b.trigger(U.prototype.j.Ou,a.wd.i)}function m(a){"string"==typeof a?(a=parseInt(a.slice(),16),isNaN(a)&&(a=-1)):a|=0;return a}function h(){}function p(){}function q(){}var r=U.prototype;r.ya=function(a){this.behavior=a;this.b=a.b};r.ya.prototype.T=function(){this.behavior.Qt=-1;this.behavior.Ef=[]};r.ka=function(a,c){this.type=a;this.behavior=a.behavior;this.i=c;this.b=a.b;this.G=this.behavior.G};var l=r.ka.prototype;l.TD=function(){if(0!==this.Ge&&2!==this.Ge&&4!==
this.Ge){var a=this.i,c=[];a.wa();a.sF(c);var b,d,f,h,a=0;for(b=c.length;a<b;++a)if(d=c[a],f=d.UC,d.Bg&&3===this.Ge)for(d.Bg.Ls||(h=d.id&3758096384,d.Bg.Ls=this.ht(d.Bg,-2147483648===h||1073741824===h||536870912===h||h&-2147483648&&h&1073741824&&h&536870912)),h=cp.D(f.left,f.top),d=d.Bg.Ls,f=0;f<d.length;++f)this.Ka.push(new cp.Fo(this.body,d[f],h));else h=cp.D(0,0),this.Ka.push(new cp.Fo(this.body,[f.left,f.top,f.left,f.bottom,f.right,f.bottom,f.right,f.top],h));a=0;for(b=this.Ka.length;a<b;++a)c=
this.Ka[a],c.group=this.$o,c.P=this.bp,c.Pn(this.Hj),c.Zk(this.Nj),this.enabled&&this.G.bf(c)}};l.ht=function(a,c){var b=a.Cb,d=a.$d,f=[];f.length=d;for(A=0;A<d;A++)f[A]=cp.D(b[2*A],b[2*A+1]);c&&f.reverse();b=f.slice(0);A=[];for(d=0;3<=b.length;){var f=[b[d],b[(d+1)%b.length],b[(d+2)%b.length]],h;if(!(h=td(f)))a:{h=b;for(var g=f,l=void 0,l=void 0,m=0;m<h.length;++m)if(l=h[m],-1==g.indexOf(l)){var p=g[0],n=g[1],q=cp.D.sub(g[2],p),n=cp.D.sub(n,p),r=cp.D.sub(l,p),l=cp.D.Gj(q,q),p=cp.D.Gj(q,n),q=cp.D.Gj(q,
r),I=cp.D.Gj(n,n),n=cp.D.Gj(n,r),r=1/(l*I-p*p),I=(I*q-p*n)*r,l=(l*n-p*q)*r;if(l=0<=I&&0<=l&&1>I+l){h=!0;break a}}h=!1}h?d++:(b.splice((d+1)%b.length,1),A.push(f));d%=b.length}for(b=[];0<A.length;){d=A[0];A.shift();for(f=0;f<A.length;f++){h=d;l=A[f];g=void 0;p=0;n=m=void 0;for(g=0;3>g;g++)-1==h.indexOf(l[g])?(m=l[g],n=l[(g+1)%3]):p++;2!=p?h=!1:(g=h.indexOf(n),l=h.length,td([h[(g-2+l)%l],h[(g-1+l)%l],m])||td([m,h[g],h[(g+1)%l]])?h=!1:(h.splice(g,0,m),h=!0));h&&(A.splice(f,1),f=-1)}b.push(d)}for(var d=
[],A=0;A<b.length;++A){f=b[A].reverse();h=[];h.length=2*f.length;for(g=0;g<f.length;++g)h[2*g]=f[g].x,h[2*g+1]=f[g].y;d.push(h)}return d};l.SD=function(){var a=this.Ka;if(this.enabled)for(var c=0,b=a.length;c<b;c++)this.G.Df(a[c]);a.length=0;this.nj(this.body);if(this.i.Jd)this.xe=0,this.TD(),this.Mk=!0,this.body.Hh(Infinity);else{b=this.Ge;3!=b||this.i.na&&!this.i.na.nh()||(b=1);var c=Math.abs(this.i.width),d=Math.abs(this.i.height);switch(b){case 0:this.mc=1;break;case 1:this.mc=cp.vu(this.Yc,c,
d);a.push(new cp.zw(this.body,c,d));break;case 2:this.mc=cp.wu(this.Yc,c/2);a.push(new cp.Bw(this.body,d/2,cp.D(0,0)));break;case 3:this.i.na.Sg(this.i.width,this.i.height,0);b=this.ht(this.i.na,0>this.i.width!=0>this.i.height);cp.Cs(this.i.na);for(c=this.xe=0;c<b.length;++c)d=new cp.Fo(this.body,b[c],this.offset),d.Gl=cp.No(b[c]),this.xe+=d.Gl,a.push(d);for(var d=0,f,c=0;c<a.length;++c)f=a[c].Gl/this.xe,d+=cp.zq(f*this.Yc,b[c],this.offset);this.mc=d;break;case 4:d=0,0>this.pp&&(d=-this.pp),b=cp.D(-c/
2+d,0),c=cp.D(c/2-d,0),this.mc=cp.xu(this.Yc,b,c),a.push(new cp.Rx(this.body,b,c,Math.abs(this.pp)))}0>=this.mc&&(this.mc=1);this.Sd||this.Mk?this.body.Hh(Infinity):this.body.Hh(this.mc);this.body.Pa()||this.body.rb();for(c=0;c<a.length;++c)d=a[c],d.group=this.$o,d.P=this.bp,d.Pn(this.Hj),d.Zk(this.Nj),this.enabled&&this.G.bf(d)}};l.T=function(){this.Sd=1==this.O[0];this.Ge=this.O[1];this.$o=this.O[2];this.bp=parseInt(this.O[3],16);this.Yc=this.O[4];this.mc=1;this.Hj=this.O[5];this.Nj=this.O[6];this.enabled=
0==this.O[7];this.pp=this.O[8];this.Mk=1==this.O[9];this.Yp=!0;this.no=!1;this.offset=cp.D(0,0);this.Jm=this.Lm=this.Ut=this.Tt=this.lq=this.nq=this.mq=0;this.Rt=null;this.St=-1;this.hc=this.sd=null;this.kl=!1;this.xe=0;var a;this.Sd?(a=this.body=new cp.Ur(Infinity,Infinity),this.enabled&&this.behavior.Ef.push(a),a.Re=Infinity):(a=this.body=new cp.Ur(this.Yc,1),this.enabled&&this.G.Bl(a));a.uo=!1;a.wd=this;this.i.hz=a;this.Ka=[]};l.hv=function(){this.Xo(this.body)};l.xg=function(){if(this.enabled)for(var a=
0;a<this.Ka.length;a++)this.G.Df(this.Ka[a]);this.Ka.length=0;var c=this;this.body.cm(function(a){c.G.Xi(a)});this.body.Pa()?$a(this.behavior.Ef,this.body):this.G.Gn(this.body)};l.gc=function(){return{}};l.Ic=function(){};l.ik=function(a){a=a.wd;var c=a.i;c.wa();a.offset=c.Jd?cp.D(0,0):cp.D((c.Mb-.5)*c.width,(c.Nb-.5)*c.height)};l.nj=function(a){var c=a.wd,b=c.i,d=!1;b.wa();if(c.Lm!==b.width||c.Jm!==b.height)d=!0,c.Yp=!0,c.Lm=b.width,c.Jm=b.height;if(d||c.mq!==b.x||c.nq!==b.y||c.lq!==b.k||c.Tt!==
b.Mb||c.Ut!==b.Nb)b.Jd?a.Av(cp.D(b.x,b.y)):(c.offset=cp.D((b.Mb-.5)*b.width,(b.Nb-.5)*b.height),a.$i(b.k),a.Av(cp.D.sub(cp.D(b.x,b.y),cp.D.rotate(c.offset,a.ib)))),a.Pc()&&(c.no=!0,a.Io()),c.mq=b.x,c.nq=b.y,c.lq=b.k,c.Tt=b.Mb,c.Ut=b.Nb};l.ko=function(a){var c=a.wd,b=c.i;a.uo&&(a.dD(),a.uo=!1);if(!a.Pa()){c.nj(a);var d=cp.D.add(a.za,cp.D.rotate(c.offset,a.ib));c.mq=b.x=d.x;c.nq=b.y=d.y;c.lq=b.k=a.cb();b.U()}};l.Xo=function(a){a=a.wd;if(a.enabled){if(a.Yp||a.i.Jd&&a.i.zC||a.Lm!==a.i.width||4!==a.Ge&&
a.Jm!==a.i.height||3===a.Ge&&(a.Rt!==a.i.Wa||a.St!==a.i.M))a.SD(),a.i.Jd&&(a.i.zC=!1),a.Lm=a.i.width,a.Jm=a.i.height,a.Rt=a.i.Wa,a.St=a.i.M,a.Yp=!1,a.no=!1;if(a.no){for(var c=0,b=a.Ka.length;c<b;c++)a.G.YC(a.Ka[c]);a.no=!1}}};l.Xa=function(){var a=this.b.Ig;if(this.b.Id>this.behavior.Qt&&0<a){this.G.op(c,this);this.behavior.Ef.forEach(this.nj);this.G.op(this.nj);this.behavior.Ef.forEach(this.Xo);this.G.Wf.forEach(this.Xo);this.G.Qv?this.G.step(this.b.ni(this.i)):this.G.step(this.G.$s*a);for(var a=
this.G.Bc,e=0,b=a.length/2;e<b;e++)a[2*e].call(this.G,a[2*e+1]);a.length=0;this.G.op(this.ko);this.behavior.Ef.forEach(this.ko);this.behavior.Qt=this.b.Id}};l.lt=function(a){var c=null,b=0;"string"==typeof a?this.body.cm(function(b){b.tag===a&&(c=b)}):this.body.cm(function(d){a==b&&(c=d);b++});return c};h.prototype.Ne=function(){return this.body.Ne()};h.prototype.eC=function(a,c,b,d,f,h){var g=this.b.pf().type;a=cp.D(a,c);b=cp.D(b,d);var l=new cp.Qx(null,0,0);this.behavior.G.Dg(a,b,m(h),f,function(a,
b,c){var d=a.body.wd.i;if(d.type==g||g.N&&-1!=g.vg.indexOf(d.type))if(!l.shape||b<l.eb)l.shape=a,l.eb=b,l.K=c});if(!l.shape)return!1;f=l.shape.body.wd;f.sd=l;l.vC=a;l.wC=b;f=f.i;h=g.X();h.ea=!0;h.Ti(f);g.hd();return!0};h.prototype.Ou=function(){return!0};h.prototype.Jq=function(){this.ko(this.body);return!0};h.prototype.Kq=function(){this.ko(this.body);return!0};r.j=new h;l.Me=function(a,c,b,d){var f;switch(a){case 0:f=cp.D(c,b);break;case 1:c=bb(c);f=cp.D(b*Math.cos(c),b*Math.sin(c));break;case 2:f=
d.wo(cp.D(c,b));break;case 3:if(!d.wd){f=cp.D(0,0);break}a=d.wd.i;a.wa();b=c;a.Le&&-1!==b?(c=a.Le(b,!0),b=a.Le(b,!1),f=d.wo(cp.D(c,b))):f=cp.D(0,0)}return f};p.prototype.CD=function(a,c,b){this.body.BD(this.Me(a,c,b))};p.prototype.Ty=function(a,c,b,d,f,h){this.body.Sy(this.Me(a,c,b),this.Me(d,f,h));this.body.uo=!0};p.prototype.Uy=function(a,c,b,d,f,h){this.body.Uc(this.Me(a,c,b),this.Me(d,f,h));this.body.uo=!0};p.prototype.wD=function(a){this.body.po=a};p.prototype.uD=function(a){var c;if(0==a&&this.Sd){if(this.Sd=
!1,this.enabled){this.body.Io();a=0;for(c=this.Ka.length;a<c;a++)this.G.Df(this.Ka[a]);$a(this.behavior.Ef,this.body);this.body.aj(this.Yc);this.Mk||this.body.Hh(this.mc);this.body.Re=0;this.G.Bl(this.body);a=0;for(c=this.Ka.length;a<c;a++)this.G.bf(this.Ka[a])}}else if(1==a&&!this.Sd&&(this.Sd=!0,this.enabled)){a=0;for(c=this.Ka.length;a<c;a++)this.G.Df(this.Ka[a]);this.G.Gn(this.body);this.body.aj(Infinity);this.body.Hh(Infinity);this.body.Re=Infinity;this.behavior.Ef.push(this.body);this.body.Xb=
0;this.body.Yb=0;a=this.body.B=0;for(c=this.Ka.length;a<c;a++)this.G.bf(this.Ka[a])}};p.prototype.aj=function(a){this.Yc=a;if(this.i.Jd)this.Sd||this.body.aj(this.Yc);else{a=this.Ka[0];switch(this.Ge){case 0:this.mc=1;break;case 1:this.mc=cp.zq(this.Yc,a.tj,cp.D(0,0));break;case 2:this.mc=cp.wu(this.Yc,a.ua);break;case 3:a=0;for(var c,b=0;b<this.Ka.length;++b)c=shapes[b].Gl/this.xe,a+=cp.zq(c*this.Yc,polys[b],this.offset);this.mc=a;break;case 4:this.mc=cp.xu(this.Yc,a.C,a.L)}0>=this.mc&&(this.mc=
1);this.Sd||(this.body.aj(this.Yc),this.Mk||this.body.Hh(this.mc))}};p.prototype.Zk=function(a){this.Nj=a;for(var c=0;c<this.Ka.length;c++)this.Ka[c].Zk(a)};p.prototype.Pn=function(a){this.Hj=a;for(var c=0;c<this.Ka.length;c++)this.Ka[c].Pn(a)};p.prototype.zz=function(a){if(!a&&this.enabled)for(this.enabled=!1,this.Sd?$a(this.behavior.Ef,this.body):this.G.Gn(this.body),a=0;a<this.Ka.length;a++)this.G.Df(this.Ka[a]);else if(a&&!this.enabled)for(this.enabled=!0,this.Sd?this.behavior.Ef.push(this.body):
this.G.Bl(this.body),a=0;a<this.Ka.length;a++)this.G.bf(this.Ka[a])};p.prototype.tD=function(a,c,b){this.G.tm=this.Me(a,c,b)};p.prototype.rD=function(a){this.G.ei=a};l.gt=function(a,c){this.nj(a);var b;if(-1==c)b=this.G.Ov;else{b=this.b.pi(c);if(!b)return null;b=b.hz;this.nj(b)}return b&&a!=b?b:null};p.prototype.My=function(a,c,b,d,f,h,g,l){if(d=this.gt(this.body,d))a=this.Me(a,c,b,this.body),f=this.Me(f,h,g,d),f=this.G.Jo(new cp.Jx(this.body,d,a,f)),f.typeName="pin",f.tag=l};p.prototype.Ny=function(a,
c,b,d,f,h,g,l){if(d=this.gt(this.body,d))a=this.Me(a,c,b,this.body),f=this.Me(f,h,g,d),f=this.G.Jo(new cp.Kx(this.body,d,a,f)),f.typeName="pivot",f.tag=l};p.prototype.yz=function(a){(a=this.lt(a))&&this.G.Xi(a)};p.prototype.vD=function(a,c){var b=this.lt(c);b&&(b.xf=a)};p.prototype.xB=function(){this.hc&&this.hc.wB()};r.u=new p;q.prototype.velocityX=function(a){a.A(this.body.Xb)};q.prototype.velocityY=function(a){a.A(this.body.Yb)};q.prototype.speed=function(a){var c=this.body.Xb,b=this.body.Yb;a.A(Math.sqrt(c*
c+b*b))};q.prototype.group=function(a){a.Ca(this.$o)};q.prototype.P=function(a){a.Ca(this.bp)};q.prototype.Yc=function(a){this.Sd?a.A(Infinity):a.A(this.body.Ki)};q.prototype.mc=function(a){this.Sd||this.Mk?a.A(Infinity):a.A(this.body.ti)};q.prototype.Hj=function(a){a.A(this.Hj)};q.prototype.Nj=function(a){a.A(this.Nj)};q.prototype.Gl=function(a){if(this.i.Jd||3===this.Ge){if(!this.xe)for(var c=0;c<this.Ka.length;++c)this.xe+=cp.No(this.Ka[c].tj);a.A(this.xe)}else if(0==this.Ka.length)a.A(0);else{var b=
this.Ka[0];switch(this.Ge){case 0:c=0;break;case 1:c=cp.No(b.tj);break;case 3:c=this.xe;break;case 2:c=cp.Wy(b.ua);break;case 4:c=cp.Xy(b.C,b.L,b.ua)}a.A(c)}};q.prototype.xy=function(a){this.G.Qv?a.A(this.b.ni(this.i)):a.A(this.G.$s)};q.prototype.el=function(a){a.A(this.G.el)};q.prototype.Qp=function(a){a.A(this.G.Qp)};q.prototype.QC=function(a){this.sd?(this.sd.Ac||(this.sd.Ac=this.sd.vB(this.sd.vC,this.sd.wC)),a.A(this.sd.Ac)):a.A(0)};q.prototype.RC=function(a){this.sd&&this.sd.K?a.A(this.sd.K.x):
a.A(0)};q.prototype.SC=function(a){this.sd&&this.sd.K?a.A(this.sd.K.y):a.A(0)};q.prototype.Ew=function(a){this.hc?a.A(this.hc.OD()):a.A(0)};q.prototype.Nw=function(a,c){if(this.hc&&0<=c&&c<this.hc.Vc.length){var b=this.hc.Oh;this.hc.Oh=this.kl;a.A(this.hc.SA(c).y);this.hc.Oh=b}else a.A(0)};r.I=new q})();function ud(c){this.b=c;this.Un=this.dl=this.Jh=this.Tn=0}
(function(){function c(){}var m=ud.prototype;m.ya=function(c){this.behavior=c;this.b=c.b};m.ya.prototype.T=function(){};m.ka=function(c,h){this.type=c;this.behavior=c.behavior;this.i=h;this.b=c.b};var h=m.ka.prototype;h.T=function(){this.enabled=0!==this.O[0]};h.gc=function(){return{smg:this.behavior.Tn,ss:this.behavior.Jh,se:this.behavior.dl,smd:this.behavior.Un}};h.Ic=function(c){this.behavior.Tn=c.smg;this.behavior.Jh=c.ss;this.behavior.dl=c.se;this.behavior.Un=c.smd};h.Xa=function(){};h.nl=function(){if(this.enabled){var c=
this.behavior.xh.fe(),h=0,m=0,l,a,e,b=0;l=0;for(a=c.length;l<a;l++){a:{e=c[l];for(var d=void 0,f=void 0,k=void 0,d=0,f=e.R.length;d<f;++d)if(k=e.R[d],k.behavior instanceof ud){e=k;break a}e=null}e&&e.enabled&&(h+=c[l].x,m+=c[l].y,++b)}c=this.i.n.sb;a=this.b.yb.ma;e=l=0;a>=this.behavior.Jh&&a<this.behavior.dl&&(l=this.behavior.Tn*Math.min(this.b.Ig,1),0===this.behavior.Un&&(l*=1-(a-this.behavior.Jh)/(this.behavior.dl-this.behavior.Jh)),a=Math.random()*Math.PI*2,e=Math.random()*l,l=Math.cos(a)*e,e*=
Math.sin(a));c.ir(h/b+l);c.jr(m/b+e)}};c.prototype.vy=function(c,h,m){this.behavior.Tn=c;this.behavior.Jh=this.b.yb.ma;this.behavior.dl=this.behavior.Jh+h;this.behavior.Un=m};m.u=new c})();function ad(c){this.b=c}
(function(){var c=ad.prototype;c.ya=function(c){this.behavior=c;this.b=c.b};c.ya.prototype.T=function(){};c.ka=function(c,m){this.type=c;this.behavior=c.behavior;this.i=m;this.b=c.b};var m=c.ka.prototype;m.T=function(){this.i.S.solidEnabled=0!==this.O[0]};m.Xa=function(){};c.j=new function(){};c.u=new function(){}})();
function $c(){return[cd,dd,gd,ed,bd,fd,hd,L,id,sd,ud,ad,qd,rd,kd,jd,U,F.prototype.j.as,F.prototype.u.Pw,L.prototype.I.Go,L.prototype.I.Ho,U.prototype.u.tD,F.prototype.u.qy,U.prototype.I.xy,U.prototype.u.wD,F.prototype.j.$w,L.prototype.u.hy,L.prototype.j.Bo,L.prototype.u.Vr,F.prototype.u.Fy,F.prototype.u.Ox,F.prototype.j.Ix,L.prototype.I.Uw,L.prototype.I.Vw,L.prototype.j.hx,F.prototype.j.Fw,ud.prototype.u.vy,ed.prototype.j.ax,L.prototype.u.by,L.prototype.u.$x,ed.prototype.j.Co,L.prototype.j.Yw,L.prototype.u.Sx,
ed.prototype.j.Zr,F.prototype.j.Dy,L.prototype.j.Ww,L.prototype.j.Iw,gd.prototype.u.iy,L.prototype.u.yy,U.prototype.j.Ou,F.prototype.j.Gw,U.prototype.u.Ty,L.prototype.u.Tx,U.prototype.u.CD,U.prototype.I.velocityX,F.prototype.j.Wr,U.prototype.I.velocityY,F.prototype.j.Lw,U.prototype.u.Zk,F.prototype.I.abs,F.prototype.I.Ug,F.prototype.j.Nx,F.prototype.I.XB,U.prototype.j.eC,U.prototype.I.QC,U.prototype.I.RC,U.prototype.I.SC,L.prototype.I.Ey,F.prototype.j.Rw,L.prototype.u.ey,F.prototype.I.Yt,L.prototype.I.Opacity,
F.prototype.I.bg,L.prototype.u.oy,F.prototype.j.Sw,L.prototype.j.Jw,U.prototype.I.Yc,U.prototype.u.uD,L.prototype.j.gx,U.prototype.I.speed,L.prototype.u.uw,L.prototype.u.uy,L.prototype.u.ty,U.prototype.j.Kq,U.prototype.I.Nw,U.prototype.u.xB,L.prototype.I.vw,F.prototype.I.sqrt,F.prototype.I.cos,F.prototype.I.sin,bd.prototype.u.CallFunction,fd.prototype.j.Ao,bd.prototype.j.yl,bd.prototype.j.Kw,L.prototype.u.Wx,cd.prototype.u.Lx,F.prototype.u.cy,U.prototype.u.zz,F.prototype.j.Hx,L.prototype.j.bx,L.prototype.u.jy,
L.prototype.u.gy,F.prototype.I.Az,U.prototype.u.My,U.prototype.u.rD,F.prototype.j.Qw,gd.prototype.u.my,F.prototype.I.random,fd.prototype.u.Vx,L.prototype.j.rx,L.prototype.j.Pf,fd.prototype.j.cx,L.prototype.I.Ow,fd.prototype.I.Go,fd.prototype.I.Ho,U.prototype.u.Ny,U.prototype.u.vD,U.prototype.j.Ne,L.prototype.u.Px,L.prototype.u.js,L.prototype.u.Yx,L.prototype.I.Gy,fd.prototype.u.Ux,L.prototype.u.ry,U.prototype.u.yz,cd.prototype.u.Play,L.prototype.j.Hw,gd.prototype.j.ix,cd.prototype.u.Mx,F.prototype.I.Es,
U.prototype.j.Jq,L.prototype.u.Xx,F.prototype.I.TB,F.prototype.I.cE,F.prototype.I.UB,F.prototype.I.SB,F.prototype.I.bE,L.prototype.u.hs,gd.prototype.u.Zx,gd.prototype.u.hs,F.prototype.I.k,U.prototype.I.Ew,L.prototype.u.Ay,L.prototype.u.By,L.prototype.j.Xr,gd.prototype.u.ky,gd.prototype.u.fy,gd.prototype.u.Vr,gd.prototype.j.Pf,gd.prototype.j.Bo,cd.prototype.u.zy,F.prototype.u.ay,U.prototype.u.Uy,F.prototype.u.Tw,L.prototype.j.Mw,hd.prototype.u.ny]};
