// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';var fa,na,pa,ra,wa,ya,za,Aa,Ba,Ea,Fa,Ga,Ha,Ia,Ja,Ka,La,Ma,Na,Oa,Pa,Qa,Ua,y,Va,Wa,Xa,Za,$a,bb,cb,db,eb,fb,gb,hb,ib,jb,lb,mb,nb,vb,wb,xb,yb,zb,Ab,Bb,Cb,Db,Eb,Fb,Gb,Hb,Ib,Kb,Vb,Wb,Xb,Yb,Zb,$b,ac,bc,cc,dc,ec,fc,gc,hc,ic,oc,pc,qc,rc,sc,tc,uc,vc,wc,xc,yc,zc,Ac,Bc,Cc,Dc,Ec,Fc,Gc,Hc,Ic,Jc,Kc,Lc,Mc,Nc,Oc,Pc,Qc,Rc,Sc={};"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(f){return f.__proto__}:function(f){return f.constructor.prototype});
(function(){function f(a,c,b,g){this.set(a,c,b,g)}function k(){this.xc=this.wc=this.Ac=this.zc=this.Mc=this.Lc=this.Yb=this.Xb=0}function h(a,c,b,g){a<c?b<g?(t=a<b?a:b,ca=c>g?c:g):(t=a<g?a:g,ca=c>b?c:b):b<g?(t=c<b?c:b,ca=a>g?a:g):(t=c<g?c:g,ca=a>b?a:b)}function n(){this.items=this.Xe=null;this.nk=0;E&&(this.Xe=new Set);this.xj=[];this.ag=!0}function q(a){D[F++]=a}function r(){this.na=this.eb=this.y=this.Fj=0}function e(a){this.Db=[];this.Ol=this.Ql=this.Rl=this.Pl=0;this.il(a)}function a(a,c){this.Zo=
a;this.Yo=c;this.cells={}}function d(a,c){this.Zo=a;this.Yo=c;this.cells={}}function b(a,c,b){var g;return L.length?(g=L.pop(),g.Np=a,g.x=c,g.y=b,g):new na(a,c,b)}function c(a,c,b){this.Np=a;this.x=c;this.y=b;this.fc=new pa}function g(a,c,b){var g;return v.length?(g=v.pop(),g.Np=a,g.x=c,g.y=b,g):new ra(a,c,b)}function m(a,c,b){this.Np=a;this.x=c;this.y=b;this.fc=[];this.Ei=!0;this.Ue=new pa;this.Cj=!1}function l(a,c){return a.Be-c.Be}wa=function(a){window.console&&window.console.log&&window.console.log(a)};
ya=function(a){window.console&&window.console.error&&window.console.error(a)};fa=function(a){return a};za=function(a){return"undefined"===typeof a};Aa=function(a){return"number"===typeof a};Ba=function(a){return"string"===typeof a};Ea=function(a){return 0<a&&0===(a-1&a)};Fa=function(a){--a;for(var c=1;32>c;c<<=1)a=a|a>>c;return a+1};Ga=function(a){return 0>a?-a:a};Ha=function(a,c){return a>c?a:c};Ia=function(a,c){return a<c?a:c};Ja=Math.PI;Ka=function(a){return 0<=a?a|0:(a|0)-1};La=function(a){var c=
a|0;return c===a?c:c+1};Ma=function(a,c,b,g,d,l,m,e){var A,x,w,f;a<b?(x=a,A=b):(x=b,A=a);d<m?(f=d,w=m):(f=m,w=d);if(A<f||x>w)return!1;c<g?(x=c,A=g):(x=g,A=c);l<e?(f=l,w=e):(f=e,w=l);if(A<f||x>w)return!1;A=d-a+m-b;x=l-c+e-g;a=b-a;c=g-c;d=m-d;l=e-l;e=Ga(c*d-l*a);return Ga(d*x-l*A)>e?!1:Ga(a*x-c*A)<=e};f.prototype.set=function(a,c,b,g){this.left=a;this.top=c;this.right=b;this.bottom=g};f.prototype.gi=function(a){this.left=a.left;this.top=a.top;this.right=a.right;this.bottom=a.bottom};f.prototype.width=
function(){return this.right-this.left};f.prototype.height=function(){return this.bottom-this.top};f.prototype.offset=function(a,c){this.left+=a;this.top+=c;this.right+=a;this.bottom+=c;return this};f.prototype.normalize=function(){var a=0;this.left>this.right&&(a=this.left,this.left=this.right,this.right=a);this.top>this.bottom&&(a=this.top,this.top=this.bottom,this.bottom=a)};f.prototype.PB=function(a){return!(a.right<this.left||a.bottom<this.top||a.left>this.right||a.top>this.bottom)};f.prototype.QB=
function(a,c,b){return!(a.right+c<this.left||a.bottom+b<this.top||a.left+c>this.right||a.top+b>this.bottom)};f.prototype.jc=function(a,c){return a>=this.left&&a<=this.right&&c>=this.top&&c<=this.bottom};f.prototype.Oj=function(a){return this.left===a.left&&this.top===a.top&&this.right===a.right&&this.bottom===a.bottom};Na=f;k.prototype.ij=function(a){this.Xb=a.left;this.Yb=a.top;this.Lc=a.right;this.Mc=a.top;this.zc=a.right;this.Ac=a.bottom;this.wc=a.left;this.xc=a.bottom};k.prototype.Jv=function(a,
c){if(0===c)this.ij(a);else{var b=Math.sin(c),g=Math.cos(c),d=a.left*b,l=a.top*b,m=a.right*b,b=a.bottom*b,e=a.left*g,A=a.top*g,x=a.right*g,g=a.bottom*g;this.Xb=e-l;this.Yb=A+d;this.Lc=x-l;this.Mc=A+m;this.zc=x-b;this.Ac=g+m;this.wc=e-b;this.xc=g+d}};k.prototype.offset=function(a,c){this.Xb+=a;this.Yb+=c;this.Lc+=a;this.Mc+=c;this.zc+=a;this.Ac+=c;this.wc+=a;this.xc+=c;return this};var t=0,ca=0;k.prototype.zs=function(a){h(this.Xb,this.Lc,this.zc,this.wc);a.left=t;a.right=ca;h(this.Yb,this.Mc,this.Ac,
this.xc);a.top=t;a.bottom=ca};k.prototype.jc=function(a,c){var b=this.Xb,g=this.Yb,d=this.Lc-b,l=this.Mc-g,m=this.zc-b,e=this.Ac-g,A=a-b,x=c-g,w=d*d+l*l,f=d*m+l*e,l=d*A+l*x,p=m*m+e*e,t=m*A+e*x,u=1/(w*p-f*f),d=(p*l-f*t)*u,w=(w*t-f*l)*u;if(0<=d&&0<w&&1>d+w)return!0;d=this.wc-b;l=this.xc-g;w=d*d+l*l;f=d*m+l*e;l=d*A+l*x;u=1/(w*p-f*f);d=(p*l-f*t)*u;w=(w*t-f*l)*u;return 0<=d&&0<w&&1>d+w};k.prototype.Zf=function(a,c){if(c)switch(a){case 0:return this.Xb;case 1:return this.Lc;case 2:return this.zc;case 3:return this.wc;
case 4:return this.Xb;default:return this.Xb}else switch(a){case 0:return this.Yb;case 1:return this.Mc;case 2:return this.Ac;case 3:return this.xc;case 4:return this.Yb;default:return this.Yb}};k.prototype.uu=function(){return(this.Xb+this.Lc+this.zc+this.wc)/4};k.prototype.vu=function(){return(this.Yb+this.Mc+this.Ac+this.xc)/4};k.prototype.Ft=function(a){var c=a.uu(),b=a.vu();if(this.jc(c,b))return!0;c=this.uu();b=this.vu();if(a.jc(c,b))return!0;var g,d,l,m,e,A,x,w;for(x=0;4>x;x++)for(w=0;4>w;w++)if(c=
this.Zf(x,!0),b=this.Zf(x,!1),g=this.Zf(x+1,!0),d=this.Zf(x+1,!1),l=a.Zf(w,!0),m=a.Zf(w,!1),e=a.Zf(w+1,!0),A=a.Zf(w+1,!1),Ma(c,b,g,d,l,m,e,A))return!0;return!1};Oa=k;Pa=function(a,c){for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b]);return a};Qa=function(a,c){var b,g;c=Ka(c);if(!(0>c||c>=a.length)){b=c;for(g=a.length-1;b<g;b++)a[b]=a[b+1];Ua(a,g)}};Ua=function(a,c){a.length=c};y=function(a){Ua(a,0)};Va=function(a,c){y(a);var b,g;b=0;for(g=c.length;b<g;++b)a[b]=c[b]};Wa=function(a,c){a.push.apply(a,
c)};Xa=function(a,c){var b,g;b=0;for(g=a.length;b<g;++b)if(a[b]===c)return b;return-1};Za=function(a,c){var b=Xa(a,c);-1!==b&&Qa(a,b)};$a=function(a,c,b){return a<c?c:a>b?b:a};bb=function(a){return a/(180/Ja)};cb=function(a){return 180/Ja*a};db=function(a){a%=360;0>a&&(a+=360);return a};eb=function(a){a%=2*Ja;0>a&&(a+=2*Ja);return a};fb=function(a){return db(cb(a))};gb=function(a){return eb(bb(a))};hb=function(a,c,b,g){return Math.atan2(g-c,b-a)};ib=function(a,c){if(a===c)return 0;var b=Math.sin(a),
g=Math.cos(a),d=Math.sin(c),l=Math.cos(c),b=b*d+g*l;return 1<=b?0:-1>=b?Ja:Math.acos(b)};jb=function(a,c,b){var g=Math.sin(a),d=Math.cos(a),l=Math.sin(c),m=Math.cos(c);return Math.acos(g*l+d*m)>b?0<d*l-g*m?eb(a+b):eb(a-b):eb(c)};lb=function(a,c){var b=Math.sin(a),g=Math.cos(a),d=Math.sin(c),l=Math.cos(c);return 0>=g*d-b*l};mb=function(a,c,b,g,d,l){if(0===b)return l?a:c;var m=Math.sin(b);b=Math.cos(b);a-=g;c-=d;var e=a*m;a=a*b-c*m;c=c*b+e;return l?a+g:c+d};nb=function(a,c,b,g){a=b-a;c=g-c;return Math.sqrt(a*
a+c*c)};vb=function(a,c){return!a!==!c};wb=function(a,c,b){return a+(c-a)*b};xb=function(a){for(var c in a)if(a.hasOwnProperty(c))return!0;return!1};yb=function(a){for(var c in a)a.hasOwnProperty(c)&&delete a[c]};var P=+new Date;zb=function(){if("undefined"!==typeof window.performance){var a=window.performance;if("undefined"!==typeof a.now)return a.now();if("undefined"!==typeof a.webkitNow)return a.webkitNow();if("undefined"!==typeof a.mozNow)return a.mozNow();if("undefined"!==typeof a.msNow)return a.msNow()}return Date.now()-
P};var p=!1,u=p=!1,I=!1;"undefined"!==typeof window&&(p=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent),p=!p&&/safari/i.test(navigator.userAgent),u=/(iphone|ipod|ipad)/i.test(navigator.userAgent),I=window.c2ejecta);var E=!p&&!I&&!u&&"undefined"!==typeof Set&&"undefined"!==typeof Set.prototype.forEach;n.prototype.contains=function(a){return this.uf()?!1:E?this.Xe.has(a):this.items&&this.items.hasOwnProperty(a)};n.prototype.add=function(a){if(E)this.Xe.has(a)||(this.Xe.add(a),
this.ag=!1);else{var c=a.toString(),b=this.items;b?b.hasOwnProperty(c)||(b[c]=a,this.nk++,this.ag=!1):(this.items={},this.items[c]=a,this.nk=1,this.ag=!1)}};n.prototype.remove=function(a){if(!this.uf())if(E)this.Xe.has(a)&&(this.Xe["delete"](a),this.ag=!1);else if(this.items){a=a.toString();var c=this.items;c.hasOwnProperty(a)&&(delete c[a],this.nk--,this.ag=!1)}};n.prototype.clear=function(){this.uf()||(E?this.Xe.clear():(this.items=null,this.nk=0),y(this.xj),this.ag=!0)};n.prototype.uf=function(){return 0===
this.count()};n.prototype.count=function(){return E?this.Xe.size:this.nk};var D=null,F=0;n.prototype.iE=function(){if(!this.ag){if(E)y(this.xj),D=this.xj,F=0,this.Xe.forEach(q),D=null,F=0;else{var a=this.xj;y(a);var c,b=0,g=this.items;if(g)for(c in g)g.hasOwnProperty(c)&&(a[b++]=g[c])}this.ag=!0}};n.prototype.ge=function(){this.iE();return this.xj};pa=n;new pa;Ab=function(a,c){E?Bb(a,c.Xe):Cb(a,c.ge())};Bb=function(a,c){var b,g,d,l;g=b=0;for(d=a.length;b<d;++b)l=a[b],c.has(l)||(a[g++]=l);Ua(a,g)};
Cb=function(a,c){var b,g,d,l;g=b=0;for(d=a.length;b<d;++b)l=a[b],-1===Xa(c,l)&&(a[g++]=l);Ua(a,g)};r.prototype.add=function(a){this.y=a-this.Fj;this.eb=this.na+this.y;this.Fj=this.eb-this.na-this.y;this.na=this.eb};r.prototype.reset=function(){this.na=this.eb=this.y=this.Fj=0};Db=r;Eb=function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};e.prototype.il=function(a){this.kv=a;this.ae=a.length/2;this.Db.length=a.length;this.Ul=this.Vl=-1;this.Cs=0};e.prototype.wh=function(){return!this.kv.length};
e.prototype.xa=function(){for(var a=this.Db,c=a[0],b=c,g=a[1],d=g,l,m,e=1,A=this.ae;e<A;++e)m=2*e,l=a[m],m=a[m+1],l<c&&(c=l),l>b&&(b=l),m<g&&(g=m),m>d&&(d=m);this.Pl=c;this.Ql=b;this.Rl=g;this.Ol=d};e.prototype.ij=function(a,c,b){this.Db.length=8;this.ae=4;var g=this.Db;g[0]=a.left-c;g[1]=a.top-b;g[2]=a.right-c;g[3]=a.top-b;g[4]=a.right-c;g[5]=a.bottom-b;g[6]=a.left-c;g[7]=a.bottom-b;this.Vl=a.right-a.left;this.Ul=a.bottom-a.top;this.xa()};e.prototype.hj=function(a,c,b,g,d){this.Db.length=8;this.ae=
4;var l=this.Db;l[0]=a.Xb-c;l[1]=a.Yb-b;l[2]=a.Lc-c;l[3]=a.Mc-b;l[4]=a.zc-c;l[5]=a.Ac-b;l[6]=a.wc-c;l[7]=a.xc-b;this.Vl=g;this.Ul=d;this.xa()};e.prototype.Iv=function(a){this.ae=a.ae;Va(this.Db,a.Db);this.Pl=a.Pl;this.Rl-a.Rl;this.Ql=a.Ql;this.Ol=a.Ol};e.prototype.Yg=function(a,c,b){if(this.Vl!==a||this.Ul!==c||this.Cs!==b){this.Vl=a;this.Ul=c;this.Cs=b;var g,d,l,m,e,A=0,x=1,w=this.kv,f=this.Db;0!==b&&(A=Math.sin(b),x=Math.cos(b));b=0;for(l=this.ae;b<l;b++)g=2*b,d=g+1,m=w[g]*a,e=w[d]*c,f[g]=m*x-e*
A,f[d]=e*x+m*A;this.xa()}};e.prototype.jc=function(a,c){var b=this.Db;if(a===b[0]&&c===b[1])return!0;var g,d,l,m=this.ae,e=this.Pl-110,A=this.Rl-101,x=this.Ql+131,f=this.Ol+120,p,t,u=0,k=0;for(g=0;g<m;g++)d=2*g,l=(g+1)%m*2,p=b[d],d=b[d+1],t=b[l],l=b[l+1],Ma(e,A,a,c,p,d,t,l)&&u++,Ma(x,f,a,c,p,d,t,l)&&k++;return 1===u%2||1===k%2};e.prototype.bk=function(a,c,b){var g=a.Db,d=this.Db;if(this.jc(g[0]+c,g[1]+b)||a.jc(d[0]-c,d[1]-b))return!0;var l,m,e,A,x,f,p,t,u,k,h,n;l=0;for(A=this.ae;l<A;l++)for(m=2*l,
e=(l+1)%A*2,t=d[m],m=d[m+1],u=d[e],k=d[e+1],e=0,p=a.ae;e<p;e++)if(x=2*e,f=(e+1)%p*2,h=g[x]+c,x=g[x+1]+b,n=g[f]+c,f=g[f+1]+b,Ma(t,m,u,k,h,x,n,f))return!0;return!1};Fb=e;a.prototype.lg=function(a,c,g){var d;d=this.cells[a];return d?(d=d[c])?d:g?(d=b(this,a,c),this.cells[a][c]=d):null:g?(d=b(this,a,c),this.cells[a]={},this.cells[a][c]=d):null};a.prototype.Rc=function(a){return Ka(a/this.Zo)};a.prototype.Sc=function(a){return Ka(a/this.Yo)};a.prototype.update=function(a,c,b){var g,d,l,m,e;if(c)for(g=
c.left,d=c.right;g<=d;++g)for(l=c.top,m=c.bottom;l<=m;++l)if(!b||!b.jc(g,l))if(e=this.lg(g,l,!1))e.remove(a),e.uf()&&(e.fc.clear(),1E3>L.length&&L.push(e),this.cells[g][l]=null);if(b)for(g=b.left,d=b.right;g<=d;++g)for(l=b.top,m=b.bottom;l<=m;++l)c&&c.jc(g,l)||this.lg(g,l,!0).pg(a)};a.prototype.Jn=function(a,c){var b,g,d,l,m,e;b=this.Rc(a.left);d=this.Sc(a.top);g=this.Rc(a.right);for(m=this.Sc(a.bottom);b<=g;++b)for(l=d;l<=m;++l)(e=this.lg(b,l,!1))&&e.dump(c)};Gb=a;d.prototype.lg=function(a,c,b){var d;
d=this.cells[a];return d?(d=d[c])?d:b?(d=g(this,a,c),this.cells[a][c]=d):null:b?(d=g(this,a,c),this.cells[a]={},this.cells[a][c]=d):null};d.prototype.Rc=function(a){return Ka(a/this.Zo)};d.prototype.Sc=function(a){return Ka(a/this.Yo)};d.prototype.update=function(a,c,b){var g,d,l,m,e;if(c)for(g=c.left,d=c.right;g<=d;++g)for(l=c.top,m=c.bottom;l<=m;++l)if(!b||!b.jc(g,l))if(e=this.lg(g,l,!1))e.remove(a),e.uf()&&(e.reset(),1E3>v.length&&v.push(e),this.cells[g][l]=null);if(b)for(g=b.left,d=b.right;g<=
d;++g)for(l=b.top,m=b.bottom;l<=m;++l)c&&c.jc(g,l)||this.lg(g,l,!0).pg(a)};d.prototype.Jn=function(a,c,b,g,d){var l,m;a=this.Rc(a);c=this.Sc(c);b=this.Rc(b);for(l=this.Sc(g);a<=b;++a)for(g=c;g<=l;++g)(m=this.lg(a,g,!1))&&m.dump(d)};d.prototype.pC=function(a){var c,b,g,d,l;c=a.left;g=a.top;b=a.right;for(d=a.bottom;c<=b;++c)for(a=g;a<=d;++a)if(l=this.lg(c,a,!1))l.Ei=!1};Hb=d;var L=[];c.prototype.uf=function(){return this.fc.uf()};c.prototype.pg=function(a){this.fc.add(a)};c.prototype.remove=function(a){this.fc.remove(a)};
c.prototype.dump=function(a){Wa(a,this.fc.ge())};na=c;var v=[];m.prototype.uf=function(){if(!this.fc.length)return!0;if(this.fc.length>this.Ue.count())return!1;this.yp();return!0};m.prototype.pg=function(a){this.Ue.contains(a)?(this.Ue.remove(a),this.Ue.uf()&&(this.Cj=!1)):this.fc.length?(this.fc[this.fc.length-1].Td()>a.Td()&&(this.Ei=!1),this.fc.push(a)):(this.fc.push(a),this.Ei=!0)};m.prototype.remove=function(a){this.Ue.add(a);this.Cj=!0;30<=this.Ue.count()&&this.yp()};m.prototype.yp=function(){this.Cj&&
(this.Ue.count()===this.fc.length?this.reset():(Ab(this.fc,this.Ue),this.Ue.clear(),this.Cj=!1))};m.prototype.nA=function(){this.Ei||(this.fc.sort(l),this.Ei=!0)};m.prototype.reset=function(){y(this.fc);this.Ei=!0;this.Ue.clear();this.Cj=!1};m.prototype.dump=function(a){this.yp();this.nA();this.fc.length&&a.push(this.fc)};ra=m;var C="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");Ib=function(a){return 0>=a||11<=a?"source-over":
C[a-1]};Kb=function(a,c,b){if(b)switch(a.Jc=b.ONE,a.Dc=b.ONE_MINUS_SRC_ALPHA,c){case 1:a.Jc=b.ONE;a.Dc=b.ONE;break;case 3:a.Jc=b.ONE;a.Dc=b.ZERO;break;case 4:a.Jc=b.ONE_MINUS_DST_ALPHA;a.Dc=b.ONE;break;case 5:a.Jc=b.DST_ALPHA;a.Dc=b.ZERO;break;case 6:a.Jc=b.ZERO;a.Dc=b.SRC_ALPHA;break;case 7:a.Jc=b.ONE_MINUS_DST_ALPHA;a.Dc=b.ZERO;break;case 8:a.Jc=b.ZERO;a.Dc=b.ONE_MINUS_SRC_ALPHA;break;case 9:a.Jc=b.DST_ALPHA;a.Dc=b.ONE_MINUS_SRC_ALPHA;break;case 10:a.Jc=b.ONE_MINUS_DST_ALPHA,a.Dc=b.SRC_ALPHA}};
Vb=function(a){return Math.round(1E6*a)/1E6};Wb=function(a,c){return"string"!==typeof a||"string"!==typeof c||a.length!==c.length?!1:a===c?!0:a.toLowerCase()===c.toLowerCase()};Xb=function(a){a=a.target;return!a||a===document||a===window||document&&document.body&&a===document.body||Wb(a.tagName,"canvas")?!0:!1}})();var Tc="undefined"!==typeof Float32Array?Float32Array:Array;function Uc(f){var k=new Tc(3);f&&(k[0]=f[0],k[1]=f[1],k[2]=f[2]);return k}
function Vc(f){var k=new Tc(16);f&&(k[0]=f[0],k[1]=f[1],k[2]=f[2],k[3]=f[3],k[4]=f[4],k[5]=f[5],k[6]=f[6],k[7]=f[7],k[8]=f[8],k[9]=f[9],k[10]=f[10],k[11]=f[11],k[12]=f[12],k[13]=f[13],k[14]=f[14],k[15]=f[15]);return k}function Wc(f,k){k[0]=f[0];k[1]=f[1];k[2]=f[2];k[3]=f[3];k[4]=f[4];k[5]=f[5];k[6]=f[6];k[7]=f[7];k[8]=f[8];k[9]=f[9];k[10]=f[10];k[11]=f[11];k[12]=f[12];k[13]=f[13];k[14]=f[14];k[15]=f[15]}
function Xc(f,k){var h=k[0],n=k[1];k=k[2];f[0]*=h;f[1]*=h;f[2]*=h;f[3]*=h;f[4]*=n;f[5]*=n;f[6]*=n;f[7]*=n;f[8]*=k;f[9]*=k;f[10]*=k;f[11]*=k}
function Yc(f,k,h,n){n||(n=Vc());var q,r,e,a,d,b,c,g,m=f[0],l=f[1];f=f[2];r=h[0];e=h[1];q=h[2];h=k[1];b=k[2];m===k[0]&&l===h&&f===b?(f=n,f[0]=1,f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[5]=1,f[6]=0,f[7]=0,f[8]=0,f[9]=0,f[10]=1,f[11]=0,f[12]=0,f[13]=0,f[14]=0,f[15]=1):(h=m-k[0],b=l-k[1],c=f-k[2],g=1/Math.sqrt(h*h+b*b+c*c),h*=g,b*=g,c*=g,k=e*c-q*b,q=q*h-r*c,r=r*b-e*h,(g=Math.sqrt(k*k+q*q+r*r))?(g=1/g,k*=g,q*=g,r*=g):r=q=k=0,e=b*r-c*q,a=c*k-h*r,d=h*q-b*k,(g=Math.sqrt(e*e+a*a+d*d))?(g=1/g,e*=g,a*=g,d*=g):d=a=e=0,
n[0]=k,n[1]=e,n[2]=h,n[3]=0,n[4]=q,n[5]=a,n[6]=b,n[7]=0,n[8]=r,n[9]=d,n[10]=c,n[11]=0,n[12]=-(k*m+q*l+r*f),n[13]=-(e*m+a*l+d*f),n[14]=-(h*m+b*l+c*f),n[15]=1)}
(function(){function f(a,d,b){this.vf=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent);this.height=this.width=0;this.Za=!!b;this.Im=this.dk=!1;this.np=0;this.Do=1;this.Ur=1E3;this.rE=(this.Ur-this.Do)/32768;this.Wo=Uc([0,0,100]);this.du=Uc([0,0,0]);this.lw=Uc([0,1,0]);this.Bl=Uc([1,1,1]);this.Ts=!0;this.gn=Vc();this.Gd=Vc();this.mq=Vc();this.mp=Vc();this.I=a;this.version=0===this.I.getParameter(this.I.VERSION).indexOf("WebGL 2")?2:1;this.At()}function k(a,d,b){this.I=a;this.jl=
d;this.name=b;this.Xd=a.getAttribLocation(d,"aPos");this.zg=a.getAttribLocation(d,"aTex");this.au=a.getUniformLocation(d,"matP");this.bn=a.getUniformLocation(d,"matMV");this.Oi=a.getUniformLocation(d,"opacity");this.uq=a.getUniformLocation(d,"colorFill");this.bu=a.getUniformLocation(d,"samplerFront");this.Ek=a.getUniformLocation(d,"samplerBack");this.Bh=a.getUniformLocation(d,"destStart");this.Ah=a.getUniformLocation(d,"destEnd");this.Gk=a.getUniformLocation(d,"seconds");this.wq=a.getUniformLocation(d,
"pixelWidth");this.vq=a.getUniformLocation(d,"pixelHeight");this.Dk=a.getUniformLocation(d,"layerScale");this.Ck=a.getUniformLocation(d,"layerAngle");this.Hk=a.getUniformLocation(d,"viewOrigin");this.Fk=a.getUniformLocation(d,"scrollPos");this.HB=!!(this.wq||this.vq||this.Gk||this.Ek||this.Bh||this.Ah||this.Dk||this.Ck||this.Hk||this.Fk);this.mu=this.nu=-999;this.en=1;this.iu=this.hu=0;this.ku=this.gu=this.fu=1;this.qu=this.pu=this.ou=this.su=this.ru=this.ju=0;this.lq=[];this.lu=Vc();this.Oi&&a.uniform1f(this.Oi,
1);this.uq&&a.uniform4f(this.uq,1,1,1,1);this.bu&&a.uniform1i(this.bu,0);this.Ek&&a.uniform1i(this.Ek,1);this.Bh&&a.uniform2f(this.Bh,0,0);this.Ah&&a.uniform2f(this.Ah,1,1);this.Dk&&a.uniform1f(this.Dk,1);this.Ck&&a.uniform1f(this.Ck,0);this.Hk&&a.uniform2f(this.Hk,0,0);this.Fk&&a.uniform2f(this.Fk,0,0);this.Gk&&a.uniform1f(this.Gk,0);this.rh=!1}function h(a,d){return a[0]===d[0]&&a[1]===d[1]&&a[2]===d[2]&&a[3]===d[3]&&a[4]===d[4]&&a[5]===d[5]&&a[6]===d[6]&&a[7]===d[7]&&a[8]===d[8]&&a[9]===d[9]&&
a[10]===d[10]&&a[11]===d[11]&&a[12]===d[12]&&a[13]===d[13]&&a[14]===d[14]&&a[15]===d[15]}function n(a,d){this.type=a;this.F=d;this.I=d.I;this.Ud=this.Kc=this.Su=0;this.ma=this.fe=null;this.Kv=[]}var q=Vc();f.prototype.At=function(){var a=this.I,d;this.Qt=1;this.xh=this.tg=null;this.cm=1;a.clearColor(0,0,0,0);a.clear(a.COLOR_BUFFER_BIT);a.enable(a.BLEND);a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA);a.disable(a.CULL_FACE);a.disable(a.STENCIL_TEST);a.disable(a.DITHER);this.Za?(a.enable(a.DEPTH_TEST),a.depthFunc(a.LEQUAL)):
a.disable(a.DEPTH_TEST);this.Rt=a.ONE;this.Pt=a.ONE_MINUS_SRC_ALPHA;this.xo=new Float32Array(8E3*(this.Za?3:2));this.bo=new Float32Array(16E3);this.Sq=new Float32Array(32E3);this.Rq=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.Rq);a.bufferData(a.ARRAY_BUFFER,this.Sq.byteLength,a.DYNAMIC_DRAW);this.Al=Array(4);this.sl=Array(4);for(d=0;4>d;d++)this.Al[d]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.Al[d]),a.bufferData(a.ARRAY_BUFFER,this.xo.byteLength,a.DYNAMIC_DRAW),this.sl[d]=a.createBuffer(),
a.bindBuffer(a.ARRAY_BUFFER,this.sl[d]),a.bufferData(a.ARRAY_BUFFER,this.bo.byteLength,a.DYNAMIC_DRAW);this.kf=0;this.NB=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.NB);for(var b=new Uint16Array(12E3),c=d=0;12E3>d;)b[d++]=c,b[d++]=c+1,b[d++]=c+2,b[d++]=c,b[d++]=c+2,b[d++]=c+3,c+=4;a.bufferData(a.ELEMENT_ARRAY_BUFFER,b,a.STATIC_DRAW);this.Yi=this.lj=this.Pf=0;this.rb=[];d=this.Za?"attribute highp vec3 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, aPos.z, 1.0);\n\tvTex = aTex;\n}":
"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}";b=this.Ij({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},d,"<default>");this.rb.push(b);b=this.Ij({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},
"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}","<point>");this.rb.push(b);b=this.Ij({src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tif (texture2D(samplerFront, vTex).a < 1.0)\n\t\tdiscard;\n}"},d,"<earlyz>");this.rb.push(b);b=this.Ij({src:"uniform lowp vec4 colorFill;\nvoid main(void) {\n\tgl_FragColor = colorFill;\n}"},
d,"<fill>");this.rb.push(b);for(var g in Zc)Zc.hasOwnProperty(g)&&this.rb.push(this.Ij(Zc[g],d,g));a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,null);this.gf=[];this.Fe=0;this.Gc=this.mc=!1;this.Ps=this.uk=-1;this.ii=null;this.xp=a.createFramebuffer();this.hm=this.Ln=null;this.ws=!1;this.Za&&(this.hm=a.createRenderbuffer());this.Qg=Uc([0,0,0]);a=a.getParameter(a.ALIASED_POINT_SIZE_RANGE);this.rC=a[0];this.zq=a[1];2048<this.zq&&(this.zq=2048);this.dd(0)};k.prototype.Lr=function(a){h(this.lu,
a)||(Wc(a,this.lu),this.I.uniformMatrix4fv(this.bn,!1,a))};f.prototype.Ij=function(a,d,b){var c=this.I,g=c.createShader(c.FRAGMENT_SHADER);c.shaderSource(g,a.src);c.compileShader(g);if(!c.getShaderParameter(g,c.COMPILE_STATUS))throw a=c.getShaderInfoLog(g),c.deleteShader(g),Error("error compiling fragment shader: "+a);var m=c.createShader(c.VERTEX_SHADER);c.shaderSource(m,d);c.compileShader(m);if(!c.getShaderParameter(m,c.COMPILE_STATUS))throw a=c.getShaderInfoLog(m),c.deleteShader(g),c.deleteShader(m),
Error("error compiling vertex shader: "+a);d=c.createProgram();c.attachShader(d,g);c.attachShader(d,m);c.linkProgram(d);if(!c.getProgramParameter(d,c.LINK_STATUS))throw a=c.getProgramInfoLog(d),c.deleteShader(g),c.deleteShader(m),c.deleteProgram(d),Error("error linking shader program: "+a);c.useProgram(d);c.deleteShader(g);c.deleteShader(m);g=new k(c,d,b);g.lh=a.lh||0;g.mh=a.mh||0;g.hi=!!a.hi;g.Zc=!!a.Zc;g.bi=!!a.bi;g.Z=a.Z||[];a=0;for(m=g.Z.length;a<m;a++)g.Z[a][1]=c.getUniformLocation(d,g.Z[a][0]),
g.lq.push(0),c.uniform1f(g.Z[a][1],0);return g};f.prototype.Kp=function(a){var d,b;d=0;for(b=this.rb.length;d<b;d++)if(this.rb[d].name===a)return d;return-1};f.prototype.Hn=function(a,d,b){var c=this.Gd,g=this.gn,m=[0,0,0,0,0,0,0,0];m[0]=c[0]*a+c[4]*d+c[12];m[1]=c[1]*a+c[5]*d+c[13];m[2]=c[2]*a+c[6]*d+c[14];m[3]=c[3]*a+c[7]*d+c[15];m[4]=g[0]*m[0]+g[4]*m[1]+g[8]*m[2]+g[12]*m[3];m[5]=g[1]*m[0]+g[5]*m[1]+g[9]*m[2]+g[13]*m[3];m[6]=g[2]*m[0]+g[6]*m[1]+g[10]*m[2]+g[14]*m[3];m[7]=-m[2];0!==m[7]&&(m[7]=1/
m[7],m[4]*=m[7],m[5]*=m[7],m[6]*=m[7],b[0]=(.5*m[4]+.5)*this.width,b[1]=(.5*m[5]+.5)*this.height)};f.prototype.Ph=function(a,d,b){if(this.width!==a||this.height!==d||b){this.nf();b=this.I;this.width=a;this.height=d;b.viewport(0,0,a,d);Yc(this.Wo,this.du,this.lw,this.Gd);if(this.Za){var c=-a/2;a=a/2;var g=d/2;d=-d/2;var m=this.Do,l=this.Ur,e=this.gn;e||(e=Vc());var f=a-c,k=d-g,p=l-m;e[0]=2/f;e[1]=0;e[2]=0;e[3]=0;e[4]=0;e[5]=2/k;e[6]=0;e[7]=0;e[8]=0;e[9]=0;e[10]=-2/p;e[11]=0;e[12]=-(c+a)/f;e[13]=-(d+
g)/k;e[14]=-(l+m)/p;e[15]=1;this.Bl[0]=1;this.Bl[1]=1}else d=a/d,c=this.Do,a=this.Ur,e=this.gn,l=c*Math.tan(45*Math.PI/360),d*=l,g=-d,m=-l,e||(e=Vc()),f=d-g,k=l-m,p=a-c,e[0]=2*c/f,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*c/k,e[6]=0,e[7]=0,e[8]=(d+g)/f,e[9]=(l+m)/k,e[10]=-(a+c)/p,e[11]=-1,e[12]=0,e[13]=0,e[14]=-(a*c*2)/p,e[15]=0,c=[0,0],a=[0,0],this.Hn(0,0,c),this.Hn(1,1,a),this.Bl[0]=1/(a[0]-c[0]),this.Bl[1]=-1/(a[1]-c[1]);c=0;for(a=this.rb.length;c<a;c++)g=this.rb[c],g.rh=!1,g.au&&(b.useProgram(g.jl),
b.uniformMatrix4fv(g.au,!1,this.gn));b.useProgram(this.rb[this.uk].jl);b.bindTexture(b.TEXTURE_2D,null);b.activeTexture(b.TEXTURE1);b.bindTexture(b.TEXTURE_2D,null);b.activeTexture(b.TEXTURE0);this.xh=this.tg=null;this.hm&&(b.bindFramebuffer(b.FRAMEBUFFER,this.xp),b.bindRenderbuffer(b.RENDERBUFFER,this.hm),b.renderbufferStorage(b.RENDERBUFFER,b.DEPTH_COMPONENT16,this.width,this.height),this.ws||(b.framebufferRenderbuffer(b.FRAMEBUFFER,b.DEPTH_ATTACHMENT,b.RENDERBUFFER,this.hm),this.ws=!0),b.bindRenderbuffer(b.RENDERBUFFER,
null),b.bindFramebuffer(b.FRAMEBUFFER,null),this.Ln=null)}};f.prototype.be=function(){Yc(this.Wo,this.du,this.lw,this.Gd);Xc(this.Gd,this.Bl)};f.prototype.translate=function(a,d){if(0!==a||0!==d){this.Qg[0]=a;this.Qg[1]=d;this.Qg[2]=0;var b=this.Gd,c=this.Qg,g=c[0],m=c[1],c=c[2];b[12]=b[0]*g+b[4]*m+b[8]*c+b[12];b[13]=b[1]*g+b[5]*m+b[9]*c+b[13];b[14]=b[2]*g+b[6]*m+b[10]*c+b[14];b[15]=b[3]*g+b[7]*m+b[11]*c+b[15]}};f.prototype.scale=function(a,d){if(1!==a||1!==d)this.Qg[0]=a,this.Qg[1]=d,this.Qg[2]=
1,Xc(this.Gd,this.Qg)};f.prototype.Nn=function(a){if(0!==a){var d=this.Gd,b,c=Math.sin(a);a=Math.cos(a);var g=d[0],m=d[1],l=d[2],e=d[3],f=d[4],k=d[5],p=d[6],u=d[7];b?d!==b&&(b[8]=d[8],b[9]=d[9],b[10]=d[10],b[11]=d[11],b[12]=d[12],b[13]=d[13],b[14]=d[14],b[15]=d[15]):b=d;b[0]=g*a+f*c;b[1]=m*a+k*c;b[2]=l*a+p*c;b[3]=e*a+u*c;b[4]=g*-c+f*a;b[5]=m*-c+k*a;b[6]=l*-c+p*a;b[7]=e*-c+u*a}};f.prototype.Md=function(){if(!h(this.mq,this.Gd)){var a=this.$c();a.type=5;a.ma?Wc(this.Gd,a.ma):a.ma=Vc(this.Gd);Wc(this.Gd,
this.mq);this.Gc=this.mc=!1}};f.prototype.Sn=function(a){this.Za&&(32760<a&&(a=32760),this.np=this.Wo[2]-this.Do-a*this.rE)};n.prototype.Yz=function(){var a=this.I,d=this.F;0!==this.Kc?(a.depthMask(!0),a.colorMask(!1,!1,!1,!1),a.disable(a.BLEND),a.bindFramebuffer(a.FRAMEBUFFER,d.xp),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),a.clear(a.DEPTH_BUFFER_BIT),a.bindFramebuffer(a.FRAMEBUFFER,null),d.Im=!0):(a.depthMask(!1),a.colorMask(!0,!0,!0,!0),a.enable(a.BLEND),d.Im=
!1)};n.prototype.bA=function(){this.I.bindTexture(this.I.TEXTURE_2D,this.fe)};n.prototype.cA=function(){var a=this.I;a.activeTexture(a.TEXTURE1);a.bindTexture(a.TEXTURE_2D,this.fe);a.activeTexture(a.TEXTURE0)};n.prototype.Zz=function(){var a=this.Su,d=this.F;d.cm=a;d=d.ii;d.Oi&&d.en!==a&&(d.en=a,this.I.uniform1f(d.Oi,a))};n.prototype.Tz=function(){this.I.drawElements(this.I.TRIANGLES,this.Ud,this.I.UNSIGNED_SHORT,this.Kc)};n.prototype.Vz=function(){this.I.blendFunc(this.Kc,this.Ud)};n.prototype.dA=
function(){var a,d,b,c=this.F.rb,g=this.F.Ps;a=0;for(d=c.length;a<d;a++)b=c[a],a===g&&b.bn?(b.Lr(this.ma),b.rh=!0):b.rh=!1;Wc(this.ma,this.F.mp)};n.prototype.Uz=function(){var a=this.I,d=this.F;this.fe?(d.xh===this.fe&&(a.activeTexture(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,null),d.xh=null,a.activeTexture(a.TEXTURE0)),a.bindFramebuffer(a.FRAMEBUFFER,d.xp),d.Im||a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,this.fe,0)):(d.Za||a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,
a.TEXTURE_2D,null,0),a.bindFramebuffer(a.FRAMEBUFFER,null))};n.prototype.Qz=function(){var a=this.I,d=this.Kc;0===d?(a.clearColor(this.ma[0],this.ma[1],this.ma[2],this.ma[3]),a.clear(a.COLOR_BUFFER_BIT)):1===d?(a.enable(a.SCISSOR_TEST),a.scissor(this.ma[0],this.ma[1],this.ma[2],this.ma[3]),a.clearColor(0,0,0,0),a.clear(a.COLOR_BUFFER_BIT),a.disable(a.SCISSOR_TEST)):a.clear(a.DEPTH_BUFFER_BIT)};n.prototype.Xz=function(){var a=this.I;0!==this.Kc?a.enable(a.DEPTH_TEST):a.disable(a.DEPTH_TEST)};n.prototype.Sz=
function(){var a=this.I,d=this.F;d.Za&&a.disable(a.DEPTH_TEST);var b=d.rb[1];a.useProgram(b.jl);!b.rh&&b.bn&&(b.Lr(d.mp),b.rh=!0);a.enableVertexAttribArray(b.Xd);a.bindBuffer(a.ARRAY_BUFFER,d.Rq);a.vertexAttribPointer(b.Xd,4,a.FLOAT,!1,0,0);a.drawArrays(a.POINTS,this.Kc/4,this.Ud);b=d.ii;a.useProgram(b.jl);0<=b.Xd&&(a.enableVertexAttribArray(b.Xd),a.bindBuffer(a.ARRAY_BUFFER,d.Al[d.kf]),a.vertexAttribPointer(b.Xd,d.Za?3:2,a.FLOAT,!1,0,0));0<=b.zg&&(a.enableVertexAttribArray(b.zg),a.bindBuffer(a.ARRAY_BUFFER,
d.sl[d.kf]),a.vertexAttribPointer(b.zg,2,a.FLOAT,!1,0,0));d.Za&&a.enable(a.DEPTH_TEST)};n.prototype.$z=function(){var a=this.I,d=this.F,b=d.rb[this.Kc];d.Ps=this.Kc;d.ii=b;a.useProgram(b.jl);!b.rh&&b.bn&&(b.Lr(d.mp),b.rh=!0);b.Oi&&b.en!==d.cm&&(b.en=d.cm,a.uniform1f(b.Oi,d.cm));0<=b.Xd&&(a.enableVertexAttribArray(b.Xd),a.bindBuffer(a.ARRAY_BUFFER,d.Al[d.kf]),a.vertexAttribPointer(b.Xd,d.Za?3:2,a.FLOAT,!1,0,0));0<=b.zg&&(a.enableVertexAttribArray(b.zg),a.bindBuffer(a.ARRAY_BUFFER,d.sl[d.kf]),a.vertexAttribPointer(b.zg,
2,a.FLOAT,!1,0,0))};n.prototype.Wz=function(){var a=this.ma;this.I.uniform4f(this.F.ii.uq,a[0],a[1],a[2],a[3])};n.prototype.aA=function(){var a,d,b=this.F.ii,c=this.I;a=this.ma;b.Ek&&this.F.xh!==this.fe&&(c.activeTexture(c.TEXTURE1),c.bindTexture(c.TEXTURE_2D,this.fe),this.F.xh=this.fe,c.activeTexture(c.TEXTURE0));var g=a[0];b.wq&&g!==b.nu&&(b.nu=g,c.uniform1f(b.wq,g));g=a[1];b.vq&&g!==b.mu&&(b.mu=g,c.uniform1f(b.vq,g));g=a[2];d=a[3];!b.Bh||g===b.hu&&d===b.iu||(b.hu=g,b.iu=d,c.uniform2f(b.Bh,g,d));
g=a[4];d=a[5];!b.Ah||g===b.fu&&d===b.gu||(b.fu=g,b.gu=d,c.uniform2f(b.Ah,g,d));g=a[6];b.Dk&&g!==b.ku&&(b.ku=g,c.uniform1f(b.Dk,g));g=a[7];b.Ck&&g!==b.ju&&(b.ju=g,c.uniform1f(b.Ck,g));g=a[8];d=a[9];!b.Hk||g===b.ru&&d===b.su||(b.ru=g,b.su=d,c.uniform2f(b.Hk,g,d));g=a[10];d=a[11];!b.Fk||g===b.ou&&d===b.pu||(b.ou=g,b.pu=d,c.uniform2f(b.Fk,g,d));g=a[12];b.Gk&&g!==b.qu&&(b.qu=g,c.uniform1f(b.Gk,g));if(b.Z.length)for(a=0,d=b.Z.length;a<d;a++)g=this.Kv[a],g!==b.lq[a]&&(b.lq[a]=g,c.uniform1f(b.Z[a][1],g))};
f.prototype.$c=function(){this.Fe===this.gf.length&&this.gf.push(new n(0,this));return this.gf[this.Fe++]};f.prototype.nf=function(){if(0!==this.Fe&&!this.I.isContextLost()){var a=this.I;0<this.Yi&&(a.bindBuffer(a.ARRAY_BUFFER,this.Rq),a.bufferSubData(a.ARRAY_BUFFER,0,this.Sq.subarray(0,this.Yi)),d&&0<=d.Xd&&"<point>"===d.name&&a.vertexAttribPointer(d.Xd,4,a.FLOAT,!1,0,0));if(0<this.Pf){var d=this.ii;a.bindBuffer(a.ARRAY_BUFFER,this.Al[this.kf]);a.bufferSubData(a.ARRAY_BUFFER,0,this.xo.subarray(0,
this.Pf));d&&0<=d.Xd&&"<point>"!==d.name&&a.vertexAttribPointer(d.Xd,this.Za?3:2,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.sl[this.kf]);a.bufferSubData(a.ARRAY_BUFFER,0,this.bo.subarray(0,this.lj));d&&0<=d.zg&&"<point>"!==d.name&&a.vertexAttribPointer(d.zg,2,a.FLOAT,!1,0,0)}for(var b,a=0,d=this.Fe;a<d;a++)switch(b=this.gf[a],b.type){case 1:b.Tz();break;case 2:b.bA();break;case 3:b.Zz();break;case 4:b.Vz();break;case 5:b.dA();break;case 6:b.Uz();break;case 7:b.Qz();break;case 8:b.Sz();break;
case 9:b.$z();break;case 10:b.aA();break;case 11:b.cA();break;case 12:b.Wz();break;case 13:b.Xz();break;case 14:b.Yz()}this.Yi=this.lj=this.Pf=this.Fe=0;this.Im=this.Gc=this.mc=!1;this.kf++;4<=this.kf&&(this.kf=0)}};f.prototype.Mg=function(a){if(a!==this.Qt&&!this.dk){var d=this.$c();d.type=3;this.Qt=d.Su=a;this.Gc=this.mc=!1}};f.prototype.cd=function(a){if(a!==this.tg){var d=this.$c();d.type=2;this.tg=d.fe=a;this.Gc=this.mc=!1}};f.prototype.Lg=function(a,d){if((a!==this.Rt||d!==this.Pt)&&!this.dk){var b=
this.$c();b.type=4;b.Kc=a;b.Ud=d;this.Rt=a;this.Pt=d;this.Gc=this.mc=!1}};f.prototype.wv=function(){this.Lg(this.I.ONE,this.I.ONE_MINUS_SRC_ALPHA)};f.prototype.$i=function(a,d,b,c,g,m,l,e){15992<=this.Pf&&this.nf();var f=this.Pf,k=this.lj,p=this.xo,u=this.bo,h=this.np;if(this.mc)this.gf[this.Fe-1].Ud+=6;else{var n=this.$c();n.type=1;n.Kc=this.Za?f:f/2*3;n.Ud=6;this.mc=!0;this.Gc=!1}this.Za?(p[f++]=a,p[f++]=d,p[f++]=h,p[f++]=b,p[f++]=c,p[f++]=h,p[f++]=g,p[f++]=m,p[f++]=h,p[f++]=l,p[f++]=e,p[f++]=h):
(p[f++]=a,p[f++]=d,p[f++]=b,p[f++]=c,p[f++]=g,p[f++]=m,p[f++]=l,p[f++]=e);u[k++]=0;u[k++]=0;u[k++]=1;u[k++]=0;u[k++]=1;u[k++]=1;u[k++]=0;u[k++]=1;this.Pf=f;this.lj=k};f.prototype.Ve=function(a,d,b,c,g,m,l,e,f){15992<=this.Pf&&this.nf();var k=this.Pf,p=this.lj,u=this.xo,h=this.bo,n=this.np;if(this.mc)this.gf[this.Fe-1].Ud+=6;else{var q=this.$c();q.type=1;q.Kc=this.Za?k:k/2*3;q.Ud=6;this.mc=!0;this.Gc=!1}var q=f.left,F=f.top,L=f.right;f=f.bottom;this.Za?(u[k++]=a,u[k++]=d,u[k++]=n,u[k++]=b,u[k++]=c,
u[k++]=n,u[k++]=g,u[k++]=m,u[k++]=n,u[k++]=l,u[k++]=e,u[k++]=n):(u[k++]=a,u[k++]=d,u[k++]=b,u[k++]=c,u[k++]=g,u[k++]=m,u[k++]=l,u[k++]=e);h[p++]=q;h[p++]=F;h[p++]=L;h[p++]=F;h[p++]=L;h[p++]=f;h[p++]=q;h[p++]=f;this.Pf=k;this.lj=p};f.prototype.QC=function(a,d,b,c){7996<=this.Yi&&this.nf();var g=this.Yi,m=this.Sq;if(this.Gc)this.gf[this.Fe-1].Ud++;else{var l=this.$c();l.type=8;l.Kc=g;l.Ud=1;this.Gc=!0;this.mc=!1}m[g++]=a;m[g++]=d;m[g++]=b;m[g++]=c;this.Yi=g};f.prototype.dd=function(a){if(this.uk!==
a){if(!this.rb[a]){if(0===this.uk)return;a=0}var d=this.$c();d.type=9;this.uk=d.Kc=a;this.Gc=this.mc=!1}};f.prototype.Zk=function(a){a=this.rb[a];return!(!a.Bh&&!a.Ah)};f.prototype.Vq=function(a){a=this.rb[a];return!!(a.Bh||a.Ah||a.hi)};f.prototype.Uq=function(a){return this.rb[a].Zc};f.prototype.ZC=function(a){a=this.rb[a];return 0!==a.lh||0!==a.mh};f.prototype.iB=function(a){return this.rb[a].lh};f.prototype.jB=function(a){return this.rb[a].mh};f.prototype.kB=function(a,d){return this.rb[a].Z[d][2]};
f.prototype.Gn=function(a){return this.rb[a].bi};f.prototype.gj=function(a,d,b,c,g,m,l,e,f,k,p,u,h,n,q){var F=this.rb[this.uk],L,v;if(F.HB||q.length){L=this.$c();L.type=10;L.ma?Wc(this.Gd,L.ma):L.ma=Vc();v=L.ma;v[0]=d;v[1]=b;v[2]=c;v[3]=g;v[4]=m;v[5]=l;v[6]=e;v[7]=f;v[8]=k;v[9]=p;v[10]=u;v[11]=h;v[12]=n;F.Ek?L.fe=a:L.fe=null;if(q.length)for(b=L.Kv,b.length=q.length,a=0,d=q.length;a<d;a++)b[a]=q[a];this.Gc=this.mc=!1}};f.prototype.clear=function(a,d,b,c){var g=this.$c();g.type=7;g.Kc=0;g.ma||(g.ma=
Vc());g.ma[0]=a;g.ma[1]=d;g.ma[2]=b;g.ma[3]=c;this.Gc=this.mc=!1};f.prototype.clearRect=function(a,d,b,c){if(!(0>b||0>c)){var g=this.$c();g.type=7;g.Kc=1;g.ma||(g.ma=Vc());g.ma[0]=a;g.ma[1]=d;g.ma[2]=b;g.ma[3]=c;this.Gc=this.mc=!1}};f.prototype.Av=function(a){if(this.Za&&(a=!!a,this.dk!==a)){var d=this.$c();d.type=14;d.Kc=a?1:0;this.Gc=this.mc=!1;this.dk=a;this.Ln=null;this.dk?this.dd(2):this.dd(0)}};f.prototype.zv=function(a){if(this.Za){var d=this.$c();d.type=13;d.Kc=a?1:0;this.Gc=this.mc=!1}};
f.prototype.dt=function(){Wc(this.mq,q);this.be();this.Md();var a=this.width/2,d=this.height/2;this.$i(-a,d,a,d,a,-d,-a,-d);Wc(q,this.Gd);this.Md()};f.prototype.yv=function(a,d,b){this.dd(3);var c=this.$c();c.type=12;c.ma||(c.ma=Vc());c.ma[0]=a;c.ma[1]=d;c.ma[2]=b;c.ma[3]=1;this.Gc=this.mc=!1};f.prototype.OD=function(){this.dd(0)};f.prototype.uD=function(){this.dd(2)};f.prototype.XC=function(){this.nf();this.I.flush()};var r=[],e={};f.prototype.Dz=function(){y(r);e={}};f.prototype.Ni=function(a,d,
b,c){d=!!d;b=!!b;var g=a.src+","+d+","+b+(d?",undefined":""),m=null;if("undefined"!==typeof a.src&&e.hasOwnProperty(g))return m=e[g],m.Tl++,m;this.nf();var l=this.I,f=Ea(a.width)&&Ea(a.height),m=l.createTexture();l.bindTexture(l.TEXTURE_2D,m);l.pixelStorei(l.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);var k=l.RGBA,h=l.RGBA,p=l.UNSIGNED_BYTE;if(c&&!this.vf)switch(c){case 1:h=k=l.RGB;break;case 2:p=l.UNSIGNED_SHORT_4_4_4_4;break;case 3:p=l.UNSIGNED_SHORT_5_5_5_1;break;case 4:h=k=l.RGB,p=l.UNSIGNED_SHORT_5_6_5}if(1===
this.version&&!f&&d){c=document.createElement("canvas");c.width=Fa(a.width);c.height=Fa(a.height);var u=c.getContext("2d");"undefined"!==typeof u.imageSmoothingEnabled?u.imageSmoothingEnabled=b:(u.webkitImageSmoothingEnabled=b,u.mozImageSmoothingEnabled=b,u.msImageSmoothingEnabled=b);u.drawImage(a,0,0,a.width,a.height,0,0,c.width,c.height);l.texImage2D(l.TEXTURE_2D,0,k,h,p,c)}else l.texImage2D(l.TEXTURE_2D,0,k,h,p,a);d?(l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,l.REPEAT),l.texParameteri(l.TEXTURE_2D,
l.TEXTURE_WRAP_T,l.REPEAT)):(l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,l.CLAMP_TO_EDGE),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,l.CLAMP_TO_EDGE));b?(l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MAG_FILTER,l.LINEAR),(f||2<=this.version)&&this.Ts?(l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,l.LINEAR_MIPMAP_LINEAR),l.generateMipmap(l.TEXTURE_2D)):l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,l.LINEAR)):(l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MAG_FILTER,l.NEAREST),l.texParameteri(l.TEXTURE_2D,
l.TEXTURE_MIN_FILTER,l.NEAREST));l.bindTexture(l.TEXTURE_2D,null);this.tg=null;m.Xg=a.width;m.Wg=a.height;m.Tl=1;m.Bs=g;r.push(m);return e[g]=m};f.prototype.Ad=function(a,d,b,c){this.nf();var g=this.I;this.vf&&(c=!1);var m=g.createTexture();g.bindTexture(g.TEXTURE_2D,m);g.texImage2D(g.TEXTURE_2D,0,g.RGBA,a,d,0,g.RGBA,c?g.UNSIGNED_SHORT_4_4_4_4:g.UNSIGNED_BYTE,null);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,g.CLAMP_TO_EDGE);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,g.CLAMP_TO_EDGE);g.texParameteri(g.TEXTURE_2D,
g.TEXTURE_MAG_FILTER,b?g.LINEAR:g.NEAREST);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,b?g.LINEAR:g.NEAREST);g.bindTexture(g.TEXTURE_2D,null);this.tg=null;m.Xg=a;m.Wg=d;r.push(m);return m};f.prototype.nE=function(a,d,b){this.nf();var c=this.I;this.vf&&(b=!1);c.bindTexture(c.TEXTURE_2D,d);c.pixelStorei(c.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);try{c.texImage2D(c.TEXTURE_2D,0,c.RGBA,c.RGBA,b?c.UNSIGNED_SHORT_4_4_4_4:c.UNSIGNED_BYTE,a)}catch(g){console&&console.error&&console.error("Error updating WebGL texture: ",
g)}c.bindTexture(c.TEXTURE_2D,null);this.tg=null};f.prototype.deleteTexture=function(a){a&&("undefined"!==typeof a.Tl&&1<a.Tl?a.Tl--:(this.nf(),a===this.tg&&(this.I.bindTexture(this.I.TEXTURE_2D,null),this.tg=null),a===this.xh&&(this.I.activeTexture(this.I.TEXTURE1),this.I.bindTexture(this.I.TEXTURE_2D,null),this.I.activeTexture(this.I.TEXTURE0),this.xh=null),Za(r,a),"undefined"!==typeof a.Bs&&delete e[a.Bs],this.I.deleteTexture(a)))};f.prototype.de=function(a){if(a!==this.Ln){var d=this.$c();d.type=
6;this.Ln=d.fe=a;this.Gc=this.mc=!1}};Yb=f})();
(function(){function f(a){if(a&&(a.getContext||a.dc)&&!a.c2runtime){a.c2runtime=this;var c=this;this.tf=(this.Jm=/crosswalk/i.test(navigator.userAgent)||/xwalk/i.test(navigator.userAgent)||!("undefined"===typeof window.c2isCrosswalk||!window.c2isCrosswalk))||"undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||"undefined"!==typeof window.device.phonegap)||"undefined"!==typeof window.c2iscordova&&window.c2iscordova;this.Hc=!!a.dc;this.Ht="undefined"!==typeof window.AppMobi||
this.Hc;this.Vd=!!window.c2cocoonjs;this.oe=!!window.c2ejecta;this.Vd&&(CocoonJS.App.onSuspended.addEventListener(function(){c.setSuspended(!0)}),CocoonJS.App.onActivated.addEventListener(function(){c.setSuspended(!1)}));this.oe&&(document.addEventListener("pagehide",function(){c.setSuspended(!0)}),document.addEventListener("pageshow",function(){c.setSuspended(!1)}),document.addEventListener("resize",function(){c.setSize(window.innerWidth,window.innerHeight)}));this.pb=this.Hc||this.Vd||this.oe;this.gk=
/edge\//i.test(navigator.userAgent);this.vf=(/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)||/iemobile/i.test(navigator.userAgent))&&!this.gk;this.Kt=/tizen/i.test(navigator.userAgent);this.ck=/android/i.test(navigator.userAgent)&&!this.Kt&&!this.vf&&!this.gk;this.Ot=(/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent))&&!this.vf&&!this.gk;this.bC=/ipad/i.test(navigator.userAgent);this.mk=this.Ot||this.bC||this.oe;this.bq=(/chrome/i.test(navigator.userAgent)||
/chromium/i.test(navigator.userAgent))&&!this.vf&&!this.gk;this.Gt=/amazonwebappplatform/i.test(navigator.userAgent);this.VB=/firefox/i.test(navigator.userAgent);this.ZB=/safari/i.test(navigator.userAgent)&&!this.bq&&!this.vf&&!this.gk;this.$B=/windows/i.test(navigator.userAgent);this.gq="undefined"!==typeof window.c2nodewebkit||"undefined"!==typeof window.c2nwjs||/nodewebkit/i.test(navigator.userAgent)||/nwjs/i.test(navigator.userAgent);this.Mt=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);
this.aC=!("undefined"===typeof window.c2isWindows8Capable||!window.c2isWindows8Capable);this.jk=!("undefined"===typeof window.c2isWindowsPhone8||!window.c2isWindowsPhone8);this.jq=!("undefined"===typeof window.c2isWindowsPhone81||!window.c2isWindowsPhone81);this.Mm=!!window.cr_windows10;this.Lt=this.Mt||this.aC||this.jq||this.Mm;this.SB=!("undefined"===typeof window.c2isBlackberry10||!window.c2isBlackberry10);this.Hm=this.ck&&!this.bq&&!this.Jm&&!this.VB&&!this.Gt&&!this.pb;this.devicePixelRatio=
1;this.wf=this.tf||this.Jm||this.Ht||this.Vd||this.ck||this.mk||this.jk||this.jq||this.SB||this.Kt||this.oe;this.wf||(this.wf=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet|kindle|silk)/i.test(navigator.userAgent));this.Lm=!!(this.mk&&this.tf&&window.webkit);"undefined"===typeof cr_is_preview||this.gq||"?nw"!==window.location.search&&!/nodewebkit/i.test(navigator.userAgent)&&!/nwjs/i.test(navigator.userAgent)||(this.gq=!0);this.canvas=a;this.Ds=document.getElementById("c2canvasdiv");
this.F=this.I=null;this.Mp="(unavailable)";this.Za=!1;this.gh=0;this.fb=null;this.qm=!1;this.Lu=this.Mu=0;this.canvas.oncontextmenu=function(a){a.preventDefault&&a.preventDefault();return!1};this.canvas.onselectstart=function(a){a.preventDefault&&a.preventDefault();return!1};this.canvas.ontouchstart=function(a){a.preventDefault&&a.preventDefault();return!1};this.Hc&&(window.c2runtime=this);this.gq&&(window.ondragover=function(a){a.preventDefault();return!1},window.ondrop=function(a){a.preventDefault();
return!1},window.nwgui&&window.nwgui.App.clearCache&&window.nwgui.App.clearCache());this.Hm&&"undefined"!==typeof jQuery&&jQuery("canvas").parents("*").css("overflow","visible");this.width=a.width;this.height=a.height;this.W=this.width;this.V=this.height;this.$l=this.width;this.Kj=this.height;this.Ki=window.innerWidth;this.Ji=window.innerHeight;this.Qa=!0;this.hk=!1;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types={};this.H=[];this.jb=[];this.Mi={};this.pe=[];this.wp={};
this.of=[];this.Aj=[];this.mo=[];this.cz=[];this.dz=[];this.Qv=null;this.dh={};this.fq=this.mg=!1;this.Fd=0;this.cq=this.iq=!1;this.me=[];this.fk=!1;this.Ym=this.jr="";this.Sb=null;this.xf="";this.pl=this.Nv=!1;this.pm=[];this.fh=this.hg=0;this.wu=30;this.jp=this.Jk=0;this.Pg=1;this.zb=new Db;this.Qf=new Db;this.ln=this.um=this.kh=this.Ld=this.zh=this.zp=this.Qm=0;this.Zg=null;this.im=[];this.vp=[];this.lm=-1;this.xq=[[]];this.Hr=this.cn=0;this.In(null);this.Kk=[];this.Lk=-1;this.Fu=this.Rk=0;this.rq=
!0;this.Qj=0;this.ql=[];this.Er=this.Xq=-1;this.Gi=!0;this.an=0;this.Km=!1;this.VD=0;this.di=null;this.Ic=this.ut=!1;this.Ju=new pa;this.Dq=new pa;this.Ku=new pa;this.Nh=[];this.we=new Fb([]);this.Cr=new Fb([]);this.Yf=[];this.Xj={};this.bg={};this.Wf={};this.yj={};this.xs={};this.Zt=this.Xm=this.Ab=this.Rb=this.Yt=this.Wm=this.Ra=null;this.uj=this.kq=!1;this.Ap=[null,null];this.ri=0;this.nh="";this.Ef={};this.ml=this.xg=null;this.Pv="";this.kn=[];this.qD()}}function k(a,c){return 128>=c?a[3]:256>=
c?a[2]:512>=c?a[1]:a[0]}function h(){try{return!!window.indexedDB}catch(a){return!1}}function n(a){a.target.result.createObjectStore("saves",{keyPath:"slot"})}function q(a,c,b,g){try{var d=indexedDB.open("_C2SaveStates");d.onupgradeneeded=n;d.onerror=g;d.onsuccess=function(d){d=d.target.result;d.onerror=g;d.transaction(["saves"],"readwrite").objectStore("saves").put({slot:a,data:c}).onsuccess=b}}catch(l){g(l)}}function r(a,c,b){try{var g=indexedDB.open("_C2SaveStates");g.onupgradeneeded=n;g.onerror=
b;g.onsuccess=function(g){g=g.target.result;g.onerror=b;var d=g.transaction(["saves"]).objectStore("saves").get(a);d.onsuccess=function(){d.result?c(d.result.data):c(null)}}}catch(d){b(d)}}function e(){wa("Reloading for continuous preview");window.c2cocoonjs?CocoonJS.App.reload():-1<window.location.search.indexOf("continuous")?window.location.reload(!0):window.location=window.location+"?continuous"}function a(a){var c,b={};for(c in a)!a.hasOwnProperty(c)||a[c]instanceof pa||a[c]&&"undefined"!==typeof a[c].CF||
"spriteCreatedDestroyCallback"!==c&&(b[c]=a[c]);return b}var d=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame;f.prototype.qD=function(){var a=this;if(this.Lm)this.SA(function(c){a.Ak(JSON.parse(c))},function(){alert("Error fetching data.js")});else{var c;this.jk?c=new ActiveXObject("Microsoft.XMLHTTP"):c=new XMLHttpRequest;var b="data.js";if(this.Mt||this.jk||this.jq||this.Mm)b="data.json";
c.open("GET",b,!0);var g=!1;if(!this.pb&&"response"in c&&"responseType"in c)try{c.responseType="json",g="json"===c.responseType}catch(d){g=!1}if(!g&&"responseType"in c)try{c.responseType="text"}catch(l){}if("overrideMimeType"in c)try{c.overrideMimeType("application/json; charset=utf-8")}catch(m){}this.jk?c.onreadystatechange=function(){4===c.readyState&&a.Ak(JSON.parse(c.responseText))}:(c.onload=function(){if(g)a.Ak(c.response);else if(a.oe){var b=c.responseText,b=b.substr(b.indexOf("{"));a.Ak(JSON.parse(b))}else a.Ak(JSON.parse(c.responseText))},
c.onerror=function(a){ya("Error requesting "+b+":");ya(a)});c.send()}};f.prototype.OB=function(){var a=this,c,b,g,d,l,m,e,f,p;this.vh=(!this.pb||this.oe||this.tf)&&this.jE&&!this.Hm;0===this.Oc&&this.mk&&(this.vh=!1);this.devicePixelRatio=this.vh?window.devicePixelRatio||window.webkitDevicePixelRatio||window.mozDevicePixelRatio||window.msDevicePixelRatio||1:1;this.uc();0<this.Oc&&this.setSize(window.innerWidth,window.innerHeight,!0);this.canvas.addEventListener("webglcontextlost",function(c){c.preventDefault();
a.uC();wa("[Construct 2] WebGL context lost");window.cr_setSuspended(!0)},!1);this.canvas.addEventListener("webglcontextrestored",function(){a.F.At();a.F.Ph(a.F.width,a.F.height,!0);a.Rb=null;a.Ab=null;a.Ap[0]=null;a.Ap[1]=null;a.vC();a.Qa=!0;wa("[Construct 2] WebGL context restored");window.cr_setSuspended(!1)},!1);try{this.lA&&(this.Vd||this.oe||!this.pb)&&(c={alpha:!0,depth:!1,antialias:!1,powerPreference:"high-performance",failIfMajorPerformanceCaveat:!0},this.ck||(this.I=this.canvas.getContext("webgl2",
c)),this.I||(this.I=this.canvas.getContext("webgl",c)||this.canvas.getContext("experimental-webgl",c)))}catch(k){}if(this.I){if(c=this.I.getExtension("WEBGL_debug_renderer_info"))this.Mp=this.I.getParameter(c.UNMASKED_RENDERER_WEBGL)+" ["+this.I.getParameter(c.UNMASKED_VENDOR_WEBGL)+"]";this.Za&&(this.Mp+=" [front-to-back enabled]");this.pb||(this.qc=document.createElement("canvas"),jQuery(this.qc).appendTo(this.canvas.parentNode),this.qc.oncontextmenu=function(){return!1},this.qc.onselectstart=function(){return!1},
this.qc.width=Math.round(this.$l*this.devicePixelRatio),this.qc.height=Math.round(this.Kj*this.devicePixelRatio),jQuery(this.qc).css({width:this.$l+"px",height:this.Kj+"px"}),this.iv(),this.Pq=this.qc.getContext("2d"));this.F=new Yb(this.I,this.wf,this.Za);this.F.Ph(this.canvas.width,this.canvas.height);this.F.Ts=0!==this.eA;this.fb=null;c=0;for(b=this.H.length;c<b;c++)for(l=this.H[c],g=0,d=l.ka.length;g<d;g++)e=l.ka[g],e.Fb=this.F.Kp(e.id),e.Zc=this.F.Uq(e.Fb),this.uj=this.uj||this.F.Zk(e.Fb);c=
0;for(b=this.pe.length;c<b;c++){f=this.pe[c];g=0;for(d=f.ka.length;g<d;g++)e=f.ka[g],e.Fb=this.F.Kp(e.id),e.Zc=this.F.Uq(e.Fb);f.Ae();g=0;for(d=f.S.length;g<d;g++){p=f.S[g];l=0;for(m=p.ka.length;l<m;l++)e=p.ka[l],e.Fb=this.F.Kp(e.id),e.Zc=this.F.Uq(e.Fb),this.uj=this.uj||this.F.Zk(e.Fb);p.Ae()}}}else{if(0<this.Oc&&this.Hc){this.canvas=null;document.oncontextmenu=function(){return!1};document.onselectstart=function(){return!1};this.fb=AppMobi.canvas.getContext("2d");try{this.fb.samplingMode=this.bb?
"smooth":"sharp",this.fb.globalScale=1,this.fb.HTML5CompatibilityMode=!0,this.fb.imageSmoothingEnabled=this.bb}catch(u){}0!==this.width&&0!==this.height&&(this.fb.width=this.width,this.fb.height=this.height)}this.fb||(this.Vd?(c={antialias:!!this.bb,alpha:!0},this.fb=this.canvas.getContext("2d",c)):(c={alpha:!0},this.fb=this.canvas.getContext("2d",c)),this.Rn(this.fb,this.bb));this.Pq=this.qc=null}this.cw=function(c){a.Ya(!1,c)};window==window.top||this.pb||this.Lt||this.jk||(document.addEventListener("mousedown",
function(){window.focus()},!0),document.addEventListener("touchstart",function(){window.focus()},!0));"undefined"!==typeof cr_is_preview&&(this.Vd&&console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"),-1<window.location.search.indexOf("continuous")&&(wa("Reloading for continuous preview"),this.Ym="__c2_continuouspreview",this.pl=!0),this.NC&&!this.wf&&(jQuery(window).focus(function(){a.setSuspended(!1)}),jQuery(window).blur(function(){var c=window.parent;c&&c.document.hasFocus()||a.setSuspended(!0)})));
window.addEventListener("blur",function(){a.Ih()});this.pb||(c=function(a){if(Xb(a)&&document.activeElement&&document.activeElement!==document.getElementsByTagName("body")[0]&&document.activeElement.blur)try{document.activeElement.blur()}catch(c){}},"undefined"!==typeof PointerEvent?document.addEventListener("pointerdown",c):window.navigator.msPointerEnabled?document.addEventListener("MSPointerDown",c):document.addEventListener("touchstart",c),document.addEventListener("mousedown",c));0===this.Oc&&
this.vh&&1<this.devicePixelRatio&&this.setSize(this.Ub,this.Tb,!0);this.hw();this.zB();this.go();this.R={}};f.prototype.setSize=function(a,c,b){var g=0,d=0,l=0,m=0,m=0;if(this.Ki!==a||this.Ji!==c||b){this.Ki=a;this.Ji=c;var e=this.Oc;if((l=(document.mozFullScreen||document.webkitIsFullScreen||!!document.msFullscreenElement||document.fullScreen||this.Km)&&!this.tf)||0!==this.Oc||b)l&&(e=this.ri),b=this.devicePixelRatio,4<=e?(l=this.Ub/this.Tb,a/c>l?(l*=c,5===e?(m=l*b/this.Ub,1<m?m=Math.floor(m):1>
m&&(m=1/Math.ceil(1/m)),l=this.Ub*m/b,m=this.Tb*m/b,g=(a-l)/2,d=(c-m)/2,a=l,c=m):(g=(a-l)/2,a=l)):(m=a/l,5===e?(m=m*b/this.Tb,1<m?m=Math.floor(m):1>m&&(m=1/Math.ceil(1/m)),l=this.Ub*m/b,m=this.Tb*m/b,g=(a-l)/2,d=(c-m)/2,a=l):d=(c-m)/2,c=m)):l&&0===e&&(g=Math.floor((a-this.Ub)/2),d=Math.floor((c-this.Tb)/2),a=this.Ub,c=this.Tb),2>e&&(this.Ej=b),this.$l=Math.round(a),this.Kj=Math.round(c),this.width=Math.round(a*b),this.height=Math.round(c*b),this.Qa=!0,this.xw?(this.W=this.width,this.V=this.height,
this.Cd=!0):this.width<this.Ub&&this.height<this.Tb||1===e?(this.W=this.width,this.V=this.height,this.Cd=!0):(this.W=this.Ub,this.V=this.Tb,this.Cd=!1,2===e?(l=this.Ub/this.Tb,e=this.Ki/this.Ji,e<l?this.W=this.V*e:e>l&&(this.V=this.W/e)):3===e&&(l=this.Ub/this.Tb,e=this.Ki/this.Ji,e>l?this.W=this.V*e:e<l&&(this.V=this.W/e))),this.Ds&&!this.pb&&(jQuery(this.Ds).css({width:Math.round(a)+"px",height:Math.round(c)+"px","margin-left":Math.floor(g)+"px","margin-top":Math.floor(d)+"px"}),"undefined"!==typeof cr_is_preview&&
jQuery("#borderwrap").css({width:Math.round(a)+"px",height:Math.round(c)+"px"})),this.canvas&&(this.canvas.width=Math.round(a*b),this.canvas.height=Math.round(c*b),this.oe?(this.canvas.style.left=Math.floor(g)+"px",this.canvas.style.top=Math.floor(d)+"px",this.canvas.style.width=Math.round(a)+"px",this.canvas.style.height=Math.round(c)+"px"):this.vh&&!this.pb&&(this.canvas.style.width=Math.round(a)+"px",this.canvas.style.height=Math.round(c)+"px")),this.qc&&(this.qc.width=Math.round(a*b),this.qc.height=
Math.round(c*b),this.qc.style.width=this.$l+"px",this.qc.style.height=this.Kj+"px"),this.F&&this.F.Ph(Math.round(a*b),Math.round(c*b)),this.Hc&&this.fb&&(this.fb.width=Math.round(a),this.fb.height=Math.round(c)),this.fb&&this.Rn(this.fb,this.bb),this.hw(),this.Ot&&!this.tf&&window.scrollTo(0,0)}};f.prototype.hw=function(){if(this.lz&&0!==this.Oq){var a="portrait";2===this.Oq&&(a="landscape");try{screen.orientation&&screen.orientation.lock?screen.orientation.lock(a).catch(function(){}):screen.lockOrientation?
screen.lockOrientation(a):screen.webkitLockOrientation?screen.webkitLockOrientation(a):screen.mozLockOrientation?screen.mozLockOrientation(a):screen.msLockOrientation&&screen.msLockOrientation(a)}catch(c){console&&console.warn&&console.warn("Failed to lock orientation: ",c)}}};f.prototype.uC=function(){this.F.Dz();this.kq=!0;var a,c,b;a=0;for(c=this.H.length;a<c;a++)b=this.H[a],b.Wk&&b.Wk()};f.prototype.vC=function(){this.kq=!1;var a,c,b;a=0;for(c=this.H.length;a<c;a++)b=this.H[a],b.nn&&b.nn()};f.prototype.iv=
function(){if(!this.pb){var a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||document.msFullscreenElement||this.Km)&&!this.tf?jQuery(this.canvas).offset():jQuery(this.canvas).position();a.position="absolute";jQuery(this.qc).css(a)}};var b=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame;f.prototype.setSuspended=function(a){var c;if(a&&!this.hk)for(wa("[Construct 2] Suspending"),
this.hk=!0,-1!==this.Xq&&b&&b(this.Xq),-1!==this.Er&&clearTimeout(this.Er),a=0,c=this.ql.length;a<c;a++)this.ql[a](!0);else if(!a&&this.hk){wa("[Construct 2] Resuming");this.hk=!1;this.Qm=zb();this.zh=zb();a=this.Jk=this.um=0;for(c=this.ql.length;a<c;a++)this.ql[a](!1);this.Ya(!1)}};f.prototype.ts=function(a){this.ql.push(a)};f.prototype.Sf=function(a){return this.kn[a]};f.prototype.Ak=function(a){a&&a.project||ya("Project model unavailable");a=a.project;this.name=a[0];this.bt=a[1];this.Oc=a[12];
this.Ub=a[10];this.Tb=a[11];this.$u=this.Ub/2;this.av=this.Tb/2;this.pb&&!this.oe&&(4<=a[12]||0===a[12])&&(wa("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),this.Oc=3);this.Or=a[18];this.yg=a[19];if(0===this.yg){var c=new Image;c.crossOrigin="anonymous";this.Cv(c,"loading-logo.png");this.xg={dn:c}}else if(4===this.yg){c=new Image;c.src="";var b=new Image;b.src="";var g=new Image;g.src="";var d=new Image;d.src="";var l=new Image;
l.src="";var m=new Image;m.src="";var e=new Image;e.src="";var f=new Image;f.src="";var p=new Image;p.src="";var k=new Image;k.src="";var u=new Image;u.src="";var h=new Image;h.src="";this.xg={dn:[c,b,g,d],UC:[l,m,e,f],oE:[p,k,u,h]}}this.Rk=a[21];this.kn=$c();this.Ye=new J(this);c=0;for(b=a[2].length;c<b;c++)e=a[2][c],g=this.Sf(e[0]),Zb(e,g.prototype),f=new g(this),f.Yn=e[1],f.rg=e[2],f.HF=e[5],f.Cu=e[9],f.P&&f.P(),this.plugins.push(f);this.kn=$c();c=0;for(b=a[3].length;c<b;c++){e=a[3][c];l=this.Sf(e[1]);
f=null;g=0;for(d=this.plugins.length;g<d;g++)if(this.plugins[g]instanceof l){f=this.plugins[g];break}p=new f.la(f);p.name=e[0];p.O=e[2];p.$p=e[3].slice(0);p.kE=e[3].length;p.nz=e[4];p.WA=e[5];p.Aa=e[11];p.O?(p.Ag=[],p.pf=this.Qj++,p.gb=null):(p.Ag=null,p.pf=-1,p.gb=[]);p.nm=null;p.pi=null;p.Us=null;p.nc=!1;p.kd=null;e[6]?(p.co=e[6][0],p.eo=e[6][1],p.tl=e[6][2]):(p.co=null,p.eo=0,p.tl=0);e[7]?p.hd=e[7]:p.hd=null;p.index=c;p.d=[];p.fm=[];p.Mf=[new $b(p)];p.Je=0;p.Rd=null;p.Kz=0;p.kj=!0;p.po=ac;p.wm=
bc;p.gB=cc;p.X=dc;p.al=ec;p.Zi=fc;p.Ff=gc;p.vm=hc;p.Cp=ic;p.Fp=oc;p.jd=pc;p.Gp=qc;p.Wl=new Gb(this.Ub,this.Tb);p.Ll=!0;p.Ml=!1;p.R={};p.toString=rc;p.jb=[];g=0;for(d=e[8].length;g<d;g++){k=e[8][g];u=this.Sf(k[1]);h=null;l=0;for(m=this.jb.length;l<m;l++)if(this.jb[l]instanceof u){h=this.jb[l];break}h||(h=new u(this),h.Cq=[],h.Fh=new pa,h.P&&h.P(),this.jb.push(h),ad&&h instanceof ad&&(this.Qv=h));-1===h.Cq.indexOf(p)&&h.Cq.push(p);l=new h.la(h,p);l.name=k[0];l.Aa=k[2];l.P();p.jb.push(l)}p.global=e[9];
p.hq=e[10];p.ka=[];g=0;for(d=e[12].length;g<d;g++)p.ka.push({id:e[12][g][0],name:e[12][g][1],Fb:-1,Zc:!1,Ib:!0,index:g});p.SF=e[13];this.Or&&!p.O&&!p.hq&&f.rg||p.P();p.name&&(this.types[p.name]=p);this.H.push(p);f.Yn&&(g=new f.fa(p),g.uid=this.Rk++,g.lv=this.Fu++,g.uh=0,g.Vj=sc,g.toString=tc,g.N=e[14],g.P(),p.d.push(g),this.Ef[g.uid.toString()]=g)}c=0;for(b=a[4].length;c<b;c++)for(l=a[4][c],m=this.H[l[0]],g=1,d=l.length;g<d;g++)e=this.H[l[g]],e.gb.push(m),m.Ag.push(e);c=0;for(b=a[28].length;c<b;c++){l=
a[28][c];m=[];g=0;for(d=l.length;g<d;g++)m.push(this.H[l[g]]);g=0;for(d=m.length;g<d;g++)m[g].nc=!0,m[g].kd=m}if(0<this.Qj)for(c=0,b=this.H.length;c<b;c++)if(e=this.H[c],!e.O&&e.gb.length){e.nm=Array(this.Qj);e.pi=Array(this.Qj);e.Us=Array(this.Qj);p=[];g=h=u=k=0;for(d=e.gb.length;g<d;g++)for(f=e.gb[g],e.nm[f.pf]=k,k+=f.kE,e.pi[f.pf]=u,u+=f.nz,e.Us[f.pf]=h,h+=f.WA,l=0,m=f.ka.length;l<m;l++)p.push(Pa({},f.ka[l]));e.ka=p.concat(e.ka);g=0;for(d=e.ka.length;g<d;g++)e.ka[g].index=g}c=0;for(b=a[5].length;c<
b;c++)e=a[5][c],g=new uc(this,e),this.Mi[g.name]=g,this.pe.push(g);c=0;for(b=a[6].length;c<b;c++)e=a[6][c],g=new vc(this,e),this.wp[g.name]=g,this.of.push(g);c=0;for(b=this.of.length;c<b;c++)this.of[c].ub();c=0;for(b=this.of.length;c<b;c++)this.of[c].Kr();c=0;for(b=this.mo.length;c<b;c++)this.mo[c].ub();y(this.mo);this.kz=a[7];this.nh=a[8];this.Id=a[9];this.Ej=1;this.lA=a[13];this.bb=a[14];this.Hs=a[15];this.jE=a[17];this.Oq=a[20];this.lz=0<this.Oq;this.NC=a[22];this.Cd=this.xw=a[23];this.eA=a[24];
this.VC=a[25];this.Za=a[27]&&!this.vf;this.ao=Date.now();y(this.kn);this.OB()};var c=!1,g=0,m=[];f.prototype.hD=function(a,c){function b(){g--;d.tu()}var d=this;a.addEventListener("load",b);a.addEventListener("error",b);m.push([a,c]);this.tu()};f.prototype.tu=function(){for(var a;m.length&&100>g;)g++,a=m.shift(),this.Cv(a[0],a[1])};f.prototype.Rr=function(a,b){a.cocoonLazyLoad=!0;a.onerror=function(b){c=a.As=!0;console&&console.error&&console.error("Error loading image '"+a.src+"': ",b)};this.oe?
a.src=b:a.src||("undefined"!==typeof XAPKReader?XAPKReader.get(b,function(c){a.src=c},function(g){c=a.As=!0;console&&console.error&&console.error("Error extracting image '"+b+"' from expansion file: ",g)}):(a.crossOrigin="anonymous",this.hD(a,b)));this.Aj.push(a)};f.prototype.UA=function(a){var c,b;c=0;for(b=this.Aj.length;c<b;c++)if(this.Aj[c].Ez===a)return this.Aj[c];return null};var l=0,t=!1;f.prototype.zB=function(){this.di&&(l=this.di.MD(this.kz))};f.prototype.vs=function(){var a=l,c=0,b=0,g=
!0,d,e,b=0;for(d=this.Aj.length;b<d;b++){e=this.Aj[b];var m=e.kp;if(!m||0>=m)m=5E4;a+=m;e.src&&(e.complete||e.loaded)&&!e.As?c+=m:g=!1}g&&this.VC&&this.di&&(t||(this.di.WD(),t=!0),b=this.di.hB(),c+=b,b<l&&(g=!1));this.re=0==a?1:c/a;return g};var ca=!1;f.prototype.go=function(){if(this.fb||this.F){var a=this.fb||this.Pq;this.qc&&this.iv();var b=window.innerWidth,g=window.innerHeight;this.Ki===b&&this.Ji===g||this.setSize(b,g);this.re=0;this.Xt=-1;var l=this;if(this.vs()&&(4!==this.yg||ca))this.AB();
else{g=Date.now()-this.ao;if(a){var e=this.width,m=this.height,b=this.devicePixelRatio;if(3>this.yg&&(this.Vd||500<=g&&this.Xt!=this.re)){a.clearRect(0,0,e,m);var g=e/2,m=m/2,e=0===this.yg&&this.xg.dn.complete,f=40*b,p=0,k=80*b,u;if(e){var h=this.xg.dn,k=h.width*b;u=h.height*b;f=k/2;p=u/2;a.drawImage(h,Ka(g-f),Ka(m-p),k,u)}1>=this.yg?(g=Ka(g-f)+.5,m=Ka(m+(p+(e?12*b:0)))+.5,a.fillStyle=c?"red":"DodgerBlue",a.fillRect(g,m,Math.floor(k*this.re),6*b),a.strokeStyle="black",a.strokeRect(g,m,k,6*b),a.strokeStyle=
"white",a.strokeRect(g-1*b,m-1*b,k+2*b,8*b)):2===this.yg&&(a.font=this.oe?"12pt ArialMT":"12pt Arial",a.fillStyle=c?"#f00":"#999",a.RF="middle",b=Math.round(100*this.re)+"%",e=a.measureText?a.measureText(b):null,a.fillText(b,g-(e?e.width:0)/2,m));this.Xt=this.re}else if(4===this.yg){this.jA(a);d?d(function(){l.go()}):setTimeout(function(){l.go()},16);return}}setTimeout(function(){l.go()},this.Vd?10:100)}}};var P=-1,p="undefined"===typeof cr_is_preview?200:0,u=!0,I=!1,E=0,D=0,F="undefined"===typeof cr_is_preview?
3E3:0,L=null,v=null,C=0;f.prototype.jA=function(a){if(!ca){for(var b=Math.ceil(this.width),g=Math.ceil(this.height),d=this.xg.dn,l=this.xg.UC,e=this.xg.oE,m=0;4>m;++m)if(!d[m].complete||!l[m].complete||!e[m].complete)return;0===C&&(P=Date.now());var m=Date.now(),f=!1,h=a,t,n;u||I?(a.clearRect(0,0,b,g),L&&L.width===b&&L.height===g||(L=document.createElement("canvas"),L.width=b,L.height=g,v=L.getContext("2d")),h=v,f=!0,u&&1===C&&(P=Date.now())):a.globalAlpha=1;h.fillStyle="#333333";h.fillRect(0,0,b,
g);256<this.Kj?(t=$a(.22*g,105,.6*b),n=.25*t,h.drawImage(k(l,t),.5*b-t/2,.2*g-n/2,t,n),n=t=Math.min(.395*g,.95*b),h.drawImage(k(d,t),.5*b-t/2,.485*g-n/2,t,n),t=$a(.22*g,105,.6*b),n=.25*t,h.drawImage(k(e,t),.5*b-t/2,.868*g-n/2,t,n),h.fillStyle="#3C3C3C",t=b,n=Math.max(.005*g,2),h.fillRect(0,.8*g-n/2,t,n),h.fillStyle=c?"red":"#E0FF65",t=b*this.re,h.fillRect(.5*b-t/2,.8*g-n/2,t,n)):(n=t=.55*g,h.drawImage(k(d,t),.5*b-t/2,.45*g-n/2,t,n),h.fillStyle="#3C3C3C",t=b,n=Math.max(.005*g,2),h.fillRect(0,.85*g-
n/2,t,n),h.fillStyle=c?"red":"#E0FF65",t=b*this.re,h.fillRect(.5*b-t/2,.85*g-n/2,t,n));f&&(u?a.globalAlpha=0===C?0:Math.min((m-P)/300,1):I&&(a.globalAlpha=Math.max(1-(m-D)/300,0)),a.drawImage(L,0,0,b,g));u&&300<=m-P&&2<=C&&(u=!1,E=m);!u&&m-E>=F&&!I&&1<=this.re&&(I=!0,D=m);if(I&&m-D>=300+p||"undefined"!==typeof cr_is_preview&&1<=this.re&&500>Date.now()-P)ca=!0,I=u=!1,this.xg=v=L=null;++C}};f.prototype.AB=function(){this.qc&&(this.canvas.parentNode.removeChild(this.qc),this.qc=this.Pq=null);this.ao=
Date.now();this.zh=zb();var a,c,b;if(this.Or)for(a=0,c=this.H.length;a<c;a++)b=this.H[a],b.O||b.hq||!b.Pa.rg||b.P();else this.Gi=!1;a=0;for(c=this.pe.length;a<c;a++)this.pe[a].Fz();2<=this.Oc&&(a=this.Ub/this.Tb,c=this.width/this.height,this.Ej=2!==this.Oc&&c>a||2===this.Oc&&c<a?this.height/this.Tb:this.width/this.Ub);this.bt?this.Mi[this.bt].sr():this.pe[0].sr();this.Or||(this.an=1,this.trigger(J.prototype.j.cs,null),window.C2_RegisterSW&&window.C2_RegisterSW());navigator.splashscreen&&navigator.splashscreen.hide&&
navigator.splashscreen.hide();a=0;for(c=this.H.length;a<c;a++)b=this.H[a],b.Nu&&b.Nu();document.hidden||document.webkitHidden||document.mozHidden||document.msHidden?window.cr_setSuspended(!0):this.Ya(!1);this.Hc&&AppMobi.webview.execute("onGameReady();")};f.prototype.Ya=function(a,c,b){if(this.Ra){var g=zb();if(b||!this.hk||a){a||(d?this.Xq=d(this.cw):this.Er=setTimeout(this.cw,this.wf?1:16));c=c||g;var l=this.Oc;((b=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement)&&
!this.tf)||this.Km)&&0<this.ri&&(l=this.ri);if(0<l){var l=window.innerWidth,e=window.innerHeight;this.Ki===l&&this.Ji===e||this.setSize(l,e)}this.pb||(b?this.qm||(this.qm=!0):this.qm?(this.qm=!1,0===this.Oc&&this.setSize(Math.round(this.Mu/this.devicePixelRatio),Math.round(this.Lu/this.devicePixelRatio),!0)):(this.Mu=this.width,this.Lu=this.height));this.Gi&&(b=this.vs(),this.an=this.re,b&&(this.Gi=!1,this.re=1,this.trigger(J.prototype.j.cs,null),window.C2_RegisterSW&&window.C2_RegisterSW()));this.kC(c);
!this.Qa&&!this.Vd||this.kq||this.pl||a||(this.Qa=!1,this.F?this.Ec():this.Bd(),this.ml&&(this.canvas&&this.canvas.toDataURL&&(this.Pv=this.canvas.toDataURL(this.ml[0],this.ml[1]),window.cr_onSnapshot&&window.cr_onSnapshot(this.Pv),this.trigger(J.prototype.j.zx,null)),this.ml=null));this.GF||(this.Ld++,this.kh++,this.um++);this.Jk+=zb()-g}}};f.prototype.kC=function(a){var c,b,g,d,l,e,m,f;1E3<=a-this.zh&&(this.zh+=1E3,1E3<=a-this.zh&&(this.zh=a),this.zp=this.um,this.um=0,this.jp=this.Jk,this.Jk=0);
c=0;0!==this.Qm&&(c=a-this.Qm,0>c&&(c=0),this.fh=c/=1E3,.5<this.fh?this.fh=0:this.fh>1/this.wu&&(this.fh=1/this.wu));this.Qm=a;this.hg=this.fh*this.Pg;this.zb.add(this.hg);this.Qf.add(c);a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement||this.Km)&&!this.tf;2<=this.Oc||a&&0<this.ri?(c=this.Ub/this.Tb,b=this.width/this.height,g=this.Oc,a&&0<this.ri&&(g=this.ri),this.Ej=2!==g&&b>c||2===g&&b<c?this.height/this.Tb:this.width/this.Ub,this.Ra&&(this.Ra.kr(this.Ra.scrollX),
this.Ra.lr(this.Ra.scrollY))):this.Ej=this.vh?this.devicePixelRatio:1;this.uc();this.Fd++;this.Ye.yD();this.Fd--;this.uc();this.Fd++;b=this.Ju.ge();a=0;for(c=b.length;a<c;a++)b[a].LF();a=0;for(c=this.H.length;a<c;a++)if(e=this.H[a],!e.O&&(e.jb.length||e.gb.length))for(b=0,g=e.d.length;b<g;b++)for(m=e.d[b],d=0,l=m.U.length;d<l;d++)m.U[d].Ya();a=0;for(c=this.H.length;a<c;a++)if(e=this.H[a],!e.O&&(e.jb.length||e.gb.length))for(b=0,g=e.d.length;b<g;b++)for(m=e.d[b],d=0,l=m.U.length;d<l;d++)f=m.U[d],f.TC&&
f.TC();b=this.Dq.ge();a=0;for(c=b.length;a<c;a++)b[a].Ya();this.Fd--;this.GB();for(a=0;this.Zg&&10>a++;)this.Ss(this.Zg);a=0;for(c=this.of.length;a<c;a++)this.of[a].Sp=!1;this.Ra.ih&&this.Ra.ih.Eb();y(this.Nh);this.rq=!1;this.Fd++;a=0;for(c=this.H.length;a<c;a++)if(e=this.H[a],!e.O&&(e.jb.length||e.gb.length))for(b=0,g=e.d.length;b<g;b++)for(m=e.d[b],d=0,l=m.U.length;d<l;d++)f=m.U[d],f.ul&&f.ul();b=this.Ku.ge();a=0;for(c=b.length;a<c;a++)b[a].ul();this.Fd--};f.prototype.Ih=function(){var a,c,b,g,
d,l,e,m,f;a=0;for(c=this.H.length;a<c;a++)if(e=this.H[a],!e.O)for(b=0,g=e.d.length;b<g;b++)if(m=e.d[b],m.Ih&&m.Ih(),m.U)for(d=0,l=m.U.length;d<l;d++)f=m.U[d],f.Ih&&f.Ih()};f.prototype.Ss=function(a){var c=this.Ra;this.Ra.XD();var b,g,d;if(this.F)for(b=0,g=this.H.length;b<g;b++)d=this.H[b],d.O||!d.no||d.global&&0!==d.d.length||-1!==a.ak.indexOf(d)||d.no();c==a&&y(this.Ye.fd);y(this.Nh);this.tv(!0);a.sr();this.tv(!1);this.rq=this.Qa=!0;this.uc()};f.prototype.tv=function(a){var c,b,g,d,l,e,m,f,p;c=0;
for(b=this.jb.length;c<b;c++)g=this.jb[c],a?g.Uk&&g.Uk():g.Vk&&g.Vk();c=0;for(b=this.H.length;c<b;c++)if(g=this.H[c],g.global||g.Pa.Yn)for(d=0,l=g.d.length;d<l;d++)if(e=g.d[d],a?e.Uk&&e.Uk():e.Vk&&e.Vk(),e.U)for(m=0,f=e.U.length;m<f;m++)p=e.U[m],a?p.Uk&&p.Uk():p.Vk&&p.Vk()};f.prototype.rj=function(a){this.Dq.add(a)};f.prototype.ph=function(a){return a&&-1!==a.Ti?this.fh*a.Ti:this.hg};f.prototype.Bd=function(){this.Ra.Bd(this.fb);this.Hc&&this.fb.present()};f.prototype.Ec=function(){this.Za&&(this.gh=
1,this.Ra.eh(this.F));this.Ra.Ec(this.F);this.F.XC()};f.prototype.Oo=function(a){a&&this.im.push(a)};f.prototype.pD=function(a){Za(this.im,a)};f.prototype.ti=function(a){a=a.toString();return this.Ef.hasOwnProperty(a)?this.Ef[a]:null};var V=[];f.prototype.$e=function(a){var c,b;c=a.type.name;var g=null;if(this.dh.hasOwnProperty(c)){if(g=this.dh[c],g.contains(a))return}else g=V.length?V.pop():new pa,this.dh[c]=g;g.add(a);this.mg=!0;if(a.nc)for(c=0,b=a.siblings.length;c<b;c++)this.$e(a.siblings[c]);
this.fq&&g.xj.push(a);this.cq||(this.Fd++,this.trigger(Object.getPrototypeOf(a.type.Pa).j.Fo,a),this.Fd--)};f.prototype.uc=function(){if(this.mg){var a,c,b,g,d,l;this.fq=!0;b=0;for(d=this.me.length;b<d;++b)for(a=this.me[b],c=a.type,c.d.push(a),g=0,l=c.gb.length;g<l;++g)c.gb[g].d.push(a),c.gb[g].kj=!0;y(this.me);this.ux();yb(this.dh);this.mg=this.fq=!1}};f.prototype.ux=function(){for(var a in this.dh)this.dh.hasOwnProperty(a)&&this.Hw(this.dh[a])};f.prototype.Hw=function(a){var c=a.ge(),b=c[0].type,
g,d,l,e,m,f;Ab(b.d,a);b.kj=!0;0===b.d.length&&(b.Ml=!1);g=0;for(d=b.gb.length;g<d;++g)f=b.gb[g],Ab(f.d,a),f.kj=!0;g=0;for(d=this.Ye.fd.length;g<d;++g)if(m=this.Ye.fd[g],m.Qc.hasOwnProperty(b.index)&&Ab(m.Qc[b.index].sf,a),!b.O)for(l=0,e=b.gb.length;l<e;++l)f=b.gb[l],m.Qc.hasOwnProperty(f.index)&&Ab(m.Qc[f.index].sf,a);if(m=c[0].n){if(m.Nd)for(l=m.d,g=0,d=l.length;g<d;++g)e=l[g],a.contains(e)&&(e.xa(),m.rc.update(e,e.ad,null),e.ad.set(0,0,-1,-1));Ab(m.d,a);m.hl(0)}for(g=0;g<c.length;++g)this.Gw(c[g],
b);a.clear();V.push(a);this.Qa=!0};f.prototype.Gw=function(a,c){var b,g,d;b=0;for(g=this.im.length;b<g;++b)this.im[b](a);a.dg&&c.Wl.update(a,a.dg,null);(b=a.n)&&b.bj(a,!0);if(a.U)for(b=0,g=a.U.length;b<g;++b)d=a.U[b],d.Dg&&d.Dg(),d.behavior.Fh.remove(a);this.Ju.remove(a);this.Dq.remove(a);this.Ku.remove(a);a.Dg&&a.Dg();this.Ef.hasOwnProperty(a.uid.toString())&&delete this.Ef[a.uid.toString()];this.ln--;100>c.fm.length&&c.fm.push(a)};f.prototype.lp=function(a,c,b,g){if(a.O){var d=Ka(Math.random()*
a.Ag.length);return this.lp(a.Ag[d],c,b,g)}return a.Rd?this.eg(a.Rd,c,!1,b,g,!1):null};var X=[];f.prototype.eg=function(a,c,b,g,d,l){var e,m,f,p;if(!a)return null;var k=this.H[a[1]],h=k.Pa.rg;if(this.Gi&&h&&!k.hq||h&&!this.F&&11===a[0][11])return null;var u=c;h||(c=null);var t;k.fm.length?(t=k.fm.pop(),t.vd=!0,k.Pa.fa.call(t,k)):(t=new k.Pa.fa(k),t.vd=!1);!b||l||this.Ef.hasOwnProperty(a[2].toString())?t.uid=this.Rk++:t.uid=a[2];this.Ef[t.uid.toString()]=t;t.lv=this.Fu++;t.uh=k.d.length;e=0;for(m=
this.me.length;e<m;++e)this.me[e].type===k&&t.uh++;t.Vj=sc;t.toString=tc;f=a[3];if(t.vd)yb(t.R);else{t.R={};if("undefined"!==typeof cr_is_preview)for(t.Dt=[],t.Dt.length=f.length,e=0,m=f.length;e<m;e++)t.Dt[e]=f[e][1];t.Pb=[];t.Pb.length=f.length}e=0;for(m=f.length;e<m;e++)t.Pb[e]=f[e][0];if(h){var n=a[0];t.x=za(g)?n[0]:g;t.y=za(d)?n[1]:d;t.z=n[2];t.width=n[3];t.height=n[4];t.depth=n[5];t.k=n[6];t.opacity=n[7];t.Nb=n[8];t.Ob=n[9];t.vc=n[10];e=n[11];!this.F&&k.ka.length&&(t.vc=e);t.Hj=Ib(t.vc);this.I&&
Kb(t,t.vc,this.I);if(t.vd){e=0;for(m=n[12].length;e<m;e++)for(f=0,p=n[12][e].length;f<p;f++)t.nb[e][f]=n[12][e][f];t.Ua.set(0,0,0,0);t.dg.set(0,0,-1,-1);t.ad.set(0,0,-1,-1);t.yc.ij(t.Ua);y(t.Uo)}else{t.nb=n[12].slice(0);e=0;for(m=t.nb.length;e<m;e++)t.nb[e]=n[12][e].slice(0);t.Ha=[];t.Vf=[];t.Vf.length=k.ka.length;t.Ua=new Na(0,0,0,0);t.dg=new Na(0,0,-1,-1);t.ad=new Na(0,0,-1,-1);t.yc=new Oa;t.Uo=[];t.T=wc;t.bz=xc;t.jc=yc;t.xa=zc;t.qw=Ac;t.Nr=Bc;t.Td=Cc}t.xd=!1;t.aE=0;t.$D=0;t.ZD=null;14===n.length&&
(t.xd=!0,t.aE=n[13][0],t.$D=n[13][1],t.ZD=n[13][2]);e=0;for(m=k.ka.length;e<m;e++)t.Vf[e]=!0;t.Kf=!0;t.Ae=Dc;t.Ae();t.rw=!!t.Ha.length;t.Sl=!0;t.Xo=!0;k.Ll=!0;t.visible=!0;t.Ti=-1;t.n=c;t.Be=c.d.length;t.gh=0;"undefined"===typeof t.qa&&(t.qa=null);this.Qa=t.jf=!0}var F;y(X);e=0;for(m=k.gb.length;e<m;e++)X.push.apply(X,k.gb[e].jb);X.push.apply(X,k.jb);if(t.vd)for(e=0,m=X.length;e<m;e++){var q=X[e];F=t.U[e];F.vd=!0;q.behavior.fa.call(F,q,t);n=a[4][e];f=0;for(p=n.length;f<p;f++)F.N[f]=n[f];F.P();q.behavior.Fh.add(t)}else for(t.U=
[],e=0,m=X.length;e<m;e++)q=X[e],F=new q.behavior.fa(q,t),F.vd=!1,F.N=a[4][e].slice(0),F.P(),t.U.push(F),q.behavior.Fh.add(t);n=a[5];if(t.vd)for(e=0,m=n.length;e<m;e++)t.N[e]=n[e];else t.N=n.slice(0);this.me.push(t);this.mg=!0;c&&(c.Dj(t,!0),1!==c.Hd||1!==c.$d)&&(k.Ml=!0);this.ln++;if(k.nc){if(t.nc=!0,t.vd?y(t.siblings):t.siblings=[],!b&&!l){e=0;for(m=k.kd.length;e<m;e++)if(k.kd[e]!==k){if(!k.kd[e].Rd)return null;t.siblings.push(this.eg(k.kd[e].Rd,u,!1,h?t.x:g,h?t.y:d,!0))}e=0;for(m=t.siblings.length;e<
m;e++)for(t.siblings[e].siblings.push(t),f=0;f<m;f++)e!==f&&t.siblings[e].siblings.push(t.siblings[f])}}else t.nc=!1,t.siblings=null;t.P();e=0;for(m=t.U.length;e<m;e++)t.U[e].jv&&t.U[e].jv();return t};f.prototype.xm=function(a){var c,b;c=0;for(b=this.Ra.S.length;c<b;c++){var g=this.Ra.S[c];if(Wb(g.name,a))return g}return null};f.prototype.si=function(a){a=Ka(a);0>a&&(a=0);a>=this.Ra.S.length&&(a=this.Ra.S.length-1);return this.Ra.S[a]};f.prototype.Hp=function(a){return Aa(a)?this.si(a):this.xm(a.toString())};
f.prototype.dp=function(a){var c,b;c=0;for(b=a.length;c<b;c++)a[c].X().ea=!0};f.prototype.al=function(a){var c,b;c=0;for(b=a.length;c<b;c++)a[c].al()};f.prototype.Zi=function(a){var c,b;c=0;for(b=a.length;c<b;c++)a[c].Zi()};f.prototype.Ff=function(a){var c,b;c=0;for(b=a.length;c<b;c++)a[c].Ff()};f.prototype.ow=function(a){if(a.Ll){var c,b,g=a.d;c=0;for(b=g.length;c<b;++c)g[c].Nr();g=this.me;c=0;for(b=g.length;c<b;++c)g[c].type===a&&g[c].Nr();a.Ll=!1}};f.prototype.Dp=function(a,c,b,g){var d,e,l=a?
1!==a.Hd||1!==a.$d:!1;if(c.O)for(a=0,d=c.Ag.length;a<d;++a)e=c.Ag[a],l||e.Ml?Wa(g,e.d):(this.ow(e),e.Wl.Jn(b,g));else l||c.Ml?Wa(g,c.d):(this.ow(c),c.Wl.Jn(b,g))};f.prototype.mB=function(a,c,b,g){var d,e;d=0;for(e=c.length;d<e;++d)this.Dp(a,c[d],b,g)};f.prototype.lB=function(a,c,b){var g=this.Qv;g&&this.mB(a,g.Cq,c,b)};f.prototype.Zv=function(a,c,b,g){var d=a.X(),e,l,m,f,p=this.hb().lb.sd,t,k,h;if(d.ea)for(g||(d.ea=!1,y(d.d)),e=0,f=a.d.length;e<f;e++)if(m=a.d[e],m.xa(),t=m.n.Jb(c,b,!0),k=m.n.Jb(c,
b,!1),m.jc(t,k)){if(g)return!1;d.d.push(m)}else p&&d.ca.push(m);else{l=0;h=p?d.ca:d.d;e=0;for(f=h.length;e<f;e++)if(m=h[e],m.xa(),t=m.n.Jb(c,b,!0),k=m.n.Jb(c,b,!1),m.jc(t,k)){if(g)return!1;p?d.d.push(m):(d.d[l]=d.d[e],l++)}g||(h.length=l)}a.jd();return g?!0:d.Rp()};f.prototype.Og=function(a,c){if(!(a&&c&&a!==c&&a.jf&&c.jf))return!1;a.xa();c.xa();var b=a.n,g=c.n,d,e,l,m,f,p,t,k;if(b===g||b.Hd===g.Hd&&g.$d===g.$d&&b.scale===g.scale&&b.k===g.k&&b.Ce===g.Ce){if(!a.Ua.PB(c.Ua)||!a.yc.Ft(c.yc)||a.xd&&c.xd)return!1;
if(a.xd)return this.$v(a,c);if(c.xd)return this.$v(c,a);t=a.qa&&!a.qa.wh();d=c.qa&&!c.qa.wh();if(!t&&!d)return!0;t?(a.qa.Yg(a.width,a.height,a.k),t=a.qa):(this.we.hj(a.yc,a.x,a.y,a.width,a.height),t=this.we);d?(c.qa.Yg(c.width,c.height,c.k),k=c.qa):(this.we.hj(c.yc,c.x,c.y,c.width,c.height),k=this.we);return t.bk(k,c.x-a.x,c.y-a.y)}t=a.qa&&!a.qa.wh();d=c.qa&&!c.qa.wh();t?(a.qa.Yg(a.width,a.height,a.k),this.we.Iv(a.qa)):this.we.hj(a.yc,a.x,a.y,a.width,a.height);t=this.we;d?(c.qa.Yg(c.width,c.height,
c.k),this.Cr.Iv(c.qa)):this.Cr.hj(c.yc,c.x,c.y,c.width,c.height);k=this.Cr;d=0;for(e=t.ae;d<e;d++)l=2*d,m=l+1,f=t.Db[l],p=t.Db[m],t.Db[l]=b.ab(f+a.x,p+a.y,!0),t.Db[m]=b.ab(f+a.x,p+a.y,!1);t.xa();d=0;for(e=k.ae;d<e;d++)l=2*d,m=l+1,f=k.Db[l],p=k.Db[m],k.Db[l]=g.ab(f+c.x,p+c.y,!0),k.Db[m]=g.ab(f+c.x,p+c.y,!1);k.xa();return t.bk(k,0,0)};var ka=new Oa;new Na(0,0,0,0);var ba=[];f.prototype.$v=function(a,c){var b,g,d,e,l=c.Ua,m=a.x,f=a.y;a.FF(l,ba);var p=c.qa&&!c.qa.wh();b=0;for(g=ba.length;b<g;++b)if(d=
ba[b],e=d.iD,l.QB(e,m,f)&&(ka.ij(e),ka.offset(m,f),ka.Ft(c.yc)))if(p)if(c.qa.Yg(c.width,c.height,c.k),d.Ig){if(d.Ig.bk(c.qa,c.x-(m+e.left),c.y-(f+e.top)))return y(ba),!0}else{if(this.we.hj(ka,0,0,e.right-e.left,e.bottom-e.top),this.we.bk(c.qa,c.x,c.y))return y(ba),!0}else if(d.Ig){if(this.we.hj(c.yc,0,0,c.width,c.height),d.Ig.bk(this.we,-(m+e.left),-(f+e.top)))return y(ba),!0}else return y(ba),!0;y(ba);return!1};f.prototype.iw=function(a,c){if(!c)return!1;var b,g,d,e,l;b=0;for(g=a.jb.length;b<g;b++)if(a.jb[b].behavior instanceof
c)return!0;if(!a.O)for(b=0,g=a.gb.length;b<g;b++)for(l=a.gb[b],d=0,e=l.jb.length;d<e;d++)if(l.jb[d].behavior instanceof c)return!0;return!1};f.prototype.Ir=function(a){return this.iw(a,Sc.fF)};f.prototype.Jr=function(a){return this.iw(a,Sc.iF)};var U=[];f.prototype.Wh=function(a){var c,b,g;a.xa();this.lB(a.n,a.Ua,U);c=0;for(b=U.length;c<b;++c)if(g=U[c],g.R.solidEnabled&&this.Og(a,g))return y(U),g;y(U);return null};f.prototype.bD=function(a,c,b,g){g=g||50;var d=a.x,e=a.y,l,m=null,f=null;for(l=0;l<
g;l++)if(a.x=d+c*l,a.y=e+b*l,a.T(),!this.Og(a,m)&&((m=this.Wh(a))&&(f=m),!m&&!m))return f&&this.$C(a,c,b,f),!0;a.x=d;a.y=e;a.T();return!1};f.prototype.$C=function(a,c,b,g){var d=2,e,l=!1;e=!1;for(var m=a.x,f=a.y;16>=d;)e=1/d,d*=2,a.x+=c*e*(l?1:-1),a.y+=b*e*(l?1:-1),a.T(),this.Og(a,g)?e=l=!0:(e=l=!1,m=a.x,f=a.y);e&&(a.x=m,a.y=f,a.T())};f.prototype.cD=function(a){var c=0,b=a.x,g=a.y,d=0,e=0,l=0,m=this.Wh(a);if(m){for(;100>=c;){switch(d){case 0:e=0;l=-1;c++;break;case 1:e=1;l=-1;break;case 2:e=1;l=0;
break;case 3:l=e=1;break;case 4:e=0;l=1;break;case 5:e=-1;l=1;break;case 6:e=-1;l=0;break;case 7:l=e=-1}d=(d+1)%8;a.x=Ka(b+e*c);a.y=Ka(g+l*c);a.T();if(!this.Og(a,m)&&(m=this.Wh(a),!m))return}a.x=b;a.y=g;a.T()}};f.prototype.kD=function(a,c){a.jf&&c.jf&&this.Nh.push([a,c])};f.prototype.az=function(a,c,b){var g,d,e;g=0;for(d=this.Nh.length;g<d;++g){e=this.Nh[g];if(e[0]===a)e=e[1];else if(e[1]===a)e=e[0];else continue;if(c.O){if(-1===c.Ag.indexOf(c))continue}else if(e.type!==c)continue;-1===b.indexOf(e)&&
b.push(e)}};f.prototype.uz=function(a,c){var b,g,d;b=0;for(g=this.Nh.length;b<g;b++)if(d=this.Nh[b],d[0]===a&&d[1]===c||d[0]===c&&d[1]===a)return!0;return!1};f.prototype.rz=function(a,c,b){var g=a.x,d=a.y,e=Ha(10,nb(c,b,g,d)),l=hb(c,b,g,d),m=this.Wh(a);if(!m)return eb(l+Ja);var f=m,p,t,k,h,u=bb(5);for(p=1;36>p;p++)if(t=l-p*u,a.x=c+Math.cos(t)*e,a.y=b+Math.sin(t)*e,a.T(),!this.Og(a,f)&&(f=this.Wh(a),!f)){k=t;break}36===p&&(k=eb(l+Ja));f=m;for(p=1;36>p;p++)if(t=l+p*u,a.x=c+Math.cos(t)*e,a.y=b+Math.sin(t)*
e,a.T(),!this.Og(a,f)&&(f=this.Wh(a),!f)){h=t;break}36===p&&(h=eb(l+Ja));a.x=g;a.y=d;a.T();if(h===k)return h;a=ib(h,k)/2;a=lb(h,k)?eb(k+a+Ja):eb(h+a);k=Math.cos(l);l=Math.sin(l);h=Math.cos(a);a=Math.sin(a);c=k*h+l*a;return hb(0,0,k-2*c*h,l-2*c*a)};var H=-1;f.prototype.trigger=function(a,c,b){if(!this.Ra)return!1;var g=this.Ra.ih;if(!g)return!1;var d=!1,e,l,m;H++;var f=g.pp;l=0;for(m=f.length;l<m;++l)e=this.fw(a,c,f[l],b),d=d||e;e=this.fw(a,c,g,b);H--;return d||e};f.prototype.fw=function(a,c,b,g){var d=
!1,e,l,m,f;if(c)for(m=this.Gr(a,c,c.type.name,b,g),d=d||m,f=c.type.gb,e=0,l=f.length;e<l;++e)m=this.Gr(a,c,f[e].name,b,g),d=d||m;else m=this.Gr(a,c,"system",b,g),d=d||m;return d};f.prototype.Gr=function(a,c,b,g,d){var e,l=!1,m=!1,m="undefined"!==typeof d,f=(m?g.Ws:g.gw)[b];if(!f)return l;var p=null;g=0;for(e=f.length;g<e;++g)if(f[g].method==a){p=f[g].Pj;break}if(!p)return l;var t;m?t=p[d]:t=p;if(!t)return null;g=0;for(e=t.length;g<e;g++)a=t[g][0],d=t[g][1],m=this.RA(c,b,a,d),l=l||m;return l};f.prototype.RA=
function(a,c,b,g){var d,e,l=!1;this.Hr++;var m=this.hb().lb;m&&this.al(m.Ng);var f=1<this.Hr;this.al(b.Ng);f&&this.aD();var p=this.In(b);p.lb=b;a&&(d=this.types[c].X(),d.ea=!1,y(d.d),d.d[0]=a,this.types[c].jd());a=!0;if(b.parent){c=p.Yv;for(d=b.parent;d;)c.push(d),d=d.parent;c.reverse();d=0;for(e=c.length;d<e;d++)if(!c[d].AD()){a=!1;break}}a&&(this.kh++,b.sd?b.zD(g):b.Eb(),l=l||p.yh);this.An();f&&this.RC();this.Ff(b.Ng);m&&this.Ff(m.Ng);this.mg&&0===this.Fd&&0===H&&!this.iq&&this.uc();this.Hr--;return l};
f.prototype.rf=function(){var a=this.hb();return a.lb.Kb[a.wb]};f.prototype.TB=function(){return 0===this.hb().wb};f.prototype.$A=function(){var a=this.hb();return a.lb.Od[a.Tc]};f.prototype.aD=function(){this.cn++;this.cn>=this.xq.length&&this.xq.push([])};f.prototype.RC=function(){this.cn--};f.prototype.kt=function(){return this.xq[this.cn]};f.prototype.In=function(a){this.lm++;this.lm>=this.vp.length&&this.vp.push(new Ec);var c=this.hb();c.reset(a);return c};f.prototype.An=function(){this.lm--};
f.prototype.hb=function(){return this.vp[this.lm]};f.prototype.nv=function(){this.Lk++;this.Lk>=this.Kk.length&&this.Kk.push(fa({name:void 0,index:0,Hb:!1}));var a=this.lt();a.name=void 0;a.index=0;a.Hb=!1;return a};f.prototype.hv=function(){this.Lk--};f.prototype.lt=function(){return this.Kk[this.Lk]};f.prototype.mt=function(a,c){for(var b,g,d,e,l,m;c;){b=0;for(g=c.ee.length;b<g;b++)if(m=c.ee[b],m instanceof Fc&&Wb(a,m.name))return m;c=c.parent}b=0;for(g=this.of.length;b<g;b++)for(l=this.of[b],d=
0,e=l.jg.length;d<e;d++)if(m=l.jg[d],m instanceof Fc&&Wb(a,m.name))return m;return null};f.prototype.ot=function(a){var c,b;c=0;for(b=this.pe.length;c<b;c++)if(this.pe[c].Aa===a)return this.pe[c];return null};f.prototype.zm=function(a){var c,b;c=0;for(b=this.H.length;c<b;c++)if(this.H[c].Aa===a)return this.H[c];return null};f.prototype.bB=function(a){var c,b;c=0;for(b=this.Yf.length;c<b;c++)if(this.Yf[c].Aa===a)return this.Yf[c];return null};f.prototype.Oz=function(a,c){this.ml=[a,c];this.Qa=!0};
f.prototype.GB=function(){var a=this,c=this.jr,b=this.xf,g=this.Ym,d=!1;this.Nv&&(d=!0,c="__c2_continuouspreview",this.Nv=!1);if(c.length){this.uc();b=this.ED();if(h()&&!this.Vd)q(c,b,function(){wa("Saved state to IndexedDB storage ("+b.length+" bytes)");a.xf=b;a.trigger(J.prototype.j.Ho,null);a.xf="";d&&e()},function(g){try{localStorage.setItem("__c2save_"+c,b),wa("Saved state to WebStorage ("+b.length+" bytes)"),a.xf=b,a.trigger(J.prototype.j.Ho,null),a.xf="",d&&e()}catch(l){wa("Failed to save game state: "+
g+"; "+l),a.trigger(J.prototype.j.hs,null)}});else try{localStorage.setItem("__c2save_"+c,b),wa("Saved state to WebStorage ("+b.length+" bytes)"),a.xf=b,this.trigger(J.prototype.j.Ho,null),a.xf="",d&&e()}catch(l){wa("Error saving to WebStorage: "+l),a.trigger(J.prototype.j.hs,null)}this.Ym=this.jr="";this.Sb=null}if(g.length){if(h()&&!this.Vd)r(g,function(c){c?(a.Sb=c,wa("Loaded state from IndexedDB storage ("+a.Sb.length+" bytes)")):(a.Sb=localStorage.getItem("__c2save_"+g)||"",wa("Loaded state from WebStorage ("+
a.Sb.length+" bytes)"));a.pl=!1;a.Sb||(a.Sb=null,a.trigger(J.prototype.j.Fl,null))},function(){a.Sb=localStorage.getItem("__c2save_"+g)||"";wa("Loaded state from WebStorage ("+a.Sb.length+" bytes)");a.pl=!1;a.Sb||(a.Sb=null,a.trigger(J.prototype.j.Fl,null))});else{try{this.Sb=localStorage.getItem("__c2save_"+g)||"",wa("Loaded state from WebStorage ("+this.Sb.length+" bytes)")}catch(m){this.Sb=null}this.pl=!1;a.Sb||(a.Sb=null,a.trigger(J.prototype.j.Fl,null))}this.jr=this.Ym=""}null!==this.Sb&&(this.uc(),
this.jC(this.Sb)?(this.xf=this.Sb,this.trigger(J.prototype.j.Fx,null),this.xf=""):a.trigger(J.prototype.j.Fl,null),this.Sb=null)};f.prototype.ED=function(){var c,b,g,d,e,l,m,f={c2save:!0,version:1,rt:{time:this.zb.na,walltime:this.Qf.na,timescale:this.Pg,tickcount:this.Ld,execcount:this.kh,next_uid:this.Rk,running_layout:this.Ra.Aa,start_time_offset:Date.now()-this.ao},types:{},layouts:{},events:{groups:{},cnds:{},acts:{},vars:{}}};c=0;for(b=this.H.length;c<b;c++)if(e=this.H[c],!e.O&&!this.Ir(e)){l=
{instances:[]};xb(e.R)&&(l.ex=a(e.R));g=0;for(d=e.d.length;g<d;g++)l.instances.push(this.ir(e.d[g]));f.types[e.Aa.toString()]=l}c=0;for(b=this.pe.length;c<b;c++)g=this.pe[c],f.layouts[g.Aa.toString()]=g.Wb();d=f.events.groups;c=0;for(b=this.Yf.length;c<b;c++)g=this.Yf[c],d[g.Aa.toString()]=this.Xj[g.Wj].vi;b=f.events.cnds;for(m in this.bg)this.bg.hasOwnProperty(m)&&(c=this.bg[m],xb(c.R)&&(b[m]={ex:a(c.R)}));b=f.events.acts;for(m in this.Wf)this.Wf.hasOwnProperty(m)&&(c=this.Wf[m],xb(c.R)&&(b[m]={ex:a(c.R)}));
b=f.events.vars;for(m in this.yj)this.yj.hasOwnProperty(m)&&(c=this.yj[m],c.Nm||c.parent&&!c.lk||(b[m]=c.data));f.system=this.Ye.Wb();return JSON.stringify(f)};f.prototype.pv=function(){var a,c,b,g,d,e;this.Ef={};a=0;for(c=this.H.length;a<c;a++)if(b=this.H[a],!b.O)for(g=0,d=b.d.length;g<d;g++)e=b.d[g],this.Ef[e.uid.toString()]=e};f.prototype.jC=function(a){var c;try{c=JSON.parse(a)}catch(b){return!1}if(!c.c2save||1<c.version)return!1;this.fk=!0;a=c.rt;this.zb.reset();this.zb.na=a.time;this.Qf.reset();
this.Qf.na=a.walltime||0;this.Pg=a.timescale;this.Ld=a.tickcount;this.kh=a.execcount;this.ao=Date.now()-a.start_time_offset;var g=a.running_layout;if(g!==this.Ra.Aa)if(g=this.ot(g))this.Ss(g);else return;var d,e,l,m,f,p,t;p=c.types;for(e in p)if(p.hasOwnProperty(e)&&(m=this.zm(parseInt(e,10)))&&!m.O&&!this.Ir(m)){p[e].ex?m.R=p[e].ex:yb(m.R);f=m.d;l=p[e].instances;g=0;for(d=Ia(f.length,l.length);g<d;g++)this.Zm(f[g],l[g]);g=l.length;for(d=f.length;g<d;g++)this.$e(f[g]);g=f.length;for(d=l.length;g<
d;g++){f=null;if(m.Pa.rg&&(f=this.Ra.ym(l[g].w.l),!f))continue;f=this.eg(m.Rd,f,!1,0,0,!0);this.Zm(f,l[g])}m.kj=!0}this.uc();this.pv();d=c.layouts;for(e in d)d.hasOwnProperty(e)&&(g=this.ot(parseInt(e,10)))&&g.oc(d[e]);d=c.events.groups;for(e in d)d.hasOwnProperty(e)&&(g=this.bB(parseInt(e,10)))&&this.Xj[g.Wj]&&this.Xj[g.Wj].Bv(d[e]);g=c.events.cnds;for(e in this.bg)this.bg.hasOwnProperty(e)&&(g.hasOwnProperty(e)?this.bg[e].R=g[e].ex:this.bg[e].R={});g=c.events.acts;for(e in this.Wf)this.Wf.hasOwnProperty(e)&&
(g.hasOwnProperty(e)?this.Wf[e].R=g[e].ex:this.Wf[e].R={});g=c.events.vars;for(e in g)g.hasOwnProperty(e)&&this.yj.hasOwnProperty(e)&&(this.yj[e].data=g[e]);this.Rk=a.next_uid;this.fk=!1;g=0;for(d=this.pm.length;g<d;++g)f=this.pm[g],this.trigger(Object.getPrototypeOf(f.type.Pa).j.Tf,f);y(this.pm);this.Ye.oc(c.system);g=0;for(d=this.H.length;g<d;g++)if(m=this.H[g],!m.O&&!this.Ir(m))for(c=0,e=m.d.length;c<e;c++){f=m.d[c];if(m.nc)for(p=f.Vj(),y(f.siblings),a=0,l=m.kd.length;a<l;a++)t=m.kd[a],m!==t&&
f.siblings.push(t.d[p]);f.De&&f.De();if(f.U)for(a=0,l=f.U.length;a<l;a++)p=f.U[a],p.De&&p.De()}return this.Qa=!0};f.prototype.ir=function(c,b){var g,d,e,l,m;l=c.type;e=l.Pa;var f={};b?f.c2=!0:f.uid=c.uid;xb(c.R)&&(f.ex=a(c.R));if(c.Pb&&c.Pb.length)for(f.ivs={},g=0,d=c.Pb.length;g<d;g++)f.ivs[c.type.$p[g].toString()]=c.Pb[g];if(e.rg){e={x:c.x,y:c.y,w:c.width,h:c.height,l:c.n.Aa,zi:c.Td()};0!==c.k&&(e.a=c.k);1!==c.opacity&&(e.o=c.opacity);.5!==c.Nb&&(e.hX=c.Nb);.5!==c.Ob&&(e.hY=c.Ob);0!==c.vc&&(e.bm=
c.vc);c.visible||(e.v=c.visible);c.jf||(e.ce=c.jf);-1!==c.Ti&&(e.mts=c.Ti);if(l.ka.length)for(e.fx=[],g=0,d=l.ka.length;g<d;g++)m=l.ka[g],e.fx.push({name:m.name,active:c.Vf[m.index],params:c.nb[m.index]});f.w=e}if(c.U&&c.U.length)for(f.behs={},g=0,d=c.U.length;g<d;g++)l=c.U[g],l.Wb&&(f.behs[l.type.Aa.toString()]=l.Wb());c.Wb&&(f.data=c.Wb());return f};f.prototype.dB=function(a,c){var b,g;b=0;for(g=a.$p.length;b<g;b++)if(a.$p[b]===c)return b;return-1};f.prototype.ZA=function(a,c){var b,g;b=0;for(g=
a.U.length;b<g;b++)if(a.U[b].type.Aa===c)return b;return-1};f.prototype.Zm=function(a,c,b){var g,d,e,l,m;m=a.type;var f=m.Pa;if(b){if(!c.c2)return}else a.uid=c.uid;c.ex?a.R=c.ex:yb(a.R);if(d=c.ivs)for(g in d)d.hasOwnProperty(g)&&(e=this.dB(m,parseInt(g,10)),0>e||e>=a.Pb.length||(l=d[g],null===l&&(l=NaN),a.Pb[e]=l));if(f.rg){e=c.w;a.n.Aa!==e.l&&(d=a.n,a.n=this.Ra.ym(e.l),a.n?(d.bj(a,!0),a.n.Dj(a,!0),a.T(),a.n.hl(0)):(a.n=d,b||this.$e(a)));a.x=e.x;a.y=e.y;a.width=e.w;a.height=e.h;a.Be=e.zi;a.k=e.hasOwnProperty("a")?
e.a:0;a.opacity=e.hasOwnProperty("o")?e.o:1;a.Nb=e.hasOwnProperty("hX")?e.hX:.5;a.Ob=e.hasOwnProperty("hY")?e.hY:.5;a.visible=e.hasOwnProperty("v")?e.v:!0;a.jf=e.hasOwnProperty("ce")?e.ce:!0;a.Ti=e.hasOwnProperty("mts")?e.mts:-1;a.vc=e.hasOwnProperty("bm")?e.bm:0;a.Hj=Ib(a.vc);this.I&&Kb(a,a.vc,this.I);a.T();if(e.hasOwnProperty("fx"))for(b=0,d=e.fx.length;b<d;b++)l=m.Fp(e.fx[b].name),0>l||(a.Vf[l]=e.fx[b].active,a.nb[l]=e.fx[b].params);a.Ae()}if(m=c.behs)for(g in m)m.hasOwnProperty(g)&&(b=this.ZA(a,
parseInt(g,10)),0>b||a.U[b].oc(m[g]));c.data&&a.oc(c.data)};f.prototype.Xs=function(a,c,b){window.resolveLocalFileSystemURL(cordova.file.applicationDirectory+"www/"+a,function(a){a.file(c,b)},b)};f.prototype.SA=function(a,c){this.Xs("data.js",function(b){var g=new FileReader;g.onload=function(c){a(c.target.result)};g.onerror=c;g.readAsText(b)},c)};var sa=[],ta=0;f.prototype.Aq=function(){if(sa.length&&!(8<=ta)){ta++;var a=sa.shift();this.Rz(a.filename,a.YD,a.oA)}};f.prototype.Ys=function(a,c,b){var g=
this;sa.push({filename:a,YD:function(a){ta--;g.Aq();c(a)},oA:function(a){ta--;g.Aq();b(a)}});this.Aq()};f.prototype.Rz=function(a,c,b){this.Xs(a,function(a){var b=new FileReader;b.onload=function(a){c(a.target.result)};b.readAsArrayBuffer(a)},b)};f.prototype.TA=function(a,c,b){var g="",d=a.toLowerCase(),e=d.substr(d.length-4),d=d.substr(d.length-5);".mp4"===e?g="video/mp4":".webm"===d?g="video/webm":".m4a"===e?g="audio/mp4":".mp3"===e&&(g="audio/mpeg");this.Ys(a,function(a){a=URL.createObjectURL(new Blob([a],
{type:g}));c(a)},b)};f.prototype.RB=function(a){return/^(?:[a-z]+:)?\/\//.test(a)||"data:"===a.substr(0,5)||"blob:"===a.substr(0,5)};f.prototype.Cv=function(a,c){this.Lm&&!this.RB(c)?this.TA(c,function(c){a.src=c},function(a){alert("Failed to load image: "+a)}):a.src=c};f.prototype.Rn=function(a,c){"undefined"!==typeof a.imageSmoothingEnabled?a.imageSmoothingEnabled=c:(a.webkitImageSmoothingEnabled=c,a.mozImageSmoothingEnabled=c,a.msImageSmoothingEnabled=c)};Gc=function(a){return new f(document.getElementById(a))};
Hc=function(a,c){return new f({dc:!0,width:a,height:c})};window.cr_createRuntime=Gc;window.cr_createDCRuntime=Hc;window.createCocoonJSRuntime=function(){window.c2cocoonjs=!0;var a=document.createElement("screencanvas")||document.createElement("canvas");a.ok=!0;document.body.appendChild(a);a=new f(a);window.c2runtime=a;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,window.innerHeight)});window.c2runtime.setSize(window.innerWidth,window.innerHeight);
return a};window.createEjectaRuntime=function(){var a=new f(document.getElementById("canvas"));window.c2runtime=a;window.c2runtime.setSize(window.innerWidth,window.innerHeight);return a}})();window.cr_getC2Runtime=function(){var f=document.getElementById("c2canvas");return f?f.c2runtime:window.c2runtime?window.c2runtime:null};window.cr_getSnapshot=function(f,k){var h=window.cr_getC2Runtime();h&&h.Oz(f,k)};
window.cr_sizeCanvas=function(f,k){if(0!==f&&0!==k){var h=window.cr_getC2Runtime();h&&h.setSize(f,k)}};window.cr_setSuspended=function(f){var k=window.cr_getC2Runtime();k&&k.setSuspended(f)};
(function(){function f(a,b){this.b=a;this.ih=null;this.scrollX=this.b.Ub/2;this.scrollY=this.b.Tb/2;this.scale=1;this.k=0;this.qi=!0;this.name=b[0];this.JC=b[1];this.IC=b[2];this.width=b[1];this.height=b[2];this.jw=b[3];this.Lv=b[4];this.Aa=b[5];var d=b[6],e,f;this.S=[];this.ak=[];e=0;for(f=d.length;e<f;e++){var k=new Ic(this,d[e]);k.Hu=e;this.S.push(k)}d=b[7];this.ng=[];e=0;for(f=d.length;e<f;e++){var k=d[e],h=this.b.H[k[1]];h.Rd||(h.Rd=k);this.ng.push(k);-1===this.ak.indexOf(h)&&this.ak.push(h)}this.ka=
[];this.Ha=[];this.Kf=!0;this.nb=[];e=0;for(f=b[8].length;e<f;e++)this.ka.push({id:b[8][e][0],name:b[8][e][1],Fb:-1,Zc:!1,Ib:!0,index:e}),this.nb.push(b[8][e][2].slice(0));this.Ae();this.Jg=new Na(0,0,1,1);this.$q=new Na(0,0,1,1);this.Gg={}}function k(a,b){return a.Be-b.Be}function h(a,b){this.tb=a;this.b=a.b;this.d=[];this.scale=1;this.k=0;this.mf=!1;this.Nf=new Na(0,0,0,0);this.dw=new Oa;this.Sa=this.Na=this.Ta=this.Ma=0;this.Yh=!1;this.Rf=-1;this.ep=0;this.name=b[0];this.index=b[1];this.Aa=b[2];
this.visible=b[3];this.je=b[4];this.ze=b[5];this.Hd=b[6];this.$d=b[7];this.opacity=b[8];this.tm=b[9];this.Nd=b[10];this.Ce=b[11];this.vc=b[12];this.kA=b[13];this.Hj="source-over";this.Dc=this.Jc=0;this.rc=null;this.yf=n();this.te=!0;this.Li=new Na(0,0,-1,-1);this.kc=new Na(0,0,-1,-1);this.Nd&&(this.rc=new Hb(this.b.Ub,this.b.Tb));this.We=!1;var d=b[14],e,f;this.Rv=[];this.Ed=[];this.Jj=[];e=0;for(f=d.length;e<f;e++){var k=d[e],h=this.b.H[k[1]];h.Rd||(h.Rd=k,h.Kz=this.index);this.Ed.push(k);-1===this.tb.ak.indexOf(h)&&
this.tb.ak.push(h)}Va(this.Rv,this.Ed);this.ka=[];this.Ha=[];this.Kf=!0;this.nb=[];e=0;for(f=b[15].length;e<f;e++)this.ka.push({id:b[15][e][0],name:b[15][e][1],Fb:-1,Zc:!1,Ib:!0,index:e}),this.nb.push(b[15][e][2].slice(0));this.Ae();this.Jg=new Na(0,0,1,1);this.$q=new Na(0,0,1,1)}function n(){return a.length?a.pop():[]}function q(c){y(c);a.push(c)}f.prototype.DD=function(a){var b=a.type.Aa.toString();this.Gg.hasOwnProperty(b)||(this.Gg[b]=[]);this.Gg[b].push(this.b.ir(a))};f.prototype.wt=function(){var a=
this.S[0];return!a.ze&&1===a.opacity&&!a.tm&&a.visible};f.prototype.Ae=function(){y(this.Ha);this.Kf=!0;var a,b,d;a=0;for(b=this.ka.length;a<b;a++)d=this.ka[a],d.Ib&&(this.Ha.push(d),d.Zc||(this.Kf=!1))};f.prototype.Ep=function(a){var b,d,e;b=0;for(d=this.ka.length;b<d;b++)if(e=this.ka[b],e.name===a)return e;return null};var r=[],e=!0;f.prototype.sr=function(){this.Lv&&(this.ih=this.b.wp[this.Lv],this.ih.Kr());this.b.Ra=this;this.width=this.JC;this.height=this.IC;this.scrollX=this.b.Ub/2;this.scrollY=
this.b.Tb/2;var a,b,d,l,f,h,n;a=0;for(d=this.b.H.length;a<d;a++)if(b=this.b.H[a],!b.O)for(f=b.d,b=0,l=f.length;b<l;b++)if(h=f[b],h.n){var p=h.n.Hu;p>=this.S.length&&(p=this.S.length-1);h.n=this.S[p];-1===h.n.d.indexOf(h)&&h.n.d.push(h);h.n.Yh=!0}if(!e)for(a=0,d=this.S.length;a<d;++a)this.S[a].d.sort(k);y(r);this.pz();a=0;for(d=this.S.length;a<d;a++)h=this.S[a],h.Gz(),h.so();f=!1;if(!this.qi){for(n in this.Gg)if(this.Gg.hasOwnProperty(n)&&(b=this.b.zm(parseInt(n,10)))&&!b.O&&this.b.Jr(b)){l=this.Gg[n];
a=0;for(d=l.length;a<d;a++){h=null;if(b.Pa.rg&&(h=this.ym(l[a].w.l),!h))continue;h=this.b.eg(b.Rd,h,!1,0,0,!0);this.b.Zm(h,l[a]);f=!0;r.push(h)}y(l)}a=0;for(d=this.S.length;a<d;a++)this.S[a].d.sort(k),this.S[a].Yh=!0}f&&(this.b.uc(),this.b.pv());for(a=0;a<r.length;a++)if(h=r[a],h.type.nc)for(d=h.Vj(),b=0,l=h.type.kd.length;b<l;b++)n=h.type.kd[b],h.type!==n&&(n.d.length>d?h.siblings.push(n.d[d]):n.Rd&&(f=this.b.eg(n.Rd,h.n,!0,h.x,h.y,!0),this.b.uc(),n.po(),h.siblings.push(f),r.push(f)));a=0;for(d=
this.ng.length;a<d;a++)h=this.ng[a],b=this.b.H[h[1]],b.nc||this.b.eg(this.ng[a],null,!0);this.b.Zg=null;this.b.uc();if(this.b.fb&&!this.b.pb)for(a=0,d=this.b.H.length;a<d;a++)n=this.b.H[a],!n.O&&n.d.length&&n.Fn&&n.Fn(this.b.fb);if(this.b.fk)Va(this.b.pm,r);else for(a=0,d=r.length;a<d;a++)h=r[a],this.b.trigger(Object.getPrototypeOf(h.type.Pa).j.Tf,h);y(r);this.b.fk||this.b.trigger(J.prototype.j.bs,null);this.qi=!1};f.prototype.Fz=function(){var a,b,d,e,f;b=a=0;for(d=this.ng.length;a<d;a++)e=this.ng[a],
f=this.b.H[e[1]],f.global?f.nc||this.b.eg(e,null,!0):(this.ng[b]=e,b++);Ua(this.ng,b)};f.prototype.XD=function(){this.b.fk||this.b.trigger(J.prototype.j.Ex,null);this.b.cq=!0;y(this.b.Ye.fd);var a,b,d,l,f,k;if(!this.qi)for(a=0,b=this.S.length;a<b;a++)for(this.S[a].Mr(),f=this.S[a].d,d=0,l=f.length;d<l;d++)k=f[d],k.type.global||this.b.Jr(k.type)&&this.DD(k);a=0;for(b=this.S.length;a<b;a++){f=this.S[a].d;d=0;for(l=f.length;d<l;d++)k=f[d],k.type.global||this.b.$e(k);this.b.uc();y(f);this.S[a].Yh=!0}a=
0;for(b=this.b.H.length;a<b;a++)if(f=this.b.H[a],!(f.global||f.Pa.rg||f.Pa.Yn||f.O)){d=0;for(l=f.d.length;d<l;d++)this.b.$e(f.d[d]);this.b.uc()}e=!1;this.b.cq=!1};new Na(0,0,0,0);f.prototype.Bd=function(a){var b,d=a,e=!1,f=!this.b.Cd;f&&(this.b.Xm||(this.b.Xm=document.createElement("canvas"),b=this.b.Xm,b.width=this.b.W,b.height=this.b.V,this.b.Zt=b.getContext("2d"),e=!0),b=this.b.Xm,d=this.b.Zt,b.width!==this.b.W&&(b.width=this.b.W,e=!0),b.height!==this.b.V&&(b.height=this.b.V,e=!0),e&&this.b.Rn(d,
this.b.bb));d.globalAlpha=1;d.globalCompositeOperation="source-over";this.b.Hs&&!this.wt()&&d.clearRect(0,0,this.b.W,this.b.V);var k,h,e=0;for(k=this.S.length;e<k;e++)h=this.S[e],h.visible&&0<h.opacity&&11!==h.vc&&(h.d.length||!h.ze)?h.Bd(d):h.so();f&&a.drawImage(b,0,0,this.b.width,this.b.height)};f.prototype.eh=function(a){a.Av(!0);this.b.Ab||(this.b.Ab=a.Ad(this.b.W,this.b.V,this.b.bb));if(this.b.Ab.Xg!==this.b.W||this.b.Ab.Wg!==this.b.V)a.deleteTexture(this.b.Ab),this.b.Ab=a.Ad(this.b.W,this.b.V,
this.b.bb);a.de(this.b.Ab);this.b.Cd||a.Ph(this.b.W,this.b.V);var b,d;for(b=this.S.length-1;0<=b;--b)d=this.S[b],d.visible&&1===d.opacity&&d.Kf&&0===d.vc&&(d.d.length||!d.ze)?d.eh(a):d.so();a.Av(!1)};f.prototype.Ec=function(a){var b=0<this.Ha.length||this.b.uj||!this.b.Cd||this.b.Za;if(b){this.b.Ab||(this.b.Ab=a.Ad(this.b.W,this.b.V,this.b.bb));if(this.b.Ab.Xg!==this.b.W||this.b.Ab.Wg!==this.b.V)a.deleteTexture(this.b.Ab),this.b.Ab=a.Ad(this.b.W,this.b.V,this.b.bb);a.de(this.b.Ab);this.b.Cd||a.Ph(this.b.W,
this.b.V)}else this.b.Ab&&(a.de(null),a.deleteTexture(this.b.Ab),this.b.Ab=null);this.b.Hs&&!this.wt()&&a.clear(0,0,0,0);var d,e,f;d=0;for(e=this.S.length;d<e;d++)f=this.S[d],f.visible&&0<f.opacity&&(f.d.length||!f.ze)?f.Ec(a):f.so();b&&(0===this.Ha.length||1===this.Ha.length&&this.b.Cd?(1===this.Ha.length?(b=this.Ha[0].index,a.dd(this.Ha[0].Fb),a.gj(null,1/this.b.W,1/this.b.V,0,0,1,1,this.scale,this.k,0,0,this.b.W/2,this.b.V/2,this.b.zb.na,this.nb[b]),a.Gn(this.Ha[0].Fb)&&(this.b.Qa=!0)):a.dd(0),
this.b.Cd||a.Ph(this.b.width,this.b.height),a.de(null),a.zv(!1),a.Mg(1),a.cd(this.b.Ab),a.wv(),a.be(),a.Md(),b=this.b.width/2,d=this.b.height/2,a.$i(-b,d,b,d,b,-d,-b,-d),a.cd(null),a.zv(!0)):this.br(a,null,null,null))};f.prototype.Uj=function(){return 0<this.Ha.length||this.b.uj||!this.b.Cd||this.b.Za?this.b.Ab:null};f.prototype.pt=function(){var a=this.S[0].Wc(),b,d,e;b=1;for(d=this.S.length;b<d;b++)e=this.S[b],(0!==e.Hd||0!==e.$d)&&e.Wc()<a&&(a=e.Wc());return a};f.prototype.kr=function(a){if(!this.jw){var b=
1/this.pt()*this.b.W/2;a>this.width-b&&(a=this.width-b);a<b&&(a=b)}this.scrollX!==a&&(this.scrollX=a,this.b.Qa=!0)};f.prototype.lr=function(a){if(!this.jw){var b=1/this.pt()*this.b.V/2;a>this.height-b&&(a=this.height-b);a<b&&(a=b)}this.scrollY!==a&&(this.scrollY=a,this.b.Qa=!0)};f.prototype.pz=function(){this.kr(this.scrollX);this.lr(this.scrollY)};f.prototype.br=function(a,b,d,e){var f=d?d.Ha:b?b.Ha:this.Ha,k=1,h=0,p=0,u=0,n=this.b.W,q=this.b.V;d?(k=d.n.Wc(),h=d.n.Xa(),p=d.n.Ma,u=d.n.Na,n=d.n.Ta,
q=d.n.Sa):b&&(k=b.Wc(),h=b.Xa(),p=b.Ma,u=b.Na,n=b.Ta,q=b.Sa);var r=this.b.Ap,F,L,v,C,V=0,X=1,ka,ba,U=this.b.W,H=this.b.V,sa=U/2,ta=H/2,A=b?b.Jg:this.Jg,x=b?b.$q:this.$q,w=0,W=0,B=0,G=0,O=U,Ca=U,Q=H,la=H,aa=v=0;C=d?d.n.Xa():0;if(d){F=0;for(L=f.length;F<L;F++)v+=a.iB(f[F].Fb),aa+=a.jB(f[F].Fb);G=d.Ua;w=b.ab(G.left,G.top,!0,!0);B=b.ab(G.left,G.top,!1,!0);O=b.ab(G.right,G.bottom,!0,!0);Q=b.ab(G.right,G.bottom,!1,!0);0!==C&&(F=b.ab(G.right,G.top,!0,!0),L=b.ab(G.right,G.top,!1,!0),W=b.ab(G.left,G.bottom,
!0,!0),G=b.ab(G.left,G.bottom,!1,!0),C=Math.min(w,O,F,W),O=Math.max(w,O,F,W),w=C,C=Math.min(B,Q,L,G),Q=Math.max(B,Q,L,G),B=C);w-=v;B-=aa;O+=v;Q+=aa;x.left=w/U;x.top=1-B/H;x.right=O/U;x.bottom=1-Q/H;W=w=Ka(w);G=B=Ka(B);Ca=O=La(O);la=Q=La(Q);W-=v;G-=aa;Ca+=v;la+=aa;0>w&&(w=0);0>B&&(B=0);O>U&&(O=U);Q>H&&(Q=H);0>W&&(W=0);0>G&&(G=0);Ca>U&&(Ca=U);la>H&&(la=H);A.left=w/U;A.top=1-B/H;A.right=O/U;A.bottom=1-Q/H}else A.left=x.left=0,A.top=x.top=0,A.right=x.right=1,A.bottom=x.bottom=1;aa=d&&(a.Zk(f[0].Fb)||
0!==v||0!==aa||1!==d.opacity||d.type.Pa.Cu)||b&&!d&&1!==b.opacity;a.wv();if(aa){r[V]||(r[V]=a.Ad(U,H,this.b.bb));if(r[V].Xg!==U||r[V].Wg!==H)a.deleteTexture(r[V]),r[V]=a.Ad(U,H,this.b.bb);a.dd(0);a.de(r[V]);ba=la-G;a.clearRect(W,H-G-ba,Ca-W,ba);d?d.Ec(a):(a.cd(this.b.Rb),a.Mg(b.opacity),a.be(),a.translate(-sa,-ta),a.Md(),a.Ve(w,Q,O,Q,O,B,w,B,A));x.left=x.top=0;x.right=x.bottom=1;d&&(C=A.top,A.top=A.bottom,A.bottom=C);V=1;X=0}a.Mg(1);v=f.length-1;var ga=a.Vq(f[v].Fb)||!b&&!d&&!this.b.Cd;F=C=0;for(L=
f.length;F<L;F++){r[V]||(r[V]=a.Ad(U,H,this.b.bb));if(r[V].Xg!==U||r[V].Wg!==H)a.deleteTexture(r[V]),r[V]=a.Ad(U,H,this.b.bb);a.dd(f[F].Fb);C=f[F].index;a.Gn(f[F].Fb)&&(this.b.Qa=!0);0!=F||aa?(a.gj(e,1/U,1/H,x.left,x.top,x.right,x.bottom,k,h,p,u,(p+n)/2,(u+q)/2,this.b.zb.na,d?d.nb[C]:b?b.nb[C]:this.nb[C]),a.cd(null),F!==v||ga?(a.de(r[V]),ba=la-G,ka=H-G-ba,a.clearRect(W,ka,Ca-W,ba)):(d?a.Lg(d.Jc,d.Dc):b&&a.Lg(b.Jc,b.Dc),a.de(e)),a.cd(r[X]),a.be(),a.translate(-sa,-ta),a.Md(),a.Ve(w,Q,O,Q,O,B,w,B,A),
F!==v||ga||a.cd(null)):(a.de(r[V]),ba=la-G,ka=H-G-ba,a.clearRect(W,ka,Ca-W,ba),d?(d.Lb&&d.Lb.ba?(ka=d.Lb.ba,X=1/ka.width,ka=1/ka.height):(X=1/d.width,ka=1/d.height),a.gj(e,X,ka,x.left,x.top,x.right,x.bottom,k,h,p,u,(p+n)/2,(u+q)/2,this.b.zb.na,d.nb[C]),d.Ec(a)):(a.gj(e,1/U,1/H,0,0,1,1,k,h,p,u,(p+n)/2,(u+q)/2,this.b.zb.na,b?b.nb[C]:this.nb[C]),a.cd(b?this.b.Rb:this.b.Ab),a.be(),a.translate(-sa,-ta),a.Md(),a.Ve(w,Q,O,Q,O,B,w,B,A)),x.left=x.top=0,x.right=x.bottom=1,d&&!ga&&(C=Q,Q=B,B=C));V=0===V?1:0;
X=0===V?1:0}ga&&(a.dd(0),d?a.Lg(d.Jc,d.Dc):b?a.Lg(b.Jc,b.Dc):this.b.Cd||(a.Ph(this.b.width,this.b.height),sa=this.b.width/2,ta=this.b.height/2,B=w=0,O=this.b.width,Q=this.b.height),a.de(e),a.cd(r[X]),a.be(),a.translate(-sa,-ta),a.Md(),d&&1===f.length&&!aa?a.Ve(w,B,O,B,O,Q,w,Q,A):a.Ve(w,Q,O,Q,O,B,w,B,A),a.cd(null))};f.prototype.ym=function(a){var b,d;b=0;for(d=this.S.length;b<d;b++)if(this.S[b].Aa===a)return this.S[b];return null};f.prototype.Wb=function(){var a,b,d,e={sx:this.scrollX,sy:this.scrollY,
s:this.scale,a:this.k,w:this.width,h:this.height,fv:this.qi,persist:this.Gg,fx:[],layers:{}};a=0;for(b=this.ka.length;a<b;a++)d=this.ka[a],e.fx.push({name:d.name,active:d.Ib,params:this.nb[d.index]});a=0;for(b=this.S.length;a<b;a++)d=this.S[a],e.layers[d.Aa.toString()]=d.Wb();return e};f.prototype.oc=function(a){var b,d,e,f;this.scrollX=a.sx;this.scrollY=a.sy;this.scale=a.s;this.k=a.a;this.width=a.w;this.height=a.h;this.Gg=a.persist;"undefined"!==typeof a.fv&&(this.qi=a.fv);var k=a.fx;b=0;for(d=k.length;b<
d;b++)if(e=this.Ep(k[b].name))e.Ib=k[b].active,this.nb[e.index]=k[b].params;this.Ae();b=a.layers;for(f in b)b.hasOwnProperty(f)&&(a=this.ym(parseInt(f,10)))&&a.oc(b[f])};uc=f;h.prototype.Ae=function(){y(this.Ha);this.Kf=!0;var a,b,d;a=0;for(b=this.ka.length;a<b;a++)d=this.ka[a],d.Ib&&(this.Ha.push(d),d.Zc||(this.Kf=!1))};h.prototype.Ep=function(a){var b,d,e;b=0;for(d=this.ka.length;b<d;b++)if(e=this.ka[b],e.name===a)return e;return null};h.prototype.Gz=function(){var a,b,d,e,f,k;b=a=0;for(d=this.Ed.length;a<
d;a++){e=this.Ed[a];f=this.b.H[e[1]];k=this.b.Jr(f);f=!0;if(!k||this.tb.qi){e=this.b.eg(e,this,!0);if(!e)continue;r.push(e);e.type.global&&(f=!1,this.Jj.push(e.uid))}f&&(this.Ed[b]=this.Ed[a],b++)}this.Ed.length=b;this.b.uc();!this.b.F&&this.ka.length&&(this.vc=this.kA);this.Hj=Ib(this.vc);this.b.I&&Kb(this,this.vc,this.b.I);this.te=!0};h.prototype.bj=function(a,b){var d=Xa(this.d,a);0>d||(b&&this.Nd&&a.ad&&a.ad.right>=a.ad.left&&(a.xa(),this.rc.update(a,a.ad,null),a.ad.set(0,0,-1,-1)),d===this.d.length-
1?this.d.pop():(Qa(this.d,d),this.hl(d)),this.te=!0)};h.prototype.Dj=function(a,b){a.Be=this.d.length;this.d.push(a);b&&this.Nd&&a.ad&&a.T();this.te=!0};h.prototype.WC=function(a){this.d.unshift(a);this.hl(0)};h.prototype.sC=function(a,b,d){var e=a.Td();b=b.Td();Qa(this.d,e);e<b&&b--;d&&b++;b===this.d.length?this.d.push(a):this.d.splice(b,0,a);this.hl(e<b?e:b)};h.prototype.hl=function(a){-1===this.Rf?this.Rf=a:a<this.Rf&&(this.Rf=a);this.te=this.Yh=!0};h.prototype.Mr=function(){if(this.Yh){-1===this.Rf&&
(this.Rf=0);var a,b,d;if(this.Nd)for(a=this.Rf,b=this.d.length;a<b;++a)d=this.d[a],d.Be=a,this.rc.pC(d.ad);else for(a=this.Rf,b=this.d.length;a<b;++a)this.d[a].Be=a;this.Yh=!1;this.Rf=-1}};h.prototype.Wc=function(a){return this.fB()*(this.b.Cd||a?this.b.Ej:1)};h.prototype.fB=function(){return(this.scale*this.tb.scale-1)*this.Ce+1};h.prototype.Xa=function(){return this.mf?0:eb(this.tb.k+this.k)};var a=[],d=[],b=[];h.prototype.Jp=function(){this.Mr();this.rc.Jn(this.Ma,this.Na,this.Ta,this.Sa,b);if(!b.length)return n();
if(1===b.length){var a=n();Va(a,b[0]);y(b);return a}for(var g=!0;1<b.length;){for(var a=b,e=void 0,l=void 0,f=void 0,k=void 0,h=void 0,e=0,l=a.length;e<l-1;e+=2){var f=a[e],k=a[e+1],h=n(),p=f,u=k,I=h,r=0,D=0,F=0,L=p.length,v=u.length,C=void 0,V=void 0;for(I.length=L+v;r<L&&D<v;++F)C=p[r],V=u[D],C.Be<V.Be?(I[F]=C,++r):(I[F]=V,++D);for(;r<L;++r,++F)I[F]=p[r];for(;D<v;++D,++F)I[F]=u[D];g||(q(f),q(k));d.push(h)}1===l%2&&(g?(f=n(),Va(f,a[l-1]),d.push(f)):d.push(a[l-1]));Va(a,d);y(d);g=!1}a=b[0];y(b);return a};
h.prototype.Bd=function(a){this.We=this.tm||1!==this.opacity||0!==this.vc;var b=this.b.canvas,d=a,e=!1;this.We&&(this.b.Wm||(this.b.Wm=document.createElement("canvas"),b=this.b.Wm,b.width=this.b.W,b.height=this.b.V,this.b.Yt=b.getContext("2d"),e=!0),b=this.b.Wm,d=this.b.Yt,b.width!==this.b.W&&(b.width=this.b.W,e=!0),b.height!==this.b.V&&(b.height=this.b.V,e=!0),e&&this.b.Rn(d,this.b.bb),this.ze&&d.clearRect(0,0,this.b.W,this.b.V));d.globalAlpha=1;d.globalCompositeOperation="source-over";this.ze||
(d.fillStyle="rgb("+this.je[0]+","+this.je[1]+","+this.je[2]+")",d.fillRect(0,0,this.b.W,this.b.V));d.save();this.mf=!0;var e=this.Jb(0,0,!0,!0),f=this.Jb(0,0,!1,!0);this.mf=!1;this.b.Id&&(e=Math.round(e),f=Math.round(f));this.Mn(e,f,d);var k=this.Wc();d.scale(k,k);d.translate(-e,-f);this.Nd?(this.kc.left=this.rc.Rc(this.Ma),this.kc.top=this.rc.Sc(this.Na),this.kc.right=this.rc.Rc(this.Ta),this.kc.bottom=this.rc.Sc(this.Sa),this.te||!this.kc.Oj(this.Li)?(q(this.yf),e=this.Jp(),this.te=!1,this.Li.gi(this.kc)):
e=this.yf):e=this.d;for(var h,p=null,f=0,k=e.length;f<k;++f)h=e[f],h!==p&&(this.fA(h,d),p=h);this.Nd&&(this.yf=e);d.restore();this.We&&(a.globalCompositeOperation=this.Hj,a.globalAlpha=this.opacity,a.drawImage(b,0,0))};h.prototype.fA=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.xa();var d=a.Ua;d.right<this.Ma||d.bottom<this.Na||d.left>this.Ta||d.top>this.Sa||(b.globalCompositeOperation=a.Hj,a.Bd(b))}};h.prototype.so=function(){this.mf=!0;var a=this.Jb(0,0,!0,!0),b=this.Jb(0,0,!1,!0);this.mf=
!1;this.b.Id&&(a=Math.round(a),b=Math.round(b));this.Mn(a,b,null)};h.prototype.Mn=function(a,b,d){var e=this.Wc();this.Ma=a;this.Na=b;this.Ta=a+1/e*this.b.W;this.Sa=b+1/e*this.b.V;this.Ma>this.Ta&&(a=this.Ma,this.Ma=this.Ta,this.Ta=a);this.Na>this.Sa&&(a=this.Na,this.Na=this.Sa,this.Sa=a);a=this.Xa();0!==a&&(d&&(d.translate(this.b.W/2,this.b.V/2),d.rotate(-a),d.translate(this.b.W/-2,this.b.V/-2)),this.Nf.set(this.Ma,this.Na,this.Ta,this.Sa),this.Nf.offset((this.Ma+this.Ta)/-2,(this.Na+this.Sa)/-2),
this.dw.Jv(this.Nf,a),this.dw.zs(this.Nf),this.Nf.offset((this.Ma+this.Ta)/2,(this.Na+this.Sa)/2),this.Ma=this.Nf.left,this.Na=this.Nf.top,this.Ta=this.Nf.right,this.Sa=this.Nf.bottom)};h.prototype.eh=function(a){if(this.We=this.tm){this.b.Rb||(this.b.Rb=a.Ad(this.b.W,this.b.V,this.b.bb));if(this.b.Rb.Xg!==this.b.W||this.b.Rb.Wg!==this.b.V)a.deleteTexture(this.b.Rb),this.b.Rb=a.Ad(this.b.W,this.b.V,this.b.bb);a.de(this.b.Rb)}this.mf=!0;var b=this.Jb(0,0,!0,!0),d=this.Jb(0,0,!1,!0);this.mf=!1;this.b.Id&&
(b=Math.round(b),d=Math.round(d));this.Mn(b,d,null);b=this.Wc();a.be();a.scale(b,b);a.Nn(-this.Xa());a.translate((this.Ma+this.Ta)/-2,(this.Na+this.Sa)/-2);a.Md();this.Nd?(this.kc.left=this.rc.Rc(this.Ma),this.kc.top=this.rc.Sc(this.Na),this.kc.right=this.rc.Rc(this.Ta),this.kc.bottom=this.rc.Sc(this.Sa),this.te||!this.kc.Oj(this.Li)?(q(this.yf),b=this.Jp(),this.te=!1,this.Li.gi(this.kc)):b=this.yf):b=this.d;for(var e,f=null,d=b.length-1;0<=d;--d)e=b[d],e!==f&&(this.hA(b[d],a),f=e);this.Nd&&(this.yf=
b);this.ze||(this.ep=this.b.gh++,a.Sn(this.ep),a.yv(1,1,1),a.dt(),a.uD())};h.prototype.Ec=function(a){var b=0,d=0;if(this.We=this.tm||1!==this.opacity||0<this.Ha.length||0!==this.vc){this.b.Rb||(this.b.Rb=a.Ad(this.b.W,this.b.V,this.b.bb));if(this.b.Rb.Xg!==this.b.W||this.b.Rb.Wg!==this.b.V)a.deleteTexture(this.b.Rb),this.b.Rb=a.Ad(this.b.W,this.b.V,this.b.bb);a.de(this.b.Rb);this.ze&&a.clear(0,0,0,0)}this.ze||(this.b.Za?(a.Sn(this.ep),a.yv(this.je[0]/255,this.je[1]/255,this.je[2]/255),a.dt(),a.OD()):
a.clear(this.je[0]/255,this.je[1]/255,this.je[2]/255,1));this.mf=!0;var e=this.Jb(0,0,!0,!0),b=this.Jb(0,0,!1,!0);this.mf=!1;this.b.Id&&(e=Math.round(e),b=Math.round(b));this.Mn(e,b,null);e=this.Wc();a.be();a.scale(e,e);a.Nn(-this.Xa());a.translate((this.Ma+this.Ta)/-2,(this.Na+this.Sa)/-2);a.Md();this.Nd?(this.kc.left=this.rc.Rc(this.Ma),this.kc.top=this.rc.Sc(this.Na),this.kc.right=this.rc.Rc(this.Ta),this.kc.bottom=this.rc.Sc(this.Sa),this.te||!this.kc.Oj(this.Li)?(q(this.yf),b=this.Jp(),this.te=
!1,this.Li.gi(this.kc)):b=this.yf):b=this.d;var f,k,h=null,d=0;for(f=b.length;d<f;++d)k=b[d],k!==h&&(this.gA(b[d],a),h=k);this.Nd&&(this.yf=b);this.We&&(b=this.Ha.length?this.Ha[0].Fb:0,d=this.Ha.length?this.Ha[0].index:0,0===this.Ha.length||1===this.Ha.length&&!a.Vq(b)&&1===this.opacity?(1===this.Ha.length?(a.dd(b),a.gj(this.tb.Uj(),1/this.b.W,1/this.b.V,0,0,1,1,e,this.Xa(),this.Ma,this.Na,(this.Ma+this.Ta)/2,(this.Na+this.Sa)/2,this.b.zb.na,this.nb[d]),a.Gn(b)&&(this.b.Qa=!0)):a.dd(0),a.de(this.tb.Uj()),
a.Mg(this.opacity),a.cd(this.b.Rb),a.Lg(this.Jc,this.Dc),a.be(),a.Md(),e=this.b.W/2,b=this.b.V/2,a.$i(-e,b,e,b,e,-b,-e,-b),a.cd(null)):this.tb.br(a,this,null,this.tb.Uj()))};h.prototype.gA=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.xa();var d=a.Ua;d.right<this.Ma||d.bottom<this.Na||d.left>this.Ta||d.top>this.Sa||(b.Sn(a.gh),a.rw?this.iA(a,b):(b.dd(0),b.Lg(a.Jc,a.Dc),a.Ec(b)))}};h.prototype.hA=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.xa();var d=a.Ua;d.right<this.Ma||d.bottom<
this.Na||d.left>this.Ta||d.top>this.Sa||(a.gh=this.b.gh++,0===a.vc&&1===a.opacity&&a.Kf&&a.eh&&(b.Sn(a.gh),a.eh(b)))}};h.prototype.iA=function(a,b){var d=a.Ha[0].Fb,e=a.Ha[0].index,f=this.Wc();if(1!==a.Ha.length||b.Vq(d)||b.ZC(d)||(a.k||a.n.Xa())&&b.Zk(d)||1!==a.opacity||a.type.Pa.Cu)this.tb.br(b,this,a,this.We?this.b.Rb:this.tb.Uj()),b.be(),b.scale(f,f),b.Nn(-this.Xa()),b.translate((this.Ma+this.Ta)/-2,(this.Na+this.Sa)/-2),b.Md();else{b.dd(d);b.Lg(a.Jc,a.Dc);b.Gn(d)&&(this.b.Qa=!0);var k=0,h=0,
p=0,n=0;b.Zk(d)&&(n=a.Ua,k=this.ab(n.left,n.top,!0,!0),h=this.ab(n.left,n.top,!1,!0),p=this.ab(n.right,n.bottom,!0,!0),n=this.ab(n.right,n.bottom,!1,!0),k=k/windowWidth,h=1-h/windowHeight,p=p/windowWidth,n=1-n/windowHeight);var q;a.Lb&&a.Lb.ba?(q=a.Lb.ba,d=1/q.width,q=1/q.height):(d=1/a.width,q=1/a.height);b.gj(this.We?this.b.Rb:this.tb.Uj(),d,q,k,h,p,n,f,this.Xa(),this.Ma,this.Na,(this.Ma+this.Ta)/2,(this.Na+this.Sa)/2,this.b.zb.na,a.nb[e]);a.Ec(b)}};h.prototype.Jb=function(a,b,d,e){var f=this.b.devicePixelRatio;
this.b.vh&&(a*=f,b*=f);var f=this.b.$u,k=this.b.av,f=(this.tb.scrollX-f)*this.Hd+f,k=(this.tb.scrollY-k)*this.$d+k,h=f,p=k,n=1/this.Wc(!e);e?(h-=this.b.W*n/2,p-=this.b.V*n/2):(h-=this.b.width*n/2,p-=this.b.height*n/2);h+=a*n;p+=b*n;b=this.Xa();0!==b&&(h-=f,p-=k,a=Math.cos(b),b=Math.sin(b),e=h*a-p*b,p=p*a+h*b,h=e+f,p+=k);return d?h:p};h.prototype.ab=function(a,b,d,e){var f=this.b.$u,k=this.b.av,h=(this.tb.scrollX-f)*this.Hd+f,p=(this.tb.scrollY-k)*this.$d+k,k=h,f=p,n=this.Xa();if(0!==n){a-=h;b-=p;
var q=Math.cos(-n),n=Math.sin(-n),r=a*q-b*n;b=b*q+a*n;a=r+h;b+=p}h=1/this.Wc(!e);e?(k-=this.b.W*h/2,f-=this.b.V*h/2):(k-=this.b.width*h/2,f-=this.b.height*h/2);k=(a-k)/h;f=(b-f)/h;a=this.b.devicePixelRatio;this.b.vh&&!e&&(k/=a,f/=a);return d?k:f};h.prototype.Wb=function(){var a,b,d,e={s:this.scale,a:this.k,vl:this.Ma,vt:this.Na,vr:this.Ta,vb:this.Sa,v:this.visible,bc:this.je,t:this.ze,px:this.Hd,py:this.$d,o:this.opacity,zr:this.Ce,fx:[],cg:this.Jj,instances:[]};a=0;for(b=this.ka.length;a<b;a++)d=
this.ka[a],e.fx.push({name:d.name,active:d.Ib,params:this.nb[d.index]});return e};h.prototype.oc=function(a){var b,d,e;this.scale=a.s;this.k=a.a;this.Ma=a.vl;this.Na=a.vt;this.Ta=a.vr;this.Sa=a.vb;this.visible=a.v;this.je=a.bc;this.ze=a.t;this.Hd=a.px;this.$d=a.py;this.opacity=a.o;this.Ce=a.zr;this.Jj=a.cg||[];Va(this.Ed,this.Rv);var f=new pa;b=0;for(e=this.Jj.length;b<e;++b)f.add(this.Jj[b]);d=b=0;for(e=this.Ed.length;b<e;++b)f.contains(this.Ed[b][2])||(this.Ed[d]=this.Ed[b],++d);Ua(this.Ed,d);d=
a.fx;b=0;for(e=d.length;b<e;b++)if(a=this.Ep(d[b].name))a.Ib=d[b].active,this.nb[a.index]=d[b].params;this.Ae();this.d.sort(k);this.Yh=!0};Ic=h})();
(function(){function f(a,b){var c,d=a.length;switch(d){case 0:return!0;case 1:return a[0]===b[0];case 2:return a[0]===b[0]&&a[1]===b[1];default:for(c=0;c<d;c++)if(a[c]!==b[c])return!1;return!0}}function k(a,b){return a.index-b.index}function h(a){var b,c,d,e;2===a.length?a[0].index>a[1].index&&(b=a[0],a[0]=a[1],a[1]=b):2<a.length&&a.sort(k);a.length>=t.length&&(t.length=a.length+1);t[a.length]||(t[a.length]=[]);e=t[a.length];b=0;for(c=e.length;b<c;b++)if(d=e[b],f(a,d))return d;e.push(a);return a}
function n(a,b){this.b=a;this.gw={};this.Ws={};this.Sp=!1;this.zt=new pa;this.pp=[];this.Po=[];this.name=b[0];var c=b[1];this.jg=[];var d,e;d=0;for(e=c.length;d<e;d++)this.Bt(c[d],null,this.jg)}function q(a){this.type=a;this.d=[];this.ca=[];this.ea=!0}function r(a,b,c){this.sheet=a;this.parent=b;this.b=a.b;this.La=[];this.Ng=[];this.xt=this.jo=this.Fr=this.Fm=this.group=this.rr=!1;this.Kb=[];this.Od=[];this.ee=[];this.Wj="";this.vi=this.Fm=this.group=!1;this.Xl=null;c[1]&&(this.Wj=c[1][1].toLowerCase(),
this.group=!0,this.Fm=!!c[1][0],this.Xl=[],this.vi=this.Fm,this.b.Yf.push(this),this.b.Xj[this.Wj]=this);this.sd=c[2];this.Aa=c[4];this.group||(this.b.xs[this.Aa.toString()]=this);var d=c[5];a=0;for(b=d.length;a<b;a++){var e=new Jc(this,d[a]);e.index=a;this.Kb.push(e);this.qs(e.type)}d=c[6];a=0;for(b=d.length;a<b;a++)e=new Kc(this,d[a]),e.index=a,this.Od.push(e);if(8===c.length)for(c=c[7],a=0,b=c.length;a<b;a++)this.sheet.Bt(c[a],this,this.ee);this.Om=!1;this.Kb.length&&(this.Om=null==this.Kb[0].type&&
this.Kb[0].lc==J.prototype.j.Xr)}function e(a,b){var c,d,e;if(a&&(-1===b.indexOf(a)&&b.push(a),a.nc))for(c=0,d=a.kd.length;c<d;c++)e=a.kd[c],a!==e&&-1===b.indexOf(e)&&b.push(e)}function a(a,b){this.yd=a;this.sheet=a.sheet;this.b=a.b;this.Z=[];this.qb=[];this.R={};this.index=-1;this.Bj=!1;this.lc=this.b.Sf(b[1]);this.trigger=0<b[3];this.Vs=2===b[3];this.Qe=b[4];this.qg=b[5];this.cC=b[6];this.Aa=b[7];this.b.bg[this.Aa.toString()]=this;-1===b[0]?(this.type=null,this.Eb=this.hr,this.Vg=null,this.ke=-1):
(this.type=this.b.H[b[0]],this.Eb=this.cC?this.BD:this.fr,b[2]?(this.Vg=this.type.vm(b[2]),this.ke=this.type.Cp(b[2])):(this.Vg=null,this.ke=-1),this.yd.parent&&this.yd.parent.Un());this.Vs&&(this.Eb=this.CD);if(10===b.length){var c,d,e=b[9];c=0;for(d=e.length;c<d;c++){var g=new Lc(this,e[c]);this.Z.push(g)}this.qb.length=e.length}}function d(a,b){this.yd=a;this.sheet=a.sheet;this.b=a.b;this.Z=[];this.qb=[];this.R={};this.index=-1;this.Bj=!1;this.lc=this.b.Sf(b[1]);-1===b[0]?(this.type=null,this.Eb=
this.hr,this.Vg=null,this.ke=-1):(this.type=this.b.H[b[0]],this.Eb=this.fr,b[2]?(this.Vg=this.type.vm(b[2]),this.ke=this.type.Cp(b[2])):(this.Vg=null,this.ke=-1));this.Aa=b[3];this.b.Wf[this.Aa.toString()]=this;if(6===b.length){var c,d,e=b[5];c=0;for(d=e.length;c<d;c++){var g=new Lc(this,e[c]);this.Z.push(g)}this.qb.length=e.length}}function b(){P++;ca.length===P&&ca.push(new Mc);return ca[P]}function c(a,b){this.cb=a;this.yd=a.yd;this.sheet=a.sheet;this.b=a.b;this.type=b[0];this.Ke=null;this.Lf=
0;this.get=null;this.Ks=0;this.tb=null;this.key=0;this.object=null;this.index=0;this.yl=this.Uh=this.yl=this.Uh=this.Zs=this.jh=this.zl=null;this.he=!1;var c,d,e;switch(b[0]){case 0:case 7:this.Ke=new Nc(this,b[1]);this.Lf=0;this.get=this.qB;break;case 1:this.Ke=new Nc(this,b[1]);this.Lf=0;this.get=this.rB;break;case 5:this.Ke=new Nc(this,b[1]);this.Lf=0;this.get=this.vB;break;case 3:case 8:this.Ks=b[1];this.get=this.oB;break;case 6:this.tb=this.b.Mi[b[1]];this.get=this.wB;break;case 9:this.key=b[1];
this.get=this.uB;break;case 4:this.object=this.b.H[b[1]];this.get=this.xB;this.yd.qs(this.object);this.cb instanceof Kc?this.yd.Un():this.yd.parent&&this.yd.parent.Un();break;case 10:this.index=b[1];a.type&&a.type.O?(this.get=this.sB,this.he=!0):this.get=this.tB;break;case 11:this.zl=b[1];this.jh=null;this.get=this.pB;break;case 2:case 12:this.Zs=b[1];this.get=this.nB;break;case 13:for(this.get=this.yB,this.Uh=[],this.yl=[],c=1,d=b.length;c<d;c++)e=new Lc(this.cb,b[c]),this.Uh.push(e),this.yl.push(0)}}
function g(a,b,c){this.sheet=a;this.parent=b;this.b=a.b;this.La=[];this.name=c[1];this.vw=c[2];this.Xp=c[3];this.lk=!!c[4];this.Nm=!!c[5];this.Aa=c[6];this.b.yj[this.Aa.toString()]=this;this.data=this.Xp;this.parent?(this.Ch=this.lk||this.Nm?-1:this.b.VD++,this.b.dz.push(this)):(this.Ch=-1,this.b.cz.push(this))}function m(a,b,c){this.sheet=a;this.parent=b;this.b=a.b;this.La=[];this.$j=null;this.MB=c[1];this.Ib=!0}function l(){this.Yv=[];this.reset(null)}var t=[];n.prototype.toString=function(){return this.name};
n.prototype.Bt=function(a,b,c){switch(a[0]){case 0:a=new Oc(this,b,a);if(a.sd)for(c.push(a),c=0,b=a.Kb.length;c<b;c++)a.Kb[c].trigger&&this.Ct(a,c);else a.Nt()?this.Ct(a,0):c.push(a);break;case 1:a=new Fc(this,b,a);c.push(a);break;case 2:a=new Pc(this,b,a),c.push(a)}};n.prototype.ub=function(){var a,b;a=0;for(b=this.jg.length;a<b;a++)this.jg[a].ub(a<b-1&&this.jg[a+1].Om)};n.prototype.Kr=function(){y(this.pp);y(this.Po);this.ns(this);y(this.Po)};n.prototype.ns=function(a){var b,c,d,e,g=a.pp,f=a.Po,
l=this.zt.ge();b=0;for(c=l.length;b<c;++b)d=l[b],e=d.$j,!d.Ib||a===e||-1<f.indexOf(e)||(f.push(e),e.ns(a),g.push(e))};n.prototype.Eb=function(a){this.b.PF||(this.Sp=!0,a||(this.b.iq=!0));var b,c;b=0;for(c=this.jg.length;b<c;b++){var d=this.jg[b];d.Eb();this.b.dp(d.La);this.b.mg&&this.b.uc()}a||(this.b.iq=!1)};n.prototype.Ct=function(a,b){a.sd||this.b.mo.push(a);var c,d,e=a.Kb[b],g;e.type?g=e.type.name:g="system";var f=(c=e.Vs)?this.Ws:this.gw;f[g]||(f[g]=[]);g=f[g];f=e.lc;if(c){if(e.Z.length&&(e=
e.Z[0],1===e.type&&2===e.Ke.type)){e=e.Ke.value.toLowerCase();c=0;for(d=g.length;c<d;c++)if(g[c].method==f){c=g[c].Pj;c[e]?c[e].push([a,b]):c[e]=[[a,b]];return}c={};c[e]=[[a,b]];g.push({method:f,Pj:c})}}else{c=0;for(d=g.length;c<d;c++)if(g[c].method==f){g[c].Pj.push([a,b]);return}K&&f===K.prototype.j.ai?g.unshift({method:f,Pj:[[a,b]]}):g.push({method:f,Pj:[[a,b]]})}};vc=n;q.prototype.Rp=function(){return this.ea?this.type.d.length:this.d.length};q.prototype.Fc=function(){return this.ea?this.type.d:
this.d};q.prototype.Xi=function(a){a&&(a.b.hb().lb.sd?(this.ea&&(y(this.d),Va(this.ca,a.type.d),this.ea=!1),a=this.ca.indexOf(a),-1!==a&&(this.d.push(this.ca[a]),this.ca.splice(a,1))):(this.ea=!1,y(this.d),this.d[0]=a))};$b=q;window._c2hh_="AA112687F4EF80903ED8BE589E06698DB636E0D7";r.prototype.ub=function(a){var b,c=this.parent;if(this.group)for(this.jo=!0;c;){if(!c.group){this.jo=!1;break}c=c.parent}this.Fr=!this.Nt()&&(!this.parent||this.parent.group&&this.parent.jo);this.xt=!!a;this.Ng=this.La.slice(0);
for(c=this.parent;c;){a=0;for(b=c.La.length;a<b;a++)this.Yy(c.La[a]);c=c.parent}this.La=h(this.La);this.Ng=h(this.Ng);a=0;for(b=this.Kb.length;a<b;a++)this.Kb[a].ub();a=0;for(b=this.Od.length;a<b;a++)this.Od[a].ub();a=0;for(b=this.ee.length;a<b;a++)this.ee[a].ub(a<b-1&&this.ee[a+1].Om)};r.prototype.Bv=function(a){if(this.vi!==!!a){this.vi=!!a;var b;a=0;for(b=this.Xl.length;a<b;++a)this.Xl[a].mw();0<b&&this.b.Ra.ih&&this.b.Ra.ih.Kr()}};r.prototype.qs=function(a){e(a,this.La)};r.prototype.Yy=function(a){e(a,
this.Ng)};r.prototype.Un=function(){this.rr=!0;this.parent&&this.parent.Un()};r.prototype.Nt=function(){return this.Kb.length?this.Kb[0].trigger:!1};r.prototype.Eb=function(){var a,b,c=!1,d=this.b,e=this.b.hb();e.lb=this;var g=this.Kb;this.Om||(e.up=!1);if(this.sd){0===g.length&&(c=!0);e.wb=0;for(a=g.length;e.wb<a;e.wb++)b=g[e.wb],b.trigger||(b=b.Eb())&&(c=!0);(e.yh=c)&&this.On()}else{e.wb=0;for(a=g.length;e.wb<a;e.wb++)if(b=g[e.wb].Eb(),!b){e.yh=!1;this.Fr&&d.mg&&d.uc();return}e.yh=!0;this.On()}this.mA(e)};
r.prototype.mA=function(a){a.yh&&this.xt&&(a.up=!0);this.Fr&&this.b.mg&&this.b.uc()};r.prototype.zD=function(a){this.b.hb().lb=this;this.Kb[a].Eb()&&(this.On(),this.b.hb().yh=!0)};r.prototype.On=function(){var a=this.b.hb(),b;a.Tc=0;for(b=this.Od.length;a.Tc<b;a.Tc++)if(this.Od[a.Tc].Eb())return;this.uv()};r.prototype.wD=function(){var a=this.b.hb(),b;for(b=this.Od.length;a.Tc<b;a.Tc++)if(this.Od[a.Tc].Eb())return;this.uv()};r.prototype.uv=function(){if(this.ee.length){var a,b,c,d,e=this.ee.length-
1;this.b.In(this);if(this.rr)for(a=0,b=this.ee.length;a<b;a++)c=this.ee[a],(d=!this.jo||!this.group&&a<e)&&this.b.Zi(c.La),c.Eb(),d?this.b.Ff(c.La):this.b.dp(c.La);else for(a=0,b=this.ee.length;a<b;a++)this.ee[a].Eb();this.b.An()}};r.prototype.AD=function(){var a=this.b.hb();a.lb=this;var b=!1,c;a.wb=0;for(c=this.Kb.length;a.wb<c;a.wb++)if(this.Kb[a.wb].Eb())b=!0;else if(!this.sd)return!1;return this.sd?b:!0};r.prototype.cl=function(){this.b.kh++;var a=this.b.hb().wb,b=this.b.In(this);if(!this.sd)for(b.wb=
a+1,a=this.Kb.length;b.wb<a;b.wb++)if(!this.Kb[b.wb].Eb()){this.b.An();return}this.On();this.b.An()};r.prototype.WB=function(a){var b=a.index;if(0===b)return!0;for(--b;0<=b;--b)if(this.Kb[b].type===a.type)return!1;return!0};Oc=r;a.prototype.ub=function(){var a,b,c;a=0;for(b=this.Z.length;a<b;a++)c=this.Z[a],c.ub(),c.he&&(this.Bj=!0)};a.prototype.CD=function(){return!0};a.prototype.hr=function(){var a,b;a=0;for(b=this.Z.length;a<b;a++)this.qb[a]=this.Z[a].get();return vb(this.lc.apply(this.b.Ye,this.qb),
this.qg)};a.prototype.BD=function(){var a,b;a=0;for(b=this.Z.length;a<b;a++)this.qb[a]=this.Z[a].get();a=this.lc.apply(this.Vg?this.Vg:this.type,this.qb);this.type.jd();return a};a.prototype.fr=function(){var a,b,c,d,e,g,f,l,m=this.type,k=m.X(),h=this.yd.sd&&!this.trigger;b=0;var n=m.nc,t=m.O,q=m.pf,r=this.ke,ca=-1<r,P=this.Bj,A=this.Z,x=this.qb,w=this.qg,W=this.lc,B;if(P)for(b=0,e=A.length;b<e;++b)g=A[b],g.he||(x[b]=g.get(0));else for(b=0,e=A.length;b<e;++b)x[b]=A[b].get(0);if(k.ea){y(k.d);y(k.ca);
B=m.d;a=0;for(d=B.length;a<d;++a){l=B[a];if(P)for(b=0,e=A.length;b<e;++b)g=A[b],g.he&&(x[b]=g.get(a));ca?(b=0,t&&(b=l.type.pi[q]),b=W.apply(l.U[r+b],x)):b=W.apply(l,x);(f=vb(b,w))?k.d.push(l):h&&k.ca.push(l)}m.finish&&m.finish(!0);k.ea=!1;m.jd();return k.Rp()}c=0;B=(f=h&&!this.yd.WB(this))?k.ca:k.d;var G=!1;a=0;for(d=B.length;a<d;++a){l=B[a];if(P)for(b=0,e=A.length;b<e;++b)g=A[b],g.he&&(x[b]=g.get(a));ca?(b=0,t&&(b=l.type.pi[q]),b=W.apply(l.U[r+b],x)):b=W.apply(l,x);if(vb(b,w))if(G=!0,f){if(k.d.push(l),
n)for(b=0,e=l.siblings.length;b<e;b++)g=l.siblings[b],g.type.X().d.push(g)}else{B[c]=l;if(n)for(b=0,e=l.siblings.length;b<e;b++)g=l.siblings[b],g.type.X().d[c]=g;c++}else if(f){B[c]=l;if(n)for(b=0,e=l.siblings.length;b<e;b++)g=l.siblings[b],g.type.X().ca[c]=g;c++}else if(h&&(k.ca.push(l),n))for(b=0,e=l.siblings.length;b<e;b++)g=l.siblings[b],g.type.X().ca.push(g)}Ua(B,c);if(n)for(t=m.kd,a=0,d=t.length;a<d;a++)l=t[a].X(),f?Ua(l.ca,c):Ua(l.d,c);c=G;if(f&&!G)for(a=0,d=k.d.length;a<d;a++){l=k.d[a];if(P)for(b=
0,e=A.length;b<e;b++)g=A[b],g.he&&(x[b]=g.get(a));b=ca?W.apply(l.U[r],x):W.apply(l,x);if(vb(b,w)){G=!0;break}}m.finish&&m.finish(c||h);return h?G:k.Rp()};Jc=a;d.prototype.ub=function(){var a,b,c;a=0;for(b=this.Z.length;a<b;a++)c=this.Z[a],c.ub(),c.he&&(this.Bj=!0)};d.prototype.hr=function(){var a=this.b,b,c,d=this.Z,e=this.qb;b=0;for(c=d.length;b<c;++b)e[b]=d[b].get();return this.lc.apply(a.Ye,e)};d.prototype.fr=function(){var a=this.type,b=this.ke,c=a.pf,d=this.Bj,e=this.Z,g=this.qb,f=this.lc,l=
a.X().Fc(),a=a.O,m=-1<b,k,h,n,t,q,r;if(d)for(h=0,t=e.length;h<t;++h)q=e[h],q.he||(g[h]=q.get(0));else for(h=0,t=e.length;h<t;++h)g[h]=e[h].get(0);k=0;for(n=l.length;k<n;++k){r=l[k];if(d)for(h=0,t=e.length;h<t;++h)q=e[h],q.he&&(g[h]=q.get(k));m?(h=0,a&&(h=r.type.pi[c]),f.apply(r.U[b+h],g)):f.apply(r,g)}return!1};Kc=d;var ca=[],P=-1;c.prototype.ub=function(){var a,b;if(11===this.type)this.jh=this.b.mt(this.zl,this.yd.parent);else if(13===this.type)for(a=0,b=this.Uh.length;a<b;a++)this.Uh[a].ub();this.Ke&&
this.Ke.ub()};c.prototype.qC=function(a){this.he||!a||a.Pa.Yn||(this.he=!0)};c.prototype.Gv=function(){this.he=!0};c.prototype.qB=function(a){this.Lf=a||0;a=b();this.Ke.get(a);P--;return a.data};c.prototype.rB=function(a){this.Lf=a||0;a=b();this.Ke.get(a);P--;return Ba(a.data)?a.data:""};c.prototype.xB=function(){return this.object};c.prototype.oB=function(){return this.Ks};c.prototype.vB=function(a){this.Lf=a||0;a=b();this.Ke.get(a);P--;return a.ec()?this.b.si(a.data):this.b.xm(a.data)};c.prototype.wB=
function(){return this.tb};c.prototype.uB=function(){return this.key};c.prototype.tB=function(){return this.index};c.prototype.sB=function(a){a=a||0;var b=this.cb.type,c=null,c=b.X(),d=c.Fc();if(d.length)c=d[a%d.length].type;else if(c.ca.length)c=c.ca[a%c.ca.length].type;else if(b.d.length)c=b.d[a%b.d.length].type;else return 0;return this.index+c.nm[b.pf]};c.prototype.pB=function(){return this.jh};c.prototype.nB=function(){return this.Zs};c.prototype.yB=function(){var a,b;a=0;for(b=this.Uh.length;a<
b;a++)this.yl[a]=this.Uh[a].get();return this.yl};Lc=c;g.prototype.ub=function(){this.La=h(this.La)};g.prototype.Vn=function(a){var b=this.b.kt();this.parent&&!this.lk&&b?(this.Ch>=b.length&&(b.length=this.Ch+1),b[this.Ch]=a):this.data=a};g.prototype.qt=function(){var a=this.b.kt();return!this.parent||this.lk||!a||this.Nm?this.data:this.Ch>=a.length||"undefined"===typeof a[this.Ch]?this.Xp:a[this.Ch]};g.prototype.Eb=function(){!this.parent||this.lk||this.Nm||this.Vn(this.Xp)};Fc=g;m.prototype.toString=
function(){return"include:"+this.$j.toString()};m.prototype.ub=function(){this.$j=this.b.wp[this.MB];this.sheet.zt.add(this);this.La=h(this.La);for(var a=this.parent;a;)a.group&&a.Xl.push(this),a=a.parent;this.mw()};m.prototype.Eb=function(){this.parent&&this.b.al(this.b.H);this.$j.Sp||this.$j.Eb(!0);this.parent&&this.b.Ff(this.b.H)};m.prototype.mw=function(){for(var a=this.parent;a;){if(a.group&&!a.vi){this.Ib=!1;return}a=a.parent}this.Ib=!0};Pc=m;l.prototype.reset=function(a){this.lb=a;this.Tc=
this.wb=0;y(this.Yv);this.up=this.yh=!1};l.prototype.Jt=function(){return this.lb.rr?!0:this.wb<this.lb.Kb.length-1?!!this.lb.La.length:!1};Ec=l})();
(function(){function f(e,a){this.cb=e;this.b=e.b;this.type=a[0];this.get=[this.EA,this.AA,this.NA,this.QA,this.pA,this.OA,this.IA,this.xA,this.HA,this.MA,this.qA,this.LA,this.yA,this.JA,this.FA,this.GA,this.BA,this.CA,this.wA,this.PA,this.KA,this.DA,this.vA,this.zA][this.type];var d=null;this.Df=this.Z=this.qb=this.lc=this.fo=this.second=this.first=this.value=null;this.ke=-1;this.ne=null;this.uw=-1;this.jh=this.zl=null;this.cj=!1;switch(this.type){case 0:case 1:case 2:this.value=a[1];break;case 3:this.first=
new Nc(e,a[1]);break;case 18:this.first=new Nc(e,a[1]);this.second=new Nc(e,a[2]);this.fo=new Nc(e,a[3]);break;case 19:this.lc=this.b.Sf(a[1]);this.lc!==J.prototype.K.random&&this.lc!==J.prototype.K.Gs||this.cb.Gv();this.qb=[];this.Z=[];3===a.length?(d=a[2],this.qb.length=d.length+1):this.qb.length=1;break;case 20:this.Df=this.b.H[a[1]];this.ke=-1;this.lc=this.b.Sf(a[2]);this.cj=a[3];bd&&this.lc===bd.prototype.K.Ew&&this.cb.Gv();a[4]?this.ne=new Nc(e,a[4]):this.ne=null;this.qb=[];this.Z=[];6===a.length?
(d=a[5],this.qb.length=d.length+1):this.qb.length=1;break;case 21:this.Df=this.b.H[a[1]];this.cj=a[2];a[3]?this.ne=new Nc(e,a[3]):this.ne=null;this.uw=a[4];break;case 22:this.Df=this.b.H[a[1]];this.Df.vm(a[2]);this.ke=this.Df.Cp(a[2]);this.lc=this.b.Sf(a[3]);this.cj=a[4];a[5]?this.ne=new Nc(e,a[5]):this.ne=null;this.qb=[];this.Z=[];7===a.length?(d=a[6],this.qb.length=d.length+1):this.qb.length=1;break;case 23:this.zl=a[1],this.jh=null}this.cb.qC(this.Df);4<=this.type&&17>=this.type&&(this.first=new Nc(e,
a[1]),this.second=new Nc(e,a[2]));if(d){var b,c;b=0;for(c=d.length;b<c;b++)this.Z.push(new Nc(e,d[b]))}}function k(){++r;q.length===r&&q.push(new Mc);return q[r]}function h(e,a,d){var b,c;b=0;for(c=e.length;b<c;++b)e[b].get(d),a[b+1]=d.data}function n(e,a){this.type=e||Qc.$h;this.data=a||0;this.Hh=null;this.type==Qc.$h&&(this.data=Math.floor(this.data))}f.prototype.ub=function(){23===this.type&&(this.jh=this.cb.b.mt(this.zl,this.cb.yd.parent));this.first&&this.first.ub();this.second&&this.second.ub();
this.fo&&this.fo.ub();this.ne&&this.ne.ub();if(this.Z){var e,a;e=0;for(a=this.Z.length;e<a;e++)this.Z[e].ub()}};var q=[],r=-1;f.prototype.PA=function(e){var a=this.Z,d=this.qb;d[0]=e;e=k();h(a,d,e);--r;this.lc.apply(this.b.Ye,d)};f.prototype.KA=function(e){var a=this.Df,d=this.qb,b=this.Z,c=this.ne,g=this.lc,f=this.cb.Lf,l=a.X(),n=l.Fc();if(!n.length)if(l.ca.length)n=l.ca;else{this.cj?e.wd(""):e.Ca(0);return}d[0]=e;e.Hh=a;e=k();h(b,d,e);c&&(c.get(e),e.ec()&&(f=e.data,n=a.d));--r;a=n.length;if(f>=
a||f<=-a)f%=a;0>f&&(f+=a);g.apply(n[f],d)};f.prototype.vA=function(e){var a=this.Df,d=this.qb,b=this.Z,c=this.ne,g=this.ke,f=this.lc,l=this.cb.Lf,n=a.X(),q=n.Fc();if(!q.length)if(n.ca.length)q=n.ca;else{this.cj?e.wd(""):e.Ca(0);return}d[0]=e;e.Hh=a;e=k();h(b,d,e);c&&(c.get(e),e.ec()&&(l=e.data,q=a.d));--r;b=q.length;if(l>=b||l<=-b)l%=b;0>l&&(l+=b);l=q[l];q=0;a.O&&(q=l.type.pi[a.pf]);f.apply(l.U[g+q],d)};f.prototype.DA=function(e){var a=this.ne,d=this.Df,b=this.uw,c=this.cb.Lf,g=d.X(),f=g.Fc();if(!f.length)if(g.ca.length)f=
g.ca;else{this.cj?e.wd(""):e.Ca(0);return}if(a){g=k();a.get(g);if(g.ec()){c=g.data;f=d.d;0!==f.length&&(c%=f.length,0>c&&(c+=f.length));c=d.Gp(c);d=c.Pb[b];Ba(d)?e.wd(d):e.A(d);--r;return}--r}a=f.length;if(c>=a||c<=-a)c%=a;0>c&&(c+=a);c=f[c];f=0;d.O&&(f=c.type.nm[d.pf]);d=c.Pb[b+f];Ba(d)?e.wd(d):e.A(d)};f.prototype.EA=function(e){e.type=Qc.$h;e.data=this.value};f.prototype.AA=function(e){e.type=Qc.Zh;e.data=this.value};f.prototype.NA=function(e){e.type=Qc.String;e.data=this.value};f.prototype.QA=
function(e){this.first.get(e);e.ec()&&(e.data=-e.data)};f.prototype.pA=function(e){this.first.get(e);var a=k();this.second.get(a);e.ec()&&a.ec()&&(e.data+=a.data,a.Ci()&&e.Qi());--r};f.prototype.OA=function(e){this.first.get(e);var a=k();this.second.get(a);e.ec()&&a.ec()&&(e.data-=a.data,a.Ci()&&e.Qi());--r};f.prototype.IA=function(e){this.first.get(e);var a=k();this.second.get(a);e.ec()&&a.ec()&&(e.data*=a.data,a.Ci()&&e.Qi());--r};f.prototype.xA=function(e){this.first.get(e);var a=k();this.second.get(a);
e.ec()&&a.ec()&&(e.data/=a.data,e.Qi());--r};f.prototype.HA=function(e){this.first.get(e);var a=k();this.second.get(a);e.ec()&&a.ec()&&(e.data%=a.data,a.Ci()&&e.Qi());--r};f.prototype.MA=function(e){this.first.get(e);var a=k();this.second.get(a);e.ec()&&a.ec()&&(e.data=Math.pow(e.data,a.data),a.Ci()&&e.Qi());--r};f.prototype.qA=function(e){this.first.get(e);var a=k();this.second.get(a);a.Fi()||e.Fi()?this.sA(e,a):this.rA(e,a);--r};f.prototype.sA=function(e,a){e.Fi()&&a.Fi()?this.uA(e,a):this.tA(e,
a)};f.prototype.uA=function(e,a){e.data+=a.data};f.prototype.tA=function(e,a){e.Fi()?e.data+=(Math.round(1E10*a.data)/1E10).toString():e.wd(e.data.toString()+a.data)};f.prototype.rA=function(e,a){e.Ca(e.data&&a.data?1:0)};f.prototype.LA=function(e){this.first.get(e);var a=k();this.second.get(a);e.ec()&&a.ec()&&(e.data||a.data?e.Ca(1):e.Ca(0));--r};f.prototype.wA=function(e){this.first.get(e);e.data?this.second.get(e):this.fo.get(e)};f.prototype.yA=function(e){this.first.get(e);var a=k();this.second.get(a);
e.Ca(e.data===a.data?1:0);--r};f.prototype.JA=function(e){this.first.get(e);var a=k();this.second.get(a);e.Ca(e.data!==a.data?1:0);--r};f.prototype.FA=function(e){this.first.get(e);var a=k();this.second.get(a);e.Ca(e.data<a.data?1:0);--r};f.prototype.GA=function(e){this.first.get(e);var a=k();this.second.get(a);e.Ca(e.data<=a.data?1:0);--r};f.prototype.BA=function(e){this.first.get(e);var a=k();this.second.get(a);e.Ca(e.data>a.data?1:0);--r};f.prototype.CA=function(e){this.first.get(e);var a=k();
this.second.get(a);e.Ca(e.data>=a.data?1:0);--r};f.prototype.zA=function(e){var a=this.jh.qt();Aa(a)?e.A(a):e.wd(a)};Nc=f;n.prototype.Ci=function(){return this.type===Qc.Zh};n.prototype.ec=function(){return this.type===Qc.$h||this.type===Qc.Zh};n.prototype.Fi=function(){return this.type===Qc.String};n.prototype.Qi=function(){this.Ci()||(this.Fi()&&(this.data=parseFloat(this.data)),this.type=Qc.Zh)};n.prototype.Ca=function(e){this.type=Qc.$h;this.data=Math.floor(e)};n.prototype.A=function(e){this.type=
Qc.Zh;this.data=e};n.prototype.wd=function(e){this.type=Qc.String;this.data=e};n.prototype.Hv=function(e){Aa(e)?(this.type=Qc.Zh,this.data=e):Ba(e)?(this.type=Qc.String,this.data=e.toString()):(this.type=Qc.$h,this.data=0)};Mc=n;Qc={$h:0,Zh:1,String:2}})();function J(f){this.b=f;this.fd=[]}
J.prototype.Wb=function(){var f={},k,h,n,q,r,e,a,d;f.waits=[];var b=f.waits,c;k=0;for(h=this.fd.length;k<h;k++){e=this.fd[k];c={t:e.time,st:e.Ov,s:e.pr,ev:e.mi.Aa,sm:[],sols:{}};e.mi.Od[e.Tc]&&(c.act=e.mi.Od[e.Tc].Aa);n=0;for(q=e.La.length;n<q;n++)c.sm.push(e.La[n].Aa);for(r in e.Qc)if(e.Qc.hasOwnProperty(r)){a=this.b.H[parseInt(r,10)];d={sa:e.Qc[r].Pn,insts:[]};n=0;for(q=e.Qc[r].sf.length;n<q;n++)d.insts.push(e.Qc[r].sf[n].uid);c.sols[a.Aa.toString()]=d}b.push(c)}return f};
J.prototype.oc=function(f){f=f.waits;var k,h,n,q,r,e,a,d,b,c,g;y(this.fd);k=0;for(h=f.length;k<h;k++)if(e=f[k],d=this.b.xs[e.ev.toString()]){b=-1;n=0;for(q=d.Od.length;n<q;n++)if(d.Od[n].Aa===e.act){b=n;break}if(-1!==b){a={Qc:{},La:[],qp:!1};a.time=e.t;a.Ov=e.st||"";a.pr=!!e.s;a.mi=d;a.Tc=b;n=0;for(q=e.sm.length;n<q;n++)(d=this.b.zm(e.sm[n]))&&a.La.push(d);for(r in e.sols)if(e.sols.hasOwnProperty(r)&&(d=this.b.zm(parseInt(r,10)))){b=e.sols[r];c={Pn:b.sa,sf:[]};n=0;for(q=b.insts.length;n<q;n++)(g=
this.b.ti(b.insts[n]))&&c.sf.push(g);a.Qc[d.index.toString()]=c}this.fd.push(a)}}};
(function(){function f(){}function k(){}function h(){}var n=J.prototype;f.prototype.Ww=function(){return!0};f.prototype.bs=function(){return!0};f.prototype.Ex=function(){return!0};f.prototype.Jw=function(a,c,d){return Rc(a,c,d)};f.prototype.Xx=function(a){var c=this.b.hb(),d=c.lb,e=c.Jt(),c=this.b.nv();if(e)for(e=0;e<a&&!c.Hb;e++)this.b.Zi(d.La),c.index=e,d.cl(),this.b.Ff(d.La);else for(e=0;e<a&&!c.Hb;e++)c.index=e,d.cl();this.b.hv();return!1};var q=[],r=-1;f.prototype.Xw=function(a){var c=a.X();
r++;q.length===r&&q.push([]);var d=q[r];Va(d,c.Fc());var e=this.b.hb(),f=e.lb,k=e.Jt(),e=this.b.nv(),h,n,p,u,I,E,D=a.nc;if(k)for(k=0,h=d.length;k<h&&!e.Hb;k++){this.b.Zi(f.La);u=d[k];c=a.X();c.ea=!1;y(c.d);c.d[0]=u;if(D)for(n=0,p=u.siblings.length;n<p;n++)I=u.siblings[n],E=I.type.X(),E.ea=!1,y(E.d),E.d[0]=I;e.index=k;f.cl();this.b.Ff(f.La)}else for(c.ea=!1,y(c.d),k=0,h=d.length;k<h&&!e.Hb;k++){u=d[k];c.d[0]=u;if(D)for(n=0,p=u.siblings.length;n<p;n++)I=u.siblings[n],E=I.type.X(),E.ea=!1,y(E.d),E.d[0]=
I;e.index=k;f.cl()}y(d);this.b.hv();r--;return!1};f.prototype.Px=function(a,c,d,e){var f,k,h,n;if(a){r++;q.length===r&&q.push([]);var p=q[r],u=a.X();Va(p,u.Fc());u.ea&&y(u.ca);var I=this.b.rf();h=f=0;for(k=p.length;f<k;f++)n=p[f],p[h]=n,c=I.Z[1].get(f),e=I.Z[3].get(f),Rc(c,d,e)?h++:u.ca.push(n);Ua(p,h);u.ea=!1;Va(u.d,p);y(p);r--;a.jd();return!!u.d.length}};f.prototype.Py=function(){var a=this.b.rf().R;"undefined"===typeof a.TriggerOnce_lastTick&&(a.TriggerOnce_lastTick=-1);var c=a.TriggerOnce_lastTick,
d=this.b.Ld;a.TriggerOnce_lastTick=d;return this.b.rq||c!==d-1};f.prototype.Vw=function(a){var c=this.b.rf(),d=c.R.Every_lastTime||0,e=this.b.zb.na;"undefined"===typeof c.R.Every_seconds&&(c.R.Every_seconds=a);var f=c.R.Every_seconds;if(e>=d+f)return c.R.Every_lastTime=d+f,e>=c.R.Every_lastTime+.04&&(c.R.Every_lastTime=e),c.R.Every_seconds=a,!0;e<d-.1&&(c.R.Every_lastTime=e);return!1};f.prototype.Qw=function(a,c,d){return Rc(a.qt(),c,d)};f.prototype.ix=function(a){return(a=this.b.Xj[a.toLowerCase()])&&
a.vi};f.prototype.Lw=function(a,c,d){return a>=c&&a<=d};f.prototype.Xr=function(){var a=this.b.hb();return a.up?!1:!a.yh};f.prototype.cs=function(){return!0};f.prototype.zx=function(){return!0};f.prototype.Ho=function(){return!0};f.prototype.hs=function(){return!0};f.prototype.Fx=function(){return!0};f.prototype.Fl=function(){return!0};var e=[];f.prototype.Rx=function(a,c,d){if(!a)return!1;var f=a.X(),l=f.Fc(),k=this.b.hb().lb.sd,h=this.b.rf(),n,p;f.ea?(Va(e,l),y(f.ca),f.ea=!1,y(f.d)):k?(Va(e,f.ca),
y(f.ca)):(Va(e,l),y(f.d));l=0;for(k=e.length;l<k;++l)n=e[l],n.xa(),(p=vb(n.jc(c,d),h.qg))?f.d.push(n):f.ca.push(n);a.jd();return vb(!!f.d.length,h.qg)};f.prototype.Aw=function(a,c,d){return ib(bb(a),bb(d))<=bb(c)};f.prototype.hx=function(a,c){return lb(bb(a),bb(c))};f.prototype.cx=function(a,c,d){a=gb(a);c=gb(c);d=gb(d);return lb(d,c)?lb(a,c)&&!lb(a,d):!(!lb(a,c)&&lb(a,d))};n.j=new f;k.prototype.Uw=function(a,c,d,e){if(c&&a&&(c=this.b.lp(a,c,d,e))){this.b.Fd++;var f;this.b.trigger(Object.getPrototypeOf(a.Pa).j.Tf,
c);if(c.nc)for(d=0,e=c.siblings.length;d<e;d++)f=c.siblings[d],this.b.trigger(Object.getPrototypeOf(f.type.Pa).j.Tf,f);this.b.Fd--;a=a.X();a.ea=!1;y(a.d);a.d[0]=c;if(c.nc)for(d=0,e=c.siblings.length;d<e;d++)f=c.siblings[d],a=f.type.X(),a.ea=!1,y(a.d),a.d[0]=f}};k.prototype.ny=function(a,c){a&&a.visible!==c&&(a.visible=c,this.b.Qa=!0)};k.prototype.Dy=function(a,c){0===a.vw?Aa(c)?a.Vn(c):a.Vn(parseFloat(c)):1===a.vw&&a.Vn(c.toString())};k.prototype.ry=function(a,c){var d=c;0>d&&(d=0);if(a){var e=a.X().Fc(),
f,k;f=0;for(k=e.length;f<k;f++)e[f].Ti=d}};var a=[],d=[];k.prototype.Sy=function(b){if(!(0>b)){var c,e,f,l=this.b.hb(),k;a.length?k=a.pop():k={Qc:{},La:[]};k.qp=!1;k.time=this.b.zb.na+b;k.Ov="";k.pr=!1;k.mi=l.lb;k.Tc=l.Tc+1;b=0;for(c=this.b.H.length;b<c;b++)f=this.b.H[b],e=f.X(),e.ea&&-1===l.lb.La.indexOf(f)||(k.La.push(f),f=void 0,d.length?f=d.pop():f={sf:[]},f.Pn=!1,f.Pn=e.ea,Va(f.sf,e.d),k.Qc[b.toString()]=f);this.fd.push(k);return!0}};k.prototype.Yw=function(a){if(!this.b.Gi&&!this.b.Zg)for(var c in this.b.Mi)if(this.b.Mi.hasOwnProperty(c)&&
Wb(c,a)){this.b.Zg=this.b.Mi[c];break}};k.prototype.Yx=function(){if(!this.b.Gi&&!this.b.Zg&&this.b.Ra){this.b.Zg=this.b.Ra;var a,c,d;a=0;for(c=this.b.Yf.length;a<c;a++)d=this.b.Yf[a],d.Bv(d.Fm)}};n.q=new k;h.prototype["int"]=function(a,c){Ba(c)?(a.Ca(parseInt(c,10)),isNaN(a.data)&&(a.data=0)):a.Ca(c)};h.prototype["float"]=function(a,c){Ba(c)?(a.A(parseFloat(c)),isNaN(a.data)&&(a.data=0)):a.A(c)};h.prototype.random=function(a,c,d){void 0===d?a.A(Math.random()*c):a.A(Math.random()*(d-c)+c)};h.prototype.sqrt=
function(a,c){a.A(Math.sqrt(c))};h.prototype.abs=function(a,c){a.A(Math.abs(c))};h.prototype.round=function(a,c){a.Ca(Math.round(c))};h.prototype.floor=function(a,c){a.Ca(Math.floor(c))};h.prototype.ceil=function(a,c){a.Ca(Math.ceil(c))};h.prototype.sin=function(a,c){a.A(Math.sin(bb(c)))};h.prototype.cos=function(a,c){a.A(Math.cos(bb(c)))};h.prototype.tan=function(a,c){a.A(Math.tan(bb(c)))};h.prototype.asin=function(a,c){a.A(cb(Math.asin(c)))};h.prototype.acos=function(a,c){a.A(cb(Math.acos(c)))};
h.prototype.atan=function(a,c){a.A(cb(Math.atan(c)))};h.prototype.exp=function(a,c){a.A(Math.exp(c))};h.prototype.log10=function(a,c){a.A(Math.log(c)/Math.LN10)};h.prototype.max=function(a){var c=arguments[1];"number"!==typeof c&&(c=0);var d,e,f;d=2;for(e=arguments.length;d<e;d++)f=arguments[d],"number"===typeof f&&c<f&&(c=f);a.A(c)};h.prototype.min=function(a){var c=arguments[1];"number"!==typeof c&&(c=0);var d,e,f;d=2;for(e=arguments.length;d<e;d++)f=arguments[d],"number"===typeof f&&c>f&&(c=f);
a.A(c)};h.prototype.hg=function(a){a.A(this.b.hg)};h.prototype.Pg=function(a){a.A(this.b.Pg)};h.prototype.time=function(a){a.A(this.b.zb.na)};h.prototype.Ld=function(a){a.Ca(this.b.Ld)};h.prototype.ln=function(a){a.Ca(this.b.ln)};h.prototype.zp=function(a){a.Ca(this.b.zp)};h.prototype.lC=function(a,c){var d,e;if(this.b.Kk.length)if(c){for(e=this.b.Lk;0<=e;--e)if(d=this.b.Kk[e],d.name===c){a.Ca(d.index);return}a.Ca(0)}else d=this.b.lt(),a.Ca(d?d.index:-1);else a.Ca(0)};h.prototype.Nz=function(a,c,
d,e,f){a.A(nb(c,d,e,f))};h.prototype.k=function(a,c,d,e,f){a.A(cb(hb(c,d,e,f)))};h.prototype.$t=function(a,c,d,e){a.A(wb(c,d,e))};h.prototype.qE=function(a){a.Ca(this.b.width)};h.prototype.pE=function(a){a.Ca(this.b.height)};h.prototype.$g=function(a,c,d,e){c<d?a.A(d):c>e?a.A(e):a.A(c)};h.prototype.gC=function(a,c){var d=this.b.Hp(c);d?a.A(100*d.Hd):a.A(0)};h.prototype.left=function(a,c,d){a.wd(Ba(c)?c.substr(0,d):"")};h.prototype.right=function(a,c,d){a.wd(Ba(c)?c.substr(c.length-d):"")};h.prototype.replace=
function(a,c,d,e){Ba(c)&&Ba(d)&&Ba(e)?a.wd(c.replace(new RegExp(Eb(d),"gi"),e)):a.wd(Ba(c)?c:"")};h.prototype.trim=function(a,c){a.wd(Ba(c)?c.trim():"")};h.prototype.Gs=function(a){var c=Ka(Math.random()*(arguments.length-1));a.Hv(arguments[c+1])};h.prototype.jp=function(a){a.A(this.b.jp/1E3)};h.prototype.an=function(a){a.A(this.b.an)};h.prototype.hC=function(a,c,d,e){c=this.b.Hp(c);a.A(c?c.ab(d,e,!0):0)};h.prototype.iC=function(a,c,d,e){c=this.b.Hp(c);a.A(c?c.ab(d,e,!1):0)};n.K=new h;n.yD=function(){var b,
c,e,f,l,k,h=this.b.hb();b=0;for(e=this.fd.length;b<e;b++){f=this.fd[b];if(-1===f.time){if(!f.pr)continue}else if(f.time>this.b.zb.na)continue;h.lb=f.mi;h.Tc=f.Tc;h.wb=0;for(c in f.Qc)f.Qc.hasOwnProperty(c)&&(l=this.b.H[parseInt(c,10)].X(),k=f.Qc[c],l.ea=k.Pn,Va(l.d,k.sf),l=k,y(l.sf),d.push(l));f.mi.wD();this.b.dp(f.La);f.qp=!0}c=b=0;for(e=this.fd.length;b<e;b++)f=this.fd[b],this.fd[c]=f,f.qp?(yb(f.Qc),y(f.La),a.push(f)):c++;Ua(this.fd,c)}})();
(function(){Zb=function(f,h){var n=f[1],q=f[3],r=f[4],e=f[5],a=f[6],d=f[7],b=f[8];h.j||(h.j={});h.q||(h.q={});h.K||(h.K={});var c=h.j,g=h.q,m=h.K;q&&(c.DE=function(a,b){return Rc(this.x,a,b)},c.Rw=function(a,b){return Rc(this.y,a,b)},c.PE=function(){var a=this.n;this.xa();var b=this.Ua;return!(b.right<a.Ma||b.bottom<a.Na||b.left>a.Ta||b.top>a.Sa)},c.QE=function(){this.xa();var a=this.Ua,b=this.b.Ra;return 0>a.right||0>a.bottom||a.left>b.width||a.top>b.height},c.jF=function(a,b,c){var d=this.X(),e=
d.Fc();if(!e.length)return!1;var f=e[0],g=f,k=nb(f.x,f.y,b,c),h,m,n;h=1;for(m=e.length;h<m;h++)if(f=e[h],n=nb(f.x,f.y,b,c),0===a&&n<k||1===a&&n>k)k=n,g=f;d.Xi(g);return!0},g.Fy=function(a){this.x!==a&&(this.x=a,this.T())},g.Gy=function(a){this.y!==a&&(this.y=a,this.T())},g.vy=function(a,b){if(this.x!==a||this.y!==b)this.x=a,this.y=b,this.T()},g.wy=function(a,b){var c=a.gB(this);if(c){var d;c.Me?(d=c.Me(b,!0),c=c.Me(b,!1)):(d=c.x,c=c.y);if(this.x!==d||this.y!==c)this.x=d,this.y=c,this.T()}},g.ZE=function(a){0!==
a&&(this.x+=Math.cos(this.k)*a,this.y+=Math.sin(this.k)*a,this.T())},g.YE=function(a,b){0!==b&&(this.x+=Math.cos(bb(a))*b,this.y+=Math.sin(bb(a))*b,this.T())},m.Ko=function(a){a.A(this.x)},m.Lo=function(a){a.A(this.y)},m.hg=function(a){a.A(this.b.ph(this))});r&&(c.CE=function(a,b){return Rc(this.width,a,b)},c.BE=function(a,b){return Rc(this.height,a,b)},g.ls=function(a){this.width!==a&&(this.width=a,this.T())},g.jy=function(a){this.height!==a&&(this.height=a,this.T())},g.yy=function(a,b){if(this.width!==
a||this.height!==b)this.width=a,this.height=b,this.T()},m.Ty=function(a){a.A(this.width)},m.Zw=function(a){a.A(this.height)},m.vE=function(a){this.xa();a.A(this.Ua.left)},m.xE=function(a){this.xa();a.A(this.Ua.top)},m.wE=function(a){this.xa();a.A(this.Ua.right)},m.uE=function(a){this.xa();a.A(this.Ua.bottom)});e&&(c.Aw=function(a,b){return ib(this.k,bb(b))<=bb(a)},c.hx=function(a){return lb(this.k,bb(a))},c.cx=function(a,b){var c=gb(a),d=gb(b),e=eb(this.k);return lb(d,c)?lb(e,c)&&!lb(e,d):!(!lb(e,
c)&&lb(e,d))},g.js=function(a){a=bb(db(a));isNaN(a)||this.k===a||(this.k=a,this.T())},g.qF=function(a){0===a||isNaN(a)||(this.k+=bb(a),this.k=eb(this.k),this.T())},g.rF=function(a){0===a||isNaN(a)||(this.k-=bb(a),this.k=eb(this.k),this.T())},g.Zx=function(a,b){var c=jb(this.k,bb(b),bb(a));isNaN(c)||this.k===c||(this.k=c,this.T())},g.sF=function(a,b,c){a=jb(this.k,Math.atan2(c-this.y,b-this.x),bb(a));isNaN(a)||this.k===a||(this.k=a,this.T())},g.Cy=function(a,b){var c=Math.atan2(b-this.y,a-this.x);
isNaN(c)||this.k===c||(this.k=c,this.T())},m.zw=function(a){a.A(fb(this.k))});n||(c.Nw=function(a,b,c){return Rc(this.Pb[a],b,c)},c.gx=function(a){return this.Pb[a]},c.kF=function(a,b){var c=this.X(),d=c.Fc();if(!d.length)return!1;var e=d[0],f=e,g=e.Pb[b],k,h,m;k=1;for(h=d.length;k<h;k++)if(e=d[k],m=e.Pb[b],0===a&&m<g||1===a&&m>g)g=m,f=e;c.Xi(f);return!0},c.Qx=function(a){var b,c,d,e,f;if(this.b.rf().qg){f=this.X();if(f.ea)for(f.ea=!1,y(f.d),y(f.ca),d=this.d,b=0,c=d.length;b<c;b++)e=d[b],e.uid===
a?f.ca.push(e):f.d.push(e);else{d=b=0;for(c=f.d.length;b<c;b++)e=f.d[b],f.d[d]=e,e.uid===a?f.ca.push(e):d++;Ua(f.d,d)}this.jd();return!!f.d.length}e=this.b.ti(a);if(!e)return!1;f=this.X();if(!f.ea&&-1===f.d.indexOf(e))return!1;if(this.O)for(a=e.type.gb,b=0,c=a.length;b<c;b++){if(a[b]===this)return f.Xi(e),this.jd(),!0}else if(e.type===this)return f.Xi(e),this.jd(),!0;return!1},c.Tf=function(){return!0},c.Fo=function(){return!0},g.my=function(a,b){var c=this.Pb;Aa(c[a])?c[a]=Aa(b)?b:parseFloat(b):
Ba(c[a])&&(c[a]=Ba(b)?b:b.toString())},g.yw=function(a,b){var c=this.Pb;Aa(c[a])?c[a]=Aa(b)?c[a]+b:c[a]+parseFloat(b):Ba(c[a])&&(c[a]=Ba(b)?c[a]+b:c[a]+b.toString())},g.My=function(a,b){var c=this.Pb;Aa(c[a])&&(c[a]=Aa(b)?c[a]-b:c[a]-parseFloat(b))},g.ey=function(a,b){this.Pb[a]=b?1:0},g.Ny=function(a){this.Pb[a]=1-this.Pb[a]},g.Wr=function(){this.b.$e(this)},g.vx||(g.vx=function(a){var b,c;try{b=JSON.parse(a)}catch(d){return}this.b.Zm(this,b,!0);this.De&&this.De();if(this.U)for(a=0,b=this.U.length;a<
b;++a)c=this.U[a],c.De&&c.De()}),m.Tw=function(a){var b=a.Hh.d.length,c,d,e;c=0;for(d=this.b.me.length;c<d;c++)e=this.b.me[c],a.Hh.O?0<=e.type.gb.indexOf(a.Hh)&&b++:e.type===a.Hh&&b++;a.Ca(b)},m.mF=function(a){a.Ca(a.Hh.X().Fc().length)},m.Qy=function(a){a.Ca(this.uid)},m.OE=function(a){a.Ca(this.Vj())},m.Bw||(m.Bw=function(a){a.wd(JSON.stringify(this.b.ir(this,!0)))}));a&&(c.RE=function(){return this.visible},g.Ey=function(a){!a!==!this.visible&&(this.visible=!!a,this.b.Qa=!0)},c.Ow=function(a,b){return Rc(Vb(100*
this.opacity),a,b)},g.ty=function(a){a=a/100;0>a?a=0:1<a&&(a=1);a!==this.opacity&&(this.opacity=a,this.b.Qa=!0)},m.Opacity=function(a){a.A(Vb(100*this.opacity))});d&&(c.mx=function(a){return a?this.n===a:!1},c.lF=function(a){var b=this.X(),c=b.Fc();if(!c.length)return!1;var d=c[0],e=d,f,g;f=1;for(g=c.length;f<g;f++)if(d=c[f],0===a){if(d.n.index>e.n.index||d.n.index===e.n.index&&d.Td()>e.Td())e=d}else if(d.n.index<e.n.index||d.n.index===e.n.index&&d.Td()<e.Td())e=d;b.Xi(e);return!0},g.bF=function(){var a=
this.n,b=a.d;b.length&&b[b.length-1]===this||(a.bj(this,!1),a.Dj(this,!1),this.b.Qa=!0)},g.$E=function(){var a=this.n,b=a.d;b.length&&b[0]===this||(a.bj(this,!1),a.WC(this),this.b.Qa=!0)},g.aF=function(a){a&&a!=this.n&&(this.n.bj(this,!0),this.n=a,a.Dj(this,!0),this.b.Qa=!0)},g.AF=function(a,b){var c=0===a;if(b){var d=b.wm(this);d&&d.uid!==this.uid&&(this.n.index!==d.n.index&&(this.n.bj(this,!0),this.n=d.n,d.n.Dj(this,!0)),this.n.sC(this,d,c),this.b.Qa=!0)}},m.WE=function(a){a.Ca(this.n.Hu)},m.VE=
function(a){a.wd(this.n.name)},m.zF=function(a){a.Ca(this.Td())});b&&(g.hy=function(a,b){if(this.b.F){var c=this.type.Fp(b);if(!(0>c)){var d=1===a;this.Vf[c]!==d&&(this.Vf[c]=d,this.Ae(),this.b.Qa=!0)}}},g.iy=function(a,b,c){if(this.b.F){var d=this.type.Fp(a);0>d||(a=this.type.ka[d],d=this.nb[d],b=Math.floor(b),0>b||b>=d.length||(1===this.b.F.kB(a.Fb,b)&&(c/=100),d[b]!==c&&(d[b]=c,a.Ib&&(this.b.Qa=!0))))}})};wc=function(){this.Xo=this.Sl=!0;this.type.Ll=!0;this.b.Qa=!0;var f,h,n=this.Uo;f=0;for(h=
n.length;f<h;++f)n[f](this);this.n.Nd&&this.xa()};xc=function(f){f&&this.Uo.push(f)};zc=function(){if(this.Sl){var f=this.Ua,h=this.yc;f.set(this.x,this.y,this.x+this.width,this.y+this.height);f.offset(-this.Nb*this.width,-this.Ob*this.height);this.k?(f.offset(-this.x,-this.y),h.Jv(f,this.k),h.offset(this.x,this.y),h.zs(f)):h.ij(f);f.normalize();this.Sl=!1;this.qw()}};var f=new Na(0,0,0,0);Ac=function(){if(this.n.Nd){var k=this.n.rc,h=this.Ua;f.set(k.Rc(h.left),k.Sc(h.top),k.Rc(h.right),k.Sc(h.bottom));
this.ad.Oj(f)||(this.ad.right<this.ad.left?k.update(this,null,f):k.update(this,this.ad,f),this.ad.gi(f),this.n.te=!0)}};Bc=function(){if(this.Xo&&this.jf){this.xa();var k=this.type.Wl,h=this.Ua;f.set(k.Rc(h.left),k.Sc(h.top),k.Rc(h.right),k.Sc(h.bottom));this.dg.Oj(f)||(this.dg.right<this.dg.left?k.update(this,null,f):k.update(this,this.dg,f),this.dg.gi(f),this.Xo=!1)}};yc=function(f,h){return this.Ua.jc(f,h)&&this.yc.jc(f,h)?this.xd?this.QF(f,h):this.qa&&!this.qa.wh()?(this.qa.Yg(this.width,this.height,
this.k),this.qa.jc(f-this.x,h-this.y)):!0:!1};sc=function(){this.type.po();return this.uh};Cc=function(){this.n.Mr();return this.Be};Dc=function(){y(this.Ha);var f,h,n,q=!0;f=0;for(h=this.Vf.length;f<h;f++)this.Vf[f]&&(n=this.type.ka[f],this.Ha.push(n),n.Zc||(q=!1));this.rw=!!this.Ha.length;this.Kf=q};tc=function(){return"Inst"+this.lv};bc=function(f){if(f&&f.nc&&f.type!=this){var h,n,q;h=0;for(n=f.siblings.length;h<n;h++)if(q=f.siblings[h],q.type==this)return q}f=this.X().Fc();return f.length?f[0]:
null};cc=function(f){var h=this.X().Fc();return h.length?h[f.Vj()%h.length]:null};ac=function(){if(this.kj&&!this.O){var f,h;f=0;for(h=this.d.length;f<h;f++)this.d[f].uh=f;var n=f,q=this.b.me;f=0;for(h=q.length;f<h;++f)q[f].type===this&&(q[f].uh=n++);this.kj=!1}};qc=function(f){if(f<this.d.length)return this.d[f];f-=this.d.length;var h=this.b.me,n,q;n=0;for(q=h.length;n<q;++n)if(h[n].type===this){if(0===f)return h[n];--f}return null};dc=function(){return this.Mf[this.Je]};ec=function(){this.Je++;
this.Je===this.Mf.length?this.Mf.push(new $b(this)):(this.Mf[this.Je].ea=!0,y(this.Mf[this.Je].ca))};fc=function(){this.Je++;this.Je===this.Mf.length&&this.Mf.push(new $b(this));var f=this.Mf[this.Je],h=this.Mf[this.Je-1];h.ea?f.ea=!0:(f.ea=!1,Va(f.d,h.d));y(f.ca)};gc=function(){this.Je--};hc=function(f){var h,n,q,r,e,a=0;if(!this.O)for(h=0,n=this.gb.length;h<n;h++)for(e=this.gb[h],q=0,r=e.jb.length;q<r;q++){if(f===e.jb[q].name)return this.R.lastBehIndex=a,e.jb[q];a++}h=0;for(n=this.jb.length;h<n;h++){if(f===
this.jb[h].name)return this.R.lastBehIndex=a,this.jb[h];a++}return null};ic=function(f){return this.vm(f)?this.R.lastBehIndex:-1};oc=function(f){var h,n;h=0;for(n=this.ka.length;h<n;h++)if(this.ka[h].name===f)return h;return-1};pc=function(){if(this.nc&&!this.O){var f,h,n,q,r,e,a;this.po();e=this.X();var d=e.ea,b=(f=this.b.hb())&&f.lb&&f.lb.sd;f=0;for(h=this.kd.length;f<h;f++)if(r=this.kd[f],r!==this&&(r.po(),a=r.X(),a.ea=d,!d)){y(a.d);n=0;for(q=e.d.length;n<q;++n)a.d[n]=r.Gp(e.d[n].uh);if(b)for(y(a.ca),
n=0,q=e.ca.length;n<q;++n)a.ca[n]=r.Gp(e.ca[n].uh)}}};rc=function(){return"Type"+this.Aa};Rc=function(f,h,n){if("undefined"===typeof f||"undefined"===typeof n)return!1;switch(h){case 0:return f===n;case 1:return f!==n;case 2:return f<n;case 3:return f<=n;case 4:return f>n;case 5:return f>=n;default:return!1}}})();
var Zc={hardlight:{src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nuniform lowp sampler2D samplerBack;\nuniform mediump vec2 destStart;\nuniform mediump vec2 destEnd;\nvoid main(void)\n{\nlowp vec4 front = texture2D(samplerFront, vTex);\nlowp vec4 back = texture2D(samplerBack, mix(destStart, destEnd, vTex));\nif (front.r * 0.299 + front.g * 0.587 + front.b * 0.114 <= 0.5)\n{\nfront *= back * 2.0;\n}\nelse\n{\nfront.rgb = 1.0 - ((1.0 - (2.0 * front.rgb - 1.0)) * (1.0 - back.rgb * front.a));\n}\ngl_FragColor = front;\n}",lh:0,
mh:0,hi:!0,Zc:!1,bi:!1,Z:[]},inverse:{src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nuniform lowp float intensity;\nvoid main(void)\n{\nlowp vec4 front = texture2D(samplerFront, vTex);\nlowp vec3 inverse = vec3(front.a - front.rgb);\ngl_FragColor = vec4(mix(front.rgb, inverse, intensity), front.a);\n}",lh:0,mh:0,hi:!1,Zc:!0,bi:!1,Z:[["intensity",0,1]]},normalmapext:{src:"precision highp float;\nvarying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nuniform lowp sampler2D samplerBack;\nuniform mediump vec2 destStart;\nuniform mediump vec2 destEnd;\nuniform float posX;\nuniform float posY;\nuniform float posZ;\nuniform float colorR;\nuniform float colorG;\nuniform float colorB;\nuniform float lightLum;\nuniform float ambientR;\nuniform float ambientG;\nuniform float ambientB;\nuniform float ambientLum;\nuniform float falloffV1;\nuniform float falloffV2;\nuniform float falloffV3;\nuniform float posXb;\nuniform float posYb;\nuniform float posZb;\nuniform float colorRb;\nuniform float colorGb;\nuniform float colorBb;\nuniform float lightLumb;\nuniform float ambientRb;\nuniform float ambientGb;\nuniform float ambientBb;\nuniform float ambientLumb;\nuniform float falloffV1b;\nuniform float falloffV2b;\nuniform float falloffV3b;\nuniform float posXc;\nuniform float posYc;\nuniform float posZc;\nuniform float colorRc;\nuniform float colorGc;\nuniform float colorBc;\nuniform float lightLumc;\nuniform float ambientRc;\nuniform float ambientGc;\nuniform float ambientBc;\nuniform float ambientLumc;\nuniform float falloffV1c;\nuniform float falloffV2c;\nuniform float falloffV3c;\nuniform float windowX;\nuniform float windowY;\nvec2 Resolution;\nuniform float coneAngle; // new\nvec3 coneDirection; // new\nuniform float light2v;\nuniform float light3v;\nvec3 LightPos;\nvec4 LightColor = vec4(colorR,colorG,colorB,lightLum);\nvec4 AmbientColor = vec4(ambientR,ambientG,ambientB,ambientLum);\nvec3 Falloff = vec3(falloffV1,falloffV2,falloffV3);\nvec3 LightPosB;\nvec4 LightColorB = vec4(colorRb,colorGb,colorBb,lightLumb);\nvec4 AmbientColorB = vec4(ambientRb,ambientGb,ambientBb,ambientLumb);\nvec3 FalloffB = vec3(falloffV1b,falloffV2b,falloffV3b);\n/*\nvec4 LightColorB = (vec4(colorRb,colorGb,colorBb,lightLumb))*light2v;\nvec4 AmbientColorB = (vec4(ambientRb,ambientGb,ambientBb,ambientLumb))*light2v;\nvec3 FalloffB = (vec3(falloffV1b,falloffV2b,falloffV3b))*light2v;\nvec4 LightColorB = vec4(colorRb,colorGb,colorBb,lightLumb);\nvec4 AmbientColorB = vec4(ambientRb,ambientGb,ambientBb,ambientLumb);\nvec3 FalloffB = vec3(falloffV1b,falloffV2b,falloffV3b);\n*/\nvec3 LightPosC;\nvec4 LightColorC = vec4(colorRc,colorGc,colorBc,lightLumc);\nvec4 AmbientColorC = vec4(ambientRc,ambientGc,ambientBc,ambientLumc);\nvec3 FalloffC = vec3(falloffV1c,falloffV2c,falloffV3c);\n/*\nvec4 LightColorC = (vec4(colorRc,colorGc,colorBc,lightLumc))*light3v;\nvec4 AmbientColorC = (vec4(ambientRc,ambientGc,ambientBc,ambientLumc))*light3v;\nvec3 FalloffC = (vec3(falloffV1c,falloffV2c,falloffV3c))*light3v;\nvec4 LightColorC = vec4(colorRc,colorGc,colorBc,lightLumc);\nvec4 AmbientColorC = vec4(ambientRc,ambientGc,ambientBc,ambientLumc);\nvec3 FalloffC = vec3(falloffV1c,falloffV2c,falloffV3c);\n*/\nvoid main(void)\n{\nlowp vec4 front = texture2D(samplerFront, vTex);\nlowp vec4 back = texture2D(samplerBack, mix(destStart, destEnd, vTex));\nlowp vec4 DiffuseColor  = texture2D(samplerBack, mix(destStart, destEnd, vTex));\nmediump vec3 NormalMap  = texture2D(samplerFront, vTex).rgb;\nlowp vec4 DiffuseColorB  = texture2D(samplerBack, mix(destStart, destEnd, vTex));\nmediump vec3 NormalMapB  = texture2D(samplerFront, vTex).rgb;\nlowp vec4 DiffuseColorC  = texture2D(samplerBack, mix(destStart, destEnd, vTex));\nmediump vec3 NormalMapC  = texture2D(samplerFront, vTex).rgb;\nvec3 Sum = vec3(0.0);\n/*\nvec3 Sum = vec3(0.0);\nfor (... each light ...) {\n... calculate light using our illumination model ...\nSum += FinalColor;\n}\ngl_FragColor = vec4(Sum, DiffuseColor.a);\n*/\nfor (int i = 0; i < 1; i++)\n{\nLightPos.x = posX;\nLightPos.y = posY;\nLightPos.y = 1.0 - LightPos.y;\nLightPos.z = posZ;\nResolution.x = windowX;\nResolution.y = windowY;\nvec3 LightDir = vec3(LightPos.xy - (gl_FragCoord.xy / Resolution.xy), LightPos.z);\nLightDir.x *= Resolution.x / Resolution.y;\nfloat D = length(LightDir);\nvec3 N = normalize(NormalMap * 2.0 - 1.0);\nvec3 L = normalize(LightDir);\nvec3 Diffuse = (LightColor.rgb * LightColor.a) * max(dot(N, L), 0.0);\nvec3 Ambient = AmbientColor.rgb * AmbientColor.a;\nfloat Attenuation = 1.0 / ( Falloff.x + (Falloff.y*D) + (Falloff.z*D*D) );\nvec4 colors = vec4(1.0,1.0,1.0,1.0);\nvec3 Intensity = Ambient + Diffuse * Attenuation;\nvec3 FinalColor = DiffuseColor.rgb * Intensity;\ngl_FragColor =  (colors * vec4(FinalColor, DiffuseColor.a) * front.a );\nSum += FinalColor;\n}\nfor (int i = 0; i < 1; i++)\n{\nLightPosB.x = posXb;\nLightPosB.y = posYb;\nLightPosB.y = 1.0 - LightPosB.y;\nLightPosB.z = posZb;\nResolution.x = windowX;\nResolution.y = windowY;\nvec3 LightDirB = vec3(LightPosB.xy - (gl_FragCoord.xy / Resolution.xy), LightPosB.z);\nLightDirB.x *= Resolution.x / Resolution.y;\nfloat D = length(LightDirB);\nvec3 N = normalize(NormalMapB * 2.0 - 1.0);\nvec3 L = normalize(LightDirB);\nvec3 DiffuseB = (LightColorB.rgb * LightColorB.a) * max(dot(N, L), 0.0);\nvec3 AmbientB = AmbientColorB.rgb * AmbientColorB.a;\nfloat AttenuationB = 1.0 / ( FalloffB.x + (FalloffB.y*D) + (FalloffB.z*D*D) );\nvec4 colorsB = vec4(1.0,1.0,1.0,1.0);\nvec3 IntensityB = AmbientB + DiffuseB * AttenuationB;\nvec3 FinalColorB = DiffuseColorB.rgb * IntensityB;\ngl_FragColor =  (colorsB * vec4(FinalColorB, DiffuseColorB.a) * front.a );\nSum += FinalColorB * light2v;\n}\nfor (int i = 0; i < 1; i++)\n{\nLightPosC.x = posXc;\nLightPosC.y = posYc;\nLightPosC.y = 1.0 - LightPosC.y;\nLightPosC.z = posZc;\nResolution.x = windowX;\nResolution.y = windowY;\nvec3 LightDirC = vec3(LightPosC.xy - (gl_FragCoord.xy / Resolution.xy), LightPosC.z);\nLightDirC.x *= Resolution.x / Resolution.y;\nfloat D = length(LightDirC);\nvec3 N = normalize(NormalMapC * 2.0 - 1.0);\nvec3 L = normalize(LightDirC);\nvec3 DiffuseC = (LightColorC.rgb * LightColorC.a) * max(dot(N, L), 0.0);\nvec3 AmbientC = AmbientColorC.rgb * AmbientColorC.a;\nfloat AttenuationC = 1.0 / ( FalloffC.x + (FalloffC.y*D) + (FalloffC.z*D*D) );\nvec4 colorsC = vec4(1.0,1.0,1.0,1.0);\nvec3 IntensityC = AmbientC + DiffuseC * AttenuationC;\nvec3 FinalColorC = DiffuseColorC.rgb * IntensityC;\ngl_FragColor =  (colorsC * vec4(FinalColorC, DiffuseColorC.a) * front.a );\nSum += FinalColorC * light3v;\n}\ngl_FragColor = (vec4(Sum, DiffuseColor.a)) * front.a;\n}",
lh:0,mh:0,hi:!0,Zc:!1,bi:!1,Z:[["posX",0,0],["posY",0,0],["posZ",0,0],["colorR",0,0],["colorG",0,0],["colorB",0,0],["lightLum",0,0],["ambientR",0,0],["ambientG",0,0],["ambientB",0,0],["ambientLum",0,0],["falloffV1",0,0],["falloffV2",0,0],["falloffV3",0,0],["light2v",0,0],["posXb",0,0],["posYb",0,0],["posZb",0,0],["colorRb",0,0],["colorGb",0,0],["colorBb",0,0],["lightLumb",0,0],["ambientRb",0,0],["ambientGb",0,0],["ambientBb",0,0],["ambientLumb",0,0],["falloffV1b",0,0],["falloffV2b",0,0],["falloffV3b",
0,0],["light3v",0,0],["posXc",0,0],["posYc",0,0],["posZc",0,0],["colorRc",0,0],["colorGc",0,0],["colorBc",0,0],["lightLumc",0,0],["ambientRc",0,0],["ambientGc",0,0],["ambientBc",0,0],["ambientLumc",0,0],["falloffV1c",0,0],["falloffV2c",0,0],["falloffV3c",0,0],["windowX",0,0],["windowY",0,0]]},warp:{src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nuniform mediump float seconds;\nuniform mediump float pixelWidth;\nuniform mediump float pixelHeight;\nuniform mediump float layerScale;\nuniform mediump float freqX;\nuniform mediump float freqY;\nuniform mediump float ampX;\nuniform mediump float ampY;\nuniform mediump float speedX;\nuniform mediump float speedY;\nvoid main(void)\n{\nmediump float boxLeft = 0.0;\nmediump float boxTop = 0.0;\nmediump float aspect = pixelHeight / pixelWidth;\nmediump vec2 p = vTex;\np.x += (cos((vTex.y - boxTop) * freqX / layerScale / (pixelWidth * 750.0) + (seconds * speedX)) * ampX * pixelWidth * layerScale);\np.y += (sin((vTex.x - boxLeft) * freqY * aspect / layerScale / (pixelHeight * 750.0) + (seconds * speedY)) * ampY * pixelHeight * layerScale);\ngl_FragColor = texture2D(samplerFront, p);\n}",
lh:25,mh:25,hi:!1,Zc:!1,bi:!0,Z:[["freqX",0,0],["freqY",0,0],["ampX",0,0],["ampY",0,0],["speedX",0,0],["speedY",0,0]]}};function cd(f){this.b=f}
(function(){function f(a){-1===qa.indexOf(a)&&qa.push(a)}function k(a){var b=a.u,c;try{c=b.play()}catch(d){f(a);return}c?c.catch(function(){f(a)}):N&&!H.Ic&&f(a)}function h(){var a,b,c,d;Ya||ob||!w||(n(),"running"===w.state&&(Ya=!0));var e=qa.slice(0);y(qa);if(!Q)for(a=0,b=e.length;a<b;++a)c=e[a],c.Hb||c.nd||(d=c.u.play())&&d.catch(function(){f(c)})}function n(){"suspended"===w.state&&w.resume&&w.resume();if(w.createBuffer){var a=w.createBuffer(1,220,22050),c=w.createBufferSource();c.buffer=a;c.connect(w.destination);
b(c)}}function q(a){a=Math.pow(10,a/20);isFinite(a)||(a=0);0>a&&(a=0);1<a&&(a=1);return a}function r(a){0>a&&(a=0);1<a&&(a=1);return Math.log(a)/Math.log(10)*20}function e(a){a=a.toLowerCase();return M.hasOwnProperty(a)&&M[a].length?M[a][0].Dd():w.destination}function a(){return w.createGain?w.createGain():w.createGainNode()}function d(a){return w.createDelay?w.createDelay(a):w.createDelayNode(a)}function b(a,b){a.start?a.start(b||0):a.noteOn(b||0)}function c(a,b,c,d){a.start?a.start(d||0,b):a.noteGrainOn(d||
0,b,c-b)}function g(a){try{a.stop?a.stop(0):a.noteOff(0)}catch(b){}}function m(b,c,d,e,f,g){this.type="filter";this.Vb=[b,c,d,e,f,g];this.Ba=a();this.ja=a();this.ja.gain.value=g;this.ga=a();this.ga.gain.value=1-g;this.yb=w.createBiquadFilter();this.yb.type="number"===typeof this.yb.type?b:Y[b];this.yb.frequency.value=c;this.yb.detune&&(this.yb.detune.value=d);this.yb.Q.value=e;this.yb.gain.value=f;this.Ba.connect(this.yb);this.Ba.connect(this.ga);this.yb.connect(this.ja)}function l(b,c,e){this.type=
"delay";this.Vb=[b,c,e];this.Ba=a();this.ja=a();this.ja.gain.value=e;this.ga=a();this.ga.gain.value=1-e;this.Mk=a();this.Sd=d(b);this.Sd.delayTime.value=b;this.gm=a();this.gm.gain.value=c;this.Ba.connect(this.Mk);this.Ba.connect(this.ga);this.Mk.connect(this.ja);this.Mk.connect(this.Sd);this.Sd.connect(this.gm);this.gm.connect(this.Mk)}function t(b,c,d,e){this.type="convolve";this.Vb=[c,d,e];this.Ba=a();this.ja=a();this.ja.gain.value=d;this.ga=a();this.ga.gain.value=1-d;this.bh=w.createConvolver();
b&&(this.bh.normalize=c,this.bh.buffer=b);this.Ba.connect(this.bh);this.Ba.connect(this.ga);this.bh.connect(this.ja)}function ca(c,e,f,g,h){this.type="flanger";this.Vb=[c,e,f,g,h];this.Ba=a();this.ga=a();this.ga.gain.value=1-h/2;this.ja=a();this.ja.gain.value=h/2;this.om=a();this.om.gain.value=g;this.Sd=d(c+e);this.Sd.delayTime.value=c;this.gc=w.createOscillator();this.gc.frequency.value=f;this.td=a();this.td.gain.value=e;this.Ba.connect(this.Sd);this.Ba.connect(this.ga);this.Sd.connect(this.ja);
this.Sd.connect(this.om);this.om.connect(this.Sd);this.gc.connect(this.td);this.td.connect(this.Sd.delayTime);b(this.gc)}function P(c,d,e,f,g,h){this.type="phaser";this.Vb=[c,d,e,f,g,h];this.Ba=a();this.ga=a();this.ga.gain.value=1-h/2;this.ja=a();this.ja.gain.value=h/2;this.yb=w.createBiquadFilter();this.yb.type="number"===typeof this.yb.type?7:"allpass";this.yb.frequency.value=c;this.yb.detune&&(this.yb.detune.value=d);this.yb.Q.value=e;this.gc=w.createOscillator();this.gc.frequency.value=g;this.td=
a();this.td.gain.value=f;this.Ba.connect(this.yb);this.Ba.connect(this.ga);this.yb.connect(this.ja);this.gc.connect(this.td);this.td.connect(this.yb.frequency);b(this.gc)}function p(b){this.type="gain";this.Vb=[b];this.Ga=a();this.Ga.gain.value=b}function u(c,d){this.type="tremolo";this.Vb=[c,d];this.Ga=a();this.Ga.gain.value=1-d/2;this.gc=w.createOscillator();this.gc.frequency.value=c;this.td=a();this.td.gain.value=d/2;this.gc.connect(this.td);this.td.connect(this.Ga.gain);b(this.gc)}function I(c,
d){this.type="ringmod";this.Vb=[c,d];this.Ba=a();this.ja=a();this.ja.gain.value=d;this.ga=a();this.ga.gain.value=1-d;this.dl=a();this.dl.gain.value=0;this.gc=w.createOscillator();this.gc.frequency.value=c;this.gc.connect(this.dl.gain);b(this.gc);this.Ba.connect(this.dl);this.Ba.connect(this.ga);this.dl.connect(this.ja)}function E(b,c,d,e,f){this.type="distortion";this.Vb=[b,c,d,e,f];this.Ba=a();this.Dn=a();this.Bn=a();this.GD(d,Math.pow(10,e/20));this.ja=a();this.ja.gain.value=f;this.ga=a();this.ga.gain.value=
1-f;this.zo=w.createWaveShaper();this.em=new Float32Array(65536);this.XA(b,c);this.zo.em=this.em;this.Ba.connect(this.Dn);this.Ba.connect(this.ga);this.Dn.connect(this.zo);this.zo.connect(this.Bn);this.Bn.connect(this.ja)}function D(a,b,c,d,e){this.type="compressor";this.Vb=[a,b,c,d,e];this.Ga=w.createDynamicsCompressor();try{this.Ga.threshold.value=a,this.Ga.knee.value=b,this.Ga.ratio.value=c,this.Ga.attack.value=d,this.Ga.release.value=e}catch(f){}}function F(a,b){this.type="analyser";this.Vb=[a,
b];this.Ga=w.createAnalyser();this.Ga.fftSize=a;this.Ga.smoothingTimeConstant=b;this.VA=new Float32Array(this.Ga.frequencyBinCount);this.Mv=new Uint8Array(a);this.Xk=0}function L(){this.Y=null;this.$m=0}function v(b,c){this.src=b;this.ua=x;this.Pe=c;this.Jl=!1;var d=this;this.Ri=this.Wi=null;this.Fg=[];this.Qn=0;this.Sr=this.mm=this.Vv=this.tn=!1;1===x&&c&&!S&&(this.ua=0,this.Wi=a());this.ff=this.Fa=null;var e;switch(this.ua){case 0:this.Fa=new Audio;this.Fa.crossOrigin="anonymous";this.Fa.addEventListener("canplaythrough",
function(){d.Sr=!0});1===x&&w.createMediaElementSource&&!/wiiu/i.test(navigator.userAgent)&&(this.Vv=!0,this.Fa.addEventListener("canplay",function(){!d.Ri&&d.Fa&&(d.Ri=w.createMediaElementSource(d.Fa),d.Ri.connect(d.Wi))}));this.Fa.autoplay=!1;this.Fa.KF="auto";this.Fa.src=b;break;case 1:H.Lm?H.Ys(b,function(a){d.ff=a;d.Qs()},function(){d.mm=!0}):(e=new XMLHttpRequest,e.open("GET",b,!0),e.responseType="arraybuffer",e.onload=function(){d.ff=e.response;d.Qs()},e.onerror=function(){d.mm=!0},e.send());
break;case 2:this.Fa=!0;break;case 3:this.Fa=!0}}function C(b,c){var d=this;this.tag=c;this.Hb=this.Le=!0;this.src=b.src;this.buffer=b;this.ua=x;this.Pe=b.Pe;this.playbackRate=1;this.xi=!0;this.nd=this.Kd=!1;this.bd=0;this.kk=this.Di=this.Qe=!1;this.volume=1;this.Nq=function(a){if(!d.nd&&!d.Kd){var b=this;b||(b=a.target);b===d.Hl&&(d.xi=!0,d.Hb=!0,ta=d.tag,H.trigger(cd.prototype.j.Dl,sa))}};this.Hl=null;this.Bi=1===Ca&&!this.Pe||2===Ca;this.Si=1;this.startTime=this.Bi?H.zb.na:H.Qf.na;this.Bb=this.Mb=
null;this.Te=!1;this.pc=null;this.Xu=this.Wu=this.Vu=this.Uu=this.Zu=this.Yu=0;this.u=null;var f=!1;1!==this.ua||0!==this.buffer.ua||this.buffer.Vv||(this.ua=0);switch(this.ua){case 0:this.Pe?(this.u=b.Fa,f=!b.Jl,b.Jl=!0):(this.u=new Audio,this.u.crossOrigin="anonymous",this.u.autoplay=!1,this.u.src=b.Fa.src,f=!0);f&&this.u.addEventListener("ended",function(){ta=d.tag;d.Hb=!0;H.trigger(cd.prototype.j.Dl,sa)});break;case 1:this.Mb=a();this.Mb.connect(e(c));1===this.buffer.ua?b.Fa&&(this.u=w.createBufferSource(),
this.u.buffer=b.Fa,this.u.connect(this.Mb)):(this.u=this.buffer.Fa,this.buffer.Wi.connect(this.Mb),this.buffer.Jl||(this.buffer.Jl=!0,this.buffer.Fa.addEventListener("ended",function(){ta=d.tag;d.Hb=!0;H.trigger(cd.prototype.j.Dl,sa)})));break;case 2:this.u=new window.Media(A+this.src,null,null,function(a){a===window.Media.MEDIA_STOPPED&&(d.xi=!0,d.Hb=!0,ta=d.tag,H.trigger(cd.prototype.j.Dl,sa))});break;case 3:this.u=!0}}function V(a){y(va);if(a.length){var b,c,d;b=0;for(c=B.length;b<c;b++)d=B[b],
Wb(a,d.tag)&&va.push(d)}else G&&!G.sh()&&(y(va),va[0]=G)}function X(a,b){M.hasOwnProperty(a)?M[a].push(b):M[a]=[b];var c,d,e,f,g=w.destination;if(M.hasOwnProperty(a)&&(e=M[a],e.length))for(g=e[0].Dd(),c=0,d=e.length;c<d;c++)f=e[c],c+1===d?f.Qd(w.destination):f.Qd(e[c+1].Dd());V(a);c=0;for(d=va.length;c<d;c++)va[c].jD(g);da&&qb===a&&(da.disconnect(),da.connect(g))}function ka(){}function ba(){}var U=cd.prototype;U.la=function(a){this.Pa=a;this.b=a.b};U.la.prototype.P=function(){};var H=null,sa=null,
ta="",A="",x=0,w=null,W=[],B=[],G=null,O=!1,Ca=0,Q=!1,la=1,aa=0,ga=0,ob=!1,pb=1,Da=1,R=10,z=1E4,ea=1,da=null,qb="",N=!1,qa=[],S=!1,Ya=!1;document.addEventListener("pointerup",h,!0);document.addEventListener("touchend",h,!0);document.addEventListener("click",h,!0);document.addEventListener("keydown",h,!0);document.addEventListener("gamepadconnected",h,!0);var M={},Y="lowpass highpass bandpass lowshelf highshelf peaking notch allpass".split(" ");m.prototype.Qd=function(a){this.ja.disconnect();this.ja.connect(a);
this.ga.disconnect();this.ga.connect(a)};m.prototype.remove=function(){this.Ba.disconnect();this.yb.disconnect();this.ja.disconnect();this.ga.disconnect()};m.prototype.Dd=function(){return this.Ba};l.prototype.Qd=function(a){this.ja.disconnect();this.ja.connect(a);this.ga.disconnect();this.ga.connect(a)};l.prototype.remove=function(){this.Ba.disconnect();this.Mk.disconnect();this.Sd.disconnect();this.gm.disconnect();this.ja.disconnect();this.ga.disconnect()};l.prototype.Dd=function(){return this.Ba};
t.prototype.Qd=function(a){this.ja.disconnect();this.ja.connect(a);this.ga.disconnect();this.ga.connect(a)};t.prototype.remove=function(){this.Ba.disconnect();this.bh.disconnect();this.ja.disconnect();this.ga.disconnect()};t.prototype.Dd=function(){return this.Ba};ca.prototype.Qd=function(a){this.ga.disconnect();this.ga.connect(a);this.ja.disconnect();this.ja.connect(a)};ca.prototype.remove=function(){this.Ba.disconnect();this.Sd.disconnect();this.gc.disconnect();this.td.disconnect();this.ga.disconnect();
this.ja.disconnect();this.om.disconnect()};ca.prototype.Dd=function(){return this.Ba};P.prototype.Qd=function(a){this.ga.disconnect();this.ga.connect(a);this.ja.disconnect();this.ja.connect(a)};P.prototype.remove=function(){this.Ba.disconnect();this.yb.disconnect();this.gc.disconnect();this.td.disconnect();this.ga.disconnect();this.ja.disconnect()};P.prototype.Dd=function(){return this.Ba};p.prototype.Qd=function(a){this.Ga.disconnect();this.Ga.connect(a)};p.prototype.remove=function(){this.Ga.disconnect()};
p.prototype.Dd=function(){return this.Ga};u.prototype.Qd=function(a){this.Ga.disconnect();this.Ga.connect(a)};u.prototype.remove=function(){this.gc.disconnect();this.td.disconnect();this.Ga.disconnect()};u.prototype.Dd=function(){return this.Ga};I.prototype.Qd=function(a){this.ja.disconnect();this.ja.connect(a);this.ga.disconnect();this.ga.connect(a)};I.prototype.remove=function(){this.gc.disconnect();this.dl.disconnect();this.Ba.disconnect();this.ja.disconnect();this.ga.disconnect()};I.prototype.Dd=
function(){return this.Ba};E.prototype.GD=function(a,b){.01>a&&(a=.01);this.Dn.gain.value=a;this.Bn.gain.value=Math.pow(1/a,.6)*b};E.prototype.shape=function(a,b,c){var d=1.05*c*b-b;c=0>a?-1:1;a=0>a?-a:a;b=a<b?a:b+d*(1-Math.exp(-(1/d)*(a-b)));return b*c};E.prototype.XA=function(a,b){for(var c=Math.pow(10,a/20),d=Math.pow(10,b/20),e=0,f=0;32768>f;++f)e=f/32768,e=this.shape(e,c,d),this.em[32768+f]=e,this.em[32768-f-1]=-e};E.prototype.Qd=function(a){this.ja.disconnect();this.ja.connect(a);this.ga.disconnect();
this.ga.connect(a)};E.prototype.remove=function(){this.Ba.disconnect();this.Dn.disconnect();this.zo.disconnect();this.Bn.disconnect();this.ja.disconnect();this.ga.disconnect()};E.prototype.Dd=function(){return this.Ba};D.prototype.Qd=function(a){this.Ga.disconnect();this.Ga.connect(a)};D.prototype.remove=function(){this.Ga.disconnect()};D.prototype.Dd=function(){return this.Ga};F.prototype.Ya=function(){this.Ga.getFloatFrequencyData(this.VA);this.Ga.getByteTimeDomainData(this.Mv);for(var a=this.Ga.fftSize,
b=0,c=this.Xk=0,d=0;b<a;b++)d=(this.Mv[b]-128)/128,0>d&&(d=-d),this.Xk<d&&(this.Xk=d),c+=d*d;this.Xk=r(this.Xk);r(Math.sqrt(c/a))};F.prototype.Qd=function(a){this.Ga.disconnect();this.Ga.connect(a)};F.prototype.remove=function(){this.Ga.disconnect()};F.prototype.Dd=function(){return this.Ga};L.prototype.Oh=function(a){this.Y=a};L.prototype.Em=function(){return!!this.Y};L.prototype.Ya=function(){};v.prototype.rv=function(){var a,b,c,d;c=a=0;for(b=B.length;a<b;++a)d=B[a],B[c]=d,d.buffer===this?d.stop():
++c;B.length=c;this.Ri&&(this.Ri.disconnect(),this.Ri=null);this.Wi&&(this.Wi.disconnect(),this.Wi=null);this.ff=this.Fa=null};v.prototype.Qs=function(){if(!this.Fa&&this.ff){var a=this;if(w.decodeAudioData)w.decodeAudioData(this.ff,function(b){a.Fa=b;a.ff=null;var c,d,e;if(za(a.wn)||Q)za(a.Zl)||(c=a.Zl.bh,c.normalize=a.Gu,c.buffer=b);else if(a.Fg.length){c=0;for(d=a.Fg.length;c<d;c++){b=a.Fg[c];e=new C(a,b.ho);e.fj(!0);if("undefined"!==typeof b.Iu&&(b.Y=H.ti(b.Iu),!b.Y))continue;if(b.Y){var f=mb(b.Y.x,
b.Y.y,-b.Y.n.Xa(),aa,ga,!0),g=mb(b.Y.x,b.Y.y,-b.Y.n.Xa(),aa,ga,!1);e.gl(f,g,cb(b.Y.k-b.Y.n.Xa()),b.Zj,b.Sk,b.Tk);e.Oh(b.Y)}else e.gl(b.x,b.y,b.C,b.Zj,b.Sk,b.Tk);e.play(a.yq,a.Pr,a.Qn);a.tn&&e.pause();B.push(e)}y(a.Fg)}else e=new C(a,a.wn||""),e.play(a.yq,a.Pr,a.Qn),a.tn&&e.pause(),B.push(e)},function(){a.mm=!0});else if(this.Fa=w.createBuffer(this.ff,!1),this.ff=null,za(this.wn)||Q)za(this.Zl)||(b=this.Zl.bh,b.normalize=this.Gu,b.buffer=this.Fa);else{var b=new C(this,this.wn);b.play(this.yq,this.Pr,
this.Qn);this.tn&&b.pause();B.push(b)}}};v.prototype.It=function(){switch(this.ua){case 0:var a=4<=this.Fa.readyState;a&&(this.Sr=!0);return a||this.Sr;case 1:return!!this.ff||!!this.Fa;case 2:return!0;case 3:return!0}return!1};v.prototype.YB=function(){switch(this.ua){case 0:return this.It();case 1:return!!this.Fa;case 2:return!0;case 3:return!0}return!1};v.prototype.IB=function(){switch(this.ua){case 0:return!!this.Fa.error;case 1:return this.mm}return!1};C.prototype.sh=function(){switch(this.ua){case 0:return this.u.ended;
case 1:return 1===this.buffer.ua?!this.Le&&!this.Hb&&this.u.loop||this.nd?!1:this.xi:this.u.ended;case 2:return this.xi;case 3:!0}return!0};C.prototype.sz=function(){return this.Le||this.Hb?!0:this.sh()};C.prototype.fj=function(a){1===x&&(!this.Te&&a?this.Mb&&(this.Bb||(this.Bb=w.createPanner(),this.Bb.panningModel="number"===typeof this.Bb.panningModel?pb:["equalpower","HRTF","soundfield"][pb],this.Bb.distanceModel="number"===typeof this.Bb.distanceModel?Da:["linear","inverse","exponential"][Da],
this.Bb.refDistance=R,this.Bb.maxDistance=z,this.Bb.rolloffFactor=ea),this.Mb.disconnect(),this.Mb.connect(this.Bb),this.Bb.connect(e(this.tag)),this.Te=!0):this.Te&&!a&&this.Mb&&(this.Bb.disconnect(),this.Mb.disconnect(),this.Mb.connect(e(this.tag)),this.Te=!1))};C.prototype.gl=function(a,b,c,d,e,f){this.Te&&1===x&&(this.Bb.setPosition(a,b,0),this.Bb.setOrientation(Math.cos(bb(c)),Math.sin(bb(c)),0),this.Bb.coneInnerAngle=d,this.Bb.coneOuterAngle=e,this.Bb.coneOuterGain=f,this.Yu=a,this.Zu=b,this.Uu=
c,this.Vu=d,this.Wu=e,this.Xu=f)};C.prototype.Oh=function(a){this.Te&&1===x&&(this.pc||(this.pc=new L),this.pc.Oh(a))};C.prototype.Ya=function(a){if(this.Te&&1===x&&this.pc&&this.pc.Em()&&this.Ai()){this.pc.Ya(a);a=this.pc.Y;var b=mb(a.x,a.y,-a.n.Xa(),aa,ga,!0),c=mb(a.x,a.y,-a.n.Xa(),aa,ga,!1);this.Bb.setPosition(b,c,0);b=0;"undefined"!==typeof this.pc.Y.k&&(b=a.k-a.n.Xa(),this.Bb.setOrientation(Math.cos(b),Math.sin(b),0))}};C.prototype.play=function(a,d,e,f){var g=this.u;this.Qe=a;this.volume=d;
e=e||0;f=f||0;switch(this.ua){case 0:1!==g.playbackRate&&(g.playbackRate=1);g.volume!==d*la&&(g.volume=d*la);g.loop!==a&&(g.loop=a);g.muted&&(g.muted=!1);if(g.currentTime!==e)try{g.currentTime=e}catch(h){}k(this);break;case 1:this.muted=!1;this.Si=1;if(1===this.buffer.ua)this.Mb.gain.value=d*la,this.Le||(this.u=w.createBufferSource(),this.u.buffer=this.buffer.Fa,this.u.connect(this.Mb)),this.u.onended=this.Nq,this.Hl=this.u,this.u.loop=a,this.xi=!1,0===e?b(this.u,f):c(this.u,e,this.qh(),f);else{1!==
g.playbackRate&&(g.playbackRate=1);g.loop!==a&&(g.loop=a);g.volume=d*la;if(g.currentTime!==e)try{g.currentTime=e}catch(l){}k(this)}break;case 2:(!this.Le&&this.Hb||0!==e)&&g.seekTo(e);g.play();this.xi=!1;break;case 3:H.Hc?AppMobi.context.playSound(this.src,a):AppMobi.player.playSound(this.src,a)}this.playbackRate=1;this.startTime=(this.Bi?H.zb.na:H.Qf.na)-e;this.nd=this.Hb=this.Le=!1};C.prototype.stop=function(){switch(this.ua){case 0:this.u.paused||this.u.pause();break;case 1:1===this.buffer.ua?
g(this.u):this.u.paused||this.u.pause();break;case 2:this.u.stop();break;case 3:H.Hc&&AppMobi.context.stopSound(this.src)}this.Hb=!0;this.nd=!1};C.prototype.pause=function(){if(!(this.Le||this.Hb||this.sh()||this.nd)){switch(this.ua){case 0:this.u.paused||this.u.pause();break;case 1:1===this.buffer.ua?(this.bd=this.Ip(!0),this.Qe&&(this.bd=this.bd%this.qh()),this.nd=!0,g(this.u)):this.u.paused||this.u.pause();break;case 2:this.u.pause();break;case 3:H.Hc&&AppMobi.context.stopSound(this.src)}this.nd=
!0}};C.prototype.vD=function(){if(!(this.Le||this.Hb||this.sh())&&this.nd){switch(this.ua){case 0:k(this);break;case 1:1===this.buffer.ua?(this.u=w.createBufferSource(),this.u.buffer=this.buffer.Fa,this.u.connect(this.Mb),this.u.onended=this.Nq,this.Hl=this.u,this.u.loop=this.Qe,this.Mb.gain.value=la*this.volume*this.Si,this.qo(),this.startTime=(this.Bi?H.zb.na:H.Qf.na)-this.bd/(this.playbackRate||.001),c(this.u,this.bd,this.qh())):k(this);break;case 2:this.u.play();break;case 3:H.Hc&&AppMobi.context.resumeSound(this.src)}this.nd=
!1}};C.prototype.seek=function(a){if(!(this.Le||this.Hb||this.sh()))switch(this.ua){case 0:try{this.u.currentTime=a}catch(b){}break;case 1:if(1===this.buffer.ua)this.nd?this.bd=a:(this.pause(),this.bd=a,this.vD());else try{this.u.currentTime=a}catch(c){}break;case 3:H.Hc&&AppMobi.context.seekSound(this.src,a)}};C.prototype.jD=function(a){1===this.ua&&(this.Te?(this.Bb.disconnect(),this.Bb.connect(a)):(this.Mb.disconnect(),this.Mb.connect(a)))};C.prototype.qh=function(){var a=0;switch(this.ua){case 0:"undefined"!==
typeof this.u.duration&&(a=this.u.duration);break;case 1:a=this.buffer.Fa.duration;break;case 2:a=this.u.getDuration();break;case 3:H.Hc&&(a=AppMobi.context.getDurationSound(this.src))}return a};C.prototype.Ip=function(a){var b=this.qh(),c=0;switch(this.ua){case 0:"undefined"!==typeof this.u.currentTime&&(c=this.u.currentTime);break;case 1:if(1===this.buffer.ua){if(this.nd)return this.bd;c=(this.Bi?H.zb.na:H.Qf.na)-this.startTime}else"undefined"!==typeof this.u.currentTime&&(c=this.u.currentTime);
break;case 3:H.Hc&&(c=AppMobi.context.getPlaybackTimeSound(this.src))}a&&(c*=this.playbackRate);!this.Qe&&c>b&&(c=b);return c};C.prototype.Ai=function(){return!this.nd&&!this.Le&&!this.Hb&&!this.sh()};C.prototype.SD=function(){return!this.Le&&!this.Hb&&!this.sh()};C.prototype.hE=function(){var a=this.volume*la;isFinite(a)||(a=0);switch(this.ua){case 0:"undefined"!==typeof this.u.volume&&this.u.volume!==a&&(this.u.volume=a);break;case 1:1===this.buffer.ua?this.Mb.gain.value=a*this.Si:"undefined"!==
typeof this.u.volume&&this.u.volume!==a&&(this.u.volume=a)}};C.prototype.jm=function(a){switch(this.ua){case 0:this.u.muted!==!!a&&(this.u.muted=!!a);break;case 1:1===this.buffer.ua?(this.Si=a?0:1,this.Mb.gain.value=la*this.volume*this.Si):this.u.muted!==!!a&&(this.u.muted=!!a)}};C.prototype.Dv=function(a){this.Di=!!a;this.jm(this.Di||this.kk)};C.prototype.Fv=function(a){this.kk=!!a;this.jm(this.Di||this.kk)};C.prototype.qo=function(){var a=this.playbackRate;this.Bi&&(a*=H.Pg);switch(this.ua){case 0:this.u.playbackRate!==
a&&(this.u.playbackRate=a);break;case 1:1===this.buffer.ua?this.u.playbackRate.value!==a&&(this.u.playbackRate.value=a):this.u.playbackRate!==a&&(this.u.playbackRate=a)}};C.prototype.ND=function(a){switch(this.ua){case 0:a?this.Ai()?(this.Kd=!0,this.u.pause()):this.Kd=!1:this.Kd&&(this.u.play(),this.Kd=!1);break;case 1:a?this.Ai()?(this.Kd=!0,1===this.buffer.ua?(this.bd=this.Ip(!0),this.Qe&&(this.bd=this.bd%this.qh()),g(this.u)):this.u.pause()):this.Kd=!1:this.Kd&&(1===this.buffer.ua?(this.u=w.createBufferSource(),
this.u.buffer=this.buffer.Fa,this.u.connect(this.Mb),this.u.onended=this.Nq,this.Hl=this.u,this.u.loop=this.Qe,this.Mb.gain.value=la*this.volume*this.Si,this.qo(),this.startTime=(this.Bi?H.zb.na:H.Qf.na)-this.bd/(this.playbackRate||.001),c(this.u,this.bd,this.qh())):this.u.play(),this.Kd=!1);break;case 2:a?this.Ai()?(this.u.pause(),this.Kd=!0):this.Kd=!1:this.Kd&&(this.Kd=!1,this.u.play())}};U.fa=function(a){this.type=a;H=this.b=a.b;sa=this;this.qd=null;this.zk=-600;this.b.Lm&&(S=!0);!(this.b.mk||
this.b.ck&&(this.b.bq||this.b.Hm))||this.b.Jm||this.b.pb||this.b.Gt||S||(N=!0);w=null;"undefined"!==typeof AudioContext?(x=1,w=new AudioContext):"undefined"!==typeof webkitAudioContext&&(x=1,w=new webkitAudioContext);this.b.mk&&w&&(w.close&&w.close(),"undefined"!==typeof AudioContext?w=new AudioContext:"undefined"!==typeof webkitAudioContext&&(w=new webkitAudioContext));1!==x&&(this.b.tf&&"undefined"!==typeof window.Media?x=2:this.b.Ht&&(x=3));2===x&&(A=location.href,a=A.lastIndexOf("/"),-1<a&&(A=
A.substr(0,a+1)),A=A.replace("file://",""));if(this.b.ZB&&this.b.$B&&"undefined"===typeof Audio)alert("It looks like you're using Safari for Windows without Quicktime.  Audio cannot be played until Quicktime is installed."),this.b.$e(this);else{if(this.b.Hc)O=this.b.ck;else try{O=!!(new Audio).canPlayType('audio/ogg; codecs="vorbis"')&&!this.b.Mm}catch(b){O=!1}this.b.rj(this)}};var ma=U.fa.prototype;ma.P=function(){this.b.di=this;Ca=this.N[0];this.If=this.N[1];this.PC=0!==this.N[2];this.Bg=0;pb=this.N[3];
Da=this.N[4];this.zk=-this.N[5];R=this.N[6];z=this.N[7];ea=this.N[8];this.qd=new L;var a=this.b.W||this.b.width,b=this.b.V||this.b.height;1===x&&(w.listener.setPosition(a/2,b/2,this.zk),w.listener.setOrientation(0,0,1,0,-1,0),window.c2OnAudioMicStream=function(a,b){da&&da.disconnect();qb=b.toLowerCase();da=w.createMediaStreamSource(a);da.connect(e(qb))});this.b.ts(function(a){sa.DC(a)});var c=this;this.b.Oo(function(a){c.Hq(a)})};ma.Hq=function(a){var b,c,d;b=0;for(c=B.length;b<c;b++)d=B[b],d.pc&&
d.pc.Y===a&&(d.pc.Y=null,d.Te&&d.Ai()&&d.Qe&&d.stop());this.qd.Y===a&&(this.qd.Y=null)};ma.Wb=function(){var a={silent:Q,masterVolume:la,listenerZ:this.zk,listenerUid:this.qd.Em()?this.qd.Y.uid:-1,playing:[],effects:{}},b=a.playing,c,d,e,f,g,h;c=0;for(d=B.length;c<d;c++)e=B[c],!e.SD()||3===this.If||e.Pe&&1===this.If||!e.Pe&&2===this.If||(f=e.Ip(),e.Qe&&(f=f%e.qh()),f={tag:e.tag,buffersrc:e.buffer.src,is_music:e.Pe,playbackTime:f,volume:e.volume,looping:e.Qe,muted:e.Di,playbackRate:e.playbackRate,
paused:e.nd,resume_position:e.bd},e.Te&&(f.pan={},h=f.pan,e.pc&&e.pc.Em()?h.objUid=e.pc.Y.uid:(h.x=e.Yu,h.y=e.Zu,h.a=e.Uu),h.ia=e.Vu,h.oa=e.Wu,h.og=e.Xu),b.push(f));b=a.effects;for(g in M)if(M.hasOwnProperty(g)){e=[];c=0;for(d=M[g].length;c<d;c++)e.push({type:M[g][c].type,params:M[g][c].Vb});b[g]=e}return a};var Z=[];ma.oc=function(a){var b=a.silent;la=a.masterVolume;this.zk=a.listenerZ;this.qd.Oh(null);var c=a.listenerUid;-1!==c&&(this.qd.$m=c,Z.push(this.qd));var c=a.playing,d,e,f,g,h,k,n,q,r,v,
C;if(3!==this.If)for(d=0,e=B.length;d<e;d++)r=B[d],r.Pe&&1===this.If||(r.Pe||2!==this.If)&&r.stop();for(h in M)if(M.hasOwnProperty(h))for(d=0,e=M[h].length;d<e;d++)M[h][d].remove();yb(M);for(h in a.effects)if(a.effects.hasOwnProperty(h))for(k=a.effects[h],d=0,e=k.length;d<e;d++)switch(f=k[d].type,v=k[d].params,f){case "filter":X(h,new m(v[0],v[1],v[2],v[3],v[4],v[5]));break;case "delay":X(h,new l(v[0],v[1],v[2]));break;case "convolve":f=v[2];r=this.oh(f,!1);r.Fa?f=new t(r.Fa,v[0],v[1],f):(f=new t(null,
v[0],v[1],f),r.Gu=v[0],r.Zl=f);X(h,f);break;case "flanger":X(h,new ca(v[0],v[1],v[2],v[3],v[4]));break;case "phaser":X(h,new P(v[0],v[1],v[2],v[3],v[4],v[5]));break;case "gain":X(h,new p(v[0]));break;case "tremolo":X(h,new u(v[0],v[1]));break;case "ringmod":X(h,new I(v[0],v[1]));break;case "distortion":X(h,new E(v[0],v[1],v[2],v[3],v[4]));break;case "compressor":X(h,new D(v[0],v[1],v[2],v[3],v[4]));break;case "analyser":X(h,new F(v[0],v[1]))}d=0;for(e=c.length;d<e;d++)3===this.If||(a=c[d],f=a.buffersrc,
g=a.is_music,h=a.tag,k=a.playbackTime,n=a.looping,q=a.volume,C=(v=a.pan)&&v.hasOwnProperty("objUid")?v.objUid:-1,g&&1===this.If)||!g&&2===this.If||((r=this.Tj(f,h,g,n,q))?(r.bd=a.resume_position,r.fj(!!v),r.play(n,q,k),r.qo(),r.hE(),r.jm(r.Di||r.kk),a.paused&&r.pause(),a.muted&&r.Dv(!0),r.jm(r.Di||r.kk),v&&(-1!==C?(r.pc=r.pc||new L,r.pc.$m=C,Z.push(r.pc)):r.gl(v.x,v.y,v.a,v.ia,v.oa,v.og))):(r=this.oh(f,g),r.Qn=k,r.tn=a.paused,v&&(-1!==C?r.Fg.push({Iu:C,Zj:v.ia,Sk:v.oa,Tk:v.og,ho:h}):r.Fg.push({x:v.x,
y:v.y,C:v.a,Zj:v.ia,Sk:v.oa,Tk:v.og,ho:h}))));if(b&&!Q){d=0;for(e=B.length;d<e;d++)B[d].Fv(!0);Q=!0}else if(!b&&Q){d=0;for(e=B.length;d<e;d++)B[d].Fv(!1);Q=!1}};ma.De=function(){var a,b,c,d;a=0;for(b=Z.length;a<b;a++)c=Z[a],d=this.b.ti(c.$m),c.Oh(d),c.$m=-1,d&&(aa=d.x,ga=d.y);y(Z)};ma.DC=function(a){if(!this.PC){!a&&w&&w.resume&&(w.resume(),ob=!1);var b,c;b=0;for(c=B.length;b<c;b++)B[b].ND(a);a&&w&&w.suspend&&(w.suspend(),ob=!0)}};ma.Ya=function(){var a=this.b.hg,b,c,d;b=0;for(c=B.length;b<c;b++)d=
B[b],d.Ya(a),0!==Ca&&d.qo();var e,f;for(e in M)if(M.hasOwnProperty(e))for(d=M[e],b=0,c=d.length;b<c;b++)f=d[b],f.Ya&&f.Ya();1===x&&this.qd.Em()&&(this.qd.Ya(a),aa=this.qd.Y.x,ga=this.qd.Y.y,w.listener.setPosition(this.qd.Y.x,this.qd.Y.y,this.zk))};var oa=[];ma.MD=function(a){var b,c,d,e,f,g=0;b=0;for(c=a.length;b<c;++b)if(d=a[b],e=d[0],d=2*d[1],(f=4<e.length&&".ogg"===e.substr(e.length-4))&&O||!f&&!O)oa.push({filename:e,size:d,Y:null}),g+=d;return g};ma.WD=function(){var a,b,c,d;a=0;for(b=oa.length;a<
b;++a)c=oa[a],d=this.b.nh+c.filename,c.Y=this.oh(d,!1)};ma.hB=function(){var a=0,b,c,d;b=0;for(c=oa.length;b<c;++b)d=oa[b],d.Y.YB()||d.Y.IB()||this.b.pb||this.b.Hm?a+=d.size:d.Y.It()&&(a+=Math.floor(d.size/2));return a};ma.nD=function(){var a,b,c,d;c=a=0;for(b=W.length;a<b;++a)d=W[a],W[c]=d,d.Pe?d.rv():++c;W.length=c};ma.oh=function(a,b,c){var d,e,f,g=null;d=0;for(e=W.length;d<e;d++)if(f=W[d],f.src===a){g=f;break}g||c||(S&&b&&this.nD(),g=new v(a,b),W.push(g));return g};ma.Tj=function(a,b,c,d,e){var f,
g,h;f=0;for(g=B.length;f<g;f++)if(h=B[f],h.src===a&&(h.sz()||c))return h.tag=b,h;a=this.oh(a,c);if(!a.Fa)return"<preload>"!==b&&(a.wn=b,a.yq=d,a.Pr=e),null;h=new C(a,b);B.push(h);return h};var va=[];ka.prototype.Dl=function(a){return Wb(ta,a)};ka.prototype.tx=function(a){V(a);var b;a=0;for(b=va.length;a<b;a++)if(va[a].Ai())return!0;return!1};U.j=new ka;ba.prototype.Play=function(a,b,c,d){!Q&&(c=q(c),G=this.Tj(this.b.nh+a[0]+(O?".ogg":".m4a"),d,a[1],0!==b,c))&&(G.fj(!1),G.play(0!==b,c,0,this.Bg),this.Bg=
0)};ba.prototype.Ux=function(a,b,c,d,e,f,g,h){if(!Q&&d&&(d=d.wm())){c=q(c);var l=a[1];a=this.b.nh+a[0]+(O?".ogg":".m4a");(G=this.Tj(a,h,l,0!==b,c))?(G.fj(!0),h=mb(d.x,d.y,-d.n.Xa(),aa,ga,!0),a=mb(d.x,d.y,-d.n.Xa(),aa,ga,!1),G.gl(h,a,cb(d.k-d.n.Xa()),e,f,q(g)),G.Oh(d),G.play(0!==b,c,0,this.Bg),this.Bg=0):this.oh(a,l).Fg.push({Y:d,Zj:e,Sk:f,Tk:q(g),ho:h})}};ba.prototype.Wx=function(a,b,c,d,e){!Q&&(d=q(d),G=this.Tj(this.b.nh+b.toLowerCase()+(O?".ogg":".m4a"),e,1===a,0!==c,d))&&(G.fj(!1),G.play(0!==c,
d,0,this.Bg),this.Bg=0)};ba.prototype.Vx=function(a,b,c,d,e,f,g,h,l){!Q&&e&&(e=e.wm())&&(d=q(d),a=1===a,b=this.b.nh+b.toLowerCase()+(O?".ogg":".m4a"),(G=this.Tj(b,l,a,0!==c,d))?(G.fj(!0),l=mb(e.x,e.y,-e.n.Xa(),aa,ga,!0),b=mb(e.x,e.y,-e.n.Xa(),aa,ga,!1),G.gl(l,b,cb(e.k-e.n.Xa()),f,g,q(h)),G.Oh(e),G.play(0!==c,d,0,this.Bg),this.Bg=0):this.oh(b,a).Fg.push({Y:e,Zj:f,Sk:g,Tk:q(h),ho:l}))};ba.prototype.qy=function(a,b){V(a);var c,d;c=0;for(d=va.length;c<d;c++)va[c].Dv(0===b)};ba.prototype.Ly=function(a){V(a);
var b;a=0;for(b=va.length;a<b;a++)va[a].stop()};ba.prototype.Ry=function(a){if(a=this.oh(this.b.nh+a[0]+(O?".ogg":".m4a"),a[1],!0))a.rv(),Za(W,a)};U.q=new ba;U.K=new function(){}})();function dd(f){this.b=f}
(function(){function f(){q&&r&&window.OfflineClientInfo&&window.OfflineClientInfo.SetMessageCallback(function(a){e.BC(a)})}function k(){}var h=dd.prototype;h.la=function(a){this.Pa=a;this.b=a.b};var n=h.la.prototype;n.P=function(){};var q=!1,r=!1;document.addEventListener("DOMContentLoaded",function(){if(window.C2_RegisterSW&&navigator.serviceWorker){var a=document.createElement("script");a.onload=function(){q=!0;f()};a.src="offlineClient.js";document.head.appendChild(a)}});var e=null;n.Nu=function(){r=
!0;f()};h.fa=function(a){this.type=a;this.b=a.b};n=h.fa.prototype;n.P=function(){var a=this;window.addEventListener("resize",function(){a.b.trigger(dd.prototype.j.Lx,a)});e=this;"undefined"!==typeof navigator.onLine&&(window.addEventListener("online",function(){a.b.trigger(dd.prototype.j.Ix,a)}),window.addEventListener("offline",function(){a.b.trigger(dd.prototype.j.Gx,a)}));this.b.Hc||(document.addEventListener("appMobi.device.update.available",function(){a.b.trigger(dd.prototype.j.Io,a)}),document.addEventListener("backbutton",
function(){a.b.trigger(dd.prototype.j.Cl,a)}),document.addEventListener("menubutton",function(){a.b.trigger(dd.prototype.j.ds,a)}),document.addEventListener("searchbutton",function(){a.b.trigger(dd.prototype.j.Mx,a)}),document.addEventListener("tizenhwkey",function(d){var b;switch(d.keyName){case "back":b=a.b.trigger(dd.prototype.j.Cl,a);!b&&window.tizen&&window.tizen.application.getCurrentApplication().exit();break;case "menu":(b=a.b.trigger(dd.prototype.j.ds,a))||d.preventDefault()}}));this.b.Mm&&
"undefined"!==typeof Windows?Windows.UI.Core.SystemNavigationManager.getForCurrentView().addEventListener("backrequested",function(d){a.b.trigger(dd.prototype.j.Cl,a)&&(d.handled=!0)}):this.b.Lt&&WinJS.Application&&(WinJS.Application.onbackclick=function(){return!!a.b.trigger(dd.prototype.j.Cl,a)});this.b.ts(function(d){d?a.b.trigger(dd.prototype.j.Jx,a):a.b.trigger(dd.prototype.j.Kx,a)})};n.BC=function(a){a=a.data.type;"downloading-update"===a?this.b.trigger(dd.prototype.j.Nx,this):"update-ready"===
a||"update-pending"===a?this.b.trigger(dd.prototype.j.Io,this):"offline-ready"===a&&this.b.trigger(dd.prototype.j.Hx,this)};k.prototype.Ix=function(){return!0};k.prototype.Gx=function(){return!0};k.prototype.Io=function(){return!0};k.prototype.Kx=function(){return!0};k.prototype.Jx=function(){return!0};k.prototype.Lx=function(){return!0};k.prototype.Cl=function(){return!0};k.prototype.ds=function(){return!0};k.prototype.Mx=function(){return!0};k.prototype.Nx=function(){return!0};k.prototype.Io=function(){return!0};
k.prototype.Hx=function(){return!0};h.j=new k;h.q=new function(){};h.K=new function(){}})();function bd(f){this.b=f}
(function(){function f(){this.name="";this.bl=0;this.Vb=[]}function k(){a++;a===e.length&&e.push(new f);return e[a]}function h(){}function n(){}function q(){}var r=bd.prototype;r.la=function(a){this.Pa=a;this.b=a.b};r.la.prototype.P=function(){};r.fa=function(a){this.type=a;this.b=a.b};var e=[],a=-1;r.fa.prototype.P=function(){var d=this;window.c2_callFunction=function(b,c){var e,f,h,n=k();n.name=b.toLowerCase();n.bl=0;if(c)for(n.Vb.length=c.length,e=0,f=c.length;e<f;++e)h=c[e],n.Vb[e]="number"===
typeof h||"string"===typeof h?h:"boolean"===typeof h?h?1:0:0;else y(n.Vb);d.b.trigger(bd.prototype.j.El,d,n.name);a--;return n.bl}};h.prototype.El=function(d){var b=0>a?null:e[a];return b?Wb(d,b.name):!1};h.prototype.Pw=function(d,b,c){var f=0>a?null:e[a];if(!f)return!1;d=Ka(d);return 0>d||d>=f.Vb.length?!1:Rc(f.Vb[d],b,c)};r.j=new h;n.prototype.CallFunction=function(d,b){var c=k();c.name=d.toLowerCase();c.bl=0;Va(c.Vb,b);this.b.trigger(bd.prototype.j.El,this,c.name);a--};r.q=new n;q.prototype.Ew=
function(d,b){var c=k();c.name=b.toLowerCase();c.bl=0;y(c.Vb);var e,f;e=2;for(f=arguments.length;e<f;e++)c.Vb.push(arguments[e]);this.b.trigger(bd.prototype.j.El,this,c.name);a--;d.Hv(c.bl)};r.K=new q})();function ed(f){this.b=f}
(function(){function f(){}var k=ed.prototype;k.la=function(f){this.Pa=f;this.b=f.b};k.la.prototype.P=function(){};k.fa=function(f){this.type=f;this.b=f.b;this.Ii=Array(256);this.xl=Array(256);this.Of=0};var h=k.fa.prototype;h.P=function(){var f=this;this.b.pb||(jQuery(document).keydown(function(h){f.yC(h)}),jQuery(document).keyup(function(h){f.zC(h)}))};var n=[32,33,34,35,36,37,38,39,40,44];h.yC=function(f){var h=!1;window!=window.top&&-1<n.indexOf(f.which)&&(f.preventDefault(),h=!0,f.stopPropagation());
if(this.Ii[f.which])this.xl[f.which]&&!h&&f.preventDefault();else{this.Ii[f.which]=!0;this.Of=f.which;this.b.Ic=!0;this.b.trigger(ed.prototype.j.yx,this);var e=this.b.trigger(ed.prototype.j.$r,this),a=this.b.trigger(ed.prototype.j.Dx,this);this.b.Ic=!1;if(e||a)this.xl[f.which]=!0,h||f.preventDefault()}};h.zC=function(f){this.Ii[f.which]=!1;this.Of=f.which;this.b.Ic=!0;this.b.trigger(ed.prototype.j.Zr,this);var h=this.b.trigger(ed.prototype.j.Go,this),e=this.b.trigger(ed.prototype.j.as,this);this.b.Ic=
!1;if(h||e||this.xl[f.which])this.xl[f.which]=!0,f.preventDefault()};h.Ih=function(){var f;for(f=0;256>f;++f)if(this.Ii[f]){this.Ii[f]=!1;this.Of=f;this.b.trigger(ed.prototype.j.Zr,this);var h=this.b.trigger(ed.prototype.j.Go,this),e=this.b.trigger(ed.prototype.j.as,this);if(h||e)this.xl[f]=!0}};h.Wb=function(){return{triggerKey:this.Of}};h.oc=function(f){this.Of=f.triggerKey};f.prototype.jx=function(f){return this.Ii[f]};f.prototype.$r=function(f){return f===this.Of};f.prototype.yx=function(){return!0};
f.prototype.Zr=function(){return!0};f.prototype.Go=function(f){return f===this.Of};f.prototype.Dx=function(f){return f===this.Of};f.prototype.as=function(f){return f===this.Of};k.j=new f;k.q=new function(){};k.K=new function(){}})();function fd(f){this.b=f}
(function(){function f(){}function k(){}function h(){}var n=fd.prototype;n.la=function(a){this.Pa=a;this.b=a.b};n.la.prototype.P=function(){};n.fa=function(a){this.type=a;this.b=a.b;this.ei=Array(4);this.ew=this.lo=this.Xh=this.Bf=this.Af=0;this.Pp=!1};var q=n.fa.prototype;q.P=function(){var a=this;if(!this.b.pb){jQuery(document).mousemove(function(b){a.Jq(b)});jQuery(document).mousedown(function(b){a.Iq(b)});jQuery(document).mouseup(function(b){a.Kq(b)});jQuery(document).dblclick(function(b){a.wC(b)});
var d=function(b){a.HC(b)};document.addEventListener("mousewheel",d,!1);document.addEventListener("DOMMouseScroll",d,!1)}};var r={left:0,top:0};q.Jq=function(a){var d=this.b.pb?r:jQuery(this.b.canvas).offset();this.Af=a.pageX-d.left;this.Bf=a.pageY-d.top};q.Au=function(){return 0<this.b.Oc?!0:0<=this.Af&&0<=this.Bf&&this.Af<this.b.width&&this.Bf<this.b.height};q.Iq=function(a){this.Au()&&(this.ei[a.which]=!0,this.b.Ic=!0,this.b.trigger(fd.prototype.j.xx,this),this.Xh=a.which-1,this.lo=0,this.b.trigger(fd.prototype.j.Eo,
this),this.b.trigger(fd.prototype.j.es,this),this.b.Ic=!1)};q.Kq=function(a){this.ei[a.which]&&(this.b.ut&&!this.b.wf&&a.preventDefault(),this.b.ut=!0,this.ei[a.which]=!1,this.b.Ic=!0,this.Xh=a.which-1,this.b.trigger(fd.prototype.j.gs,this),this.b.Ic=!1)};q.wC=function(a){this.Au()&&(a.preventDefault(),this.b.Ic=!0,this.Xh=a.which-1,this.lo=1,this.b.trigger(fd.prototype.j.Eo,this),this.b.trigger(fd.prototype.j.es,this),this.b.Ic=!1)};q.HC=function(a){this.ew=0>(a.wheelDelta?a.wheelDelta:a.detail?
-a.detail:0)?0:1;this.Pp=!1;this.b.Ic=!0;this.b.trigger(fd.prototype.j.Ox,this);this.b.Ic=!1;this.Pp&&Xb(a)&&a.preventDefault()};q.Ih=function(){var a,d;a=0;for(d=this.ei.length;a<d;++a)this.ei[a]&&(this.ei[a]=!1,this.Xh=a-1,this.b.trigger(fd.prototype.j.gs,this))};f.prototype.Eo=function(a,d){return a===this.Xh&&d===this.lo};f.prototype.xx=function(){return!0};f.prototype.gs=function(a){return a===this.Xh};f.prototype.nx=function(a){var d=this.b.rf();return vb(this.b.Zv(a,this.Af,this.Bf,d.qg),d.qg)};
f.prototype.es=function(a,d,b){return a!==this.Xh||d!==this.lo?!1:this.b.Zv(b,this.Af,this.Bf,!1)};f.prototype.Ox=function(a){this.Pp=!0;return a===this.ew};n.j=new f;var e=null;k.prototype.fy=function(a){this.b.pb||(a="auto pointer text crosshair move help wait none".split(" ")[a],e!==a&&(e=a,document.body.style.cursor=a))};k.prototype.gy=function(a){this.b.pb||this.b.wf||!a||(a=a.wm())&&a.Lb&&(a=a.Lb,e!==a&&(e=a,a="url("+a.aB()+") "+Math.round(a.Nb*a.width)+" "+Math.round(a.Ob*a.height)+", auto",
document.body.style.cursor="",document.body.style.cursor=a))};n.q=new k;h.prototype.Ko=function(a,d){var b,c,e,f,h;za(d)?(b=this.b.si(0),c=b.scale,e=b.Ce,f=b.Hd,h=b.k,b.scale=1,b.Ce=1,b.Hd=1,b.k=0,a.A(b.Jb(this.Af,this.Bf,!0)),b.scale=c,b.Ce=e,b.Hd=f,b.k=h):(b=Aa(d)?this.b.si(d):this.b.xm(d))?a.A(b.Jb(this.Af,this.Bf,!0)):a.A(0)};h.prototype.Lo=function(a,d){var b,c,e,f,h;za(d)?(b=this.b.si(0),c=b.scale,e=b.Ce,f=b.$d,h=b.k,b.scale=1,b.Ce=1,b.$d=1,b.k=0,a.A(b.Jb(this.Af,this.Bf,!1)),b.scale=c,b.Ce=
e,b.$d=f,b.k=h):(b=Aa(d)?this.b.si(d):this.b.xm(d))?a.A(b.Jb(this.Af,this.Bf,!1)):a.A(0)};n.K=new h})();function gd(f){this.b=f}
(function(){function f(e){this.cb=e;this.Ib=!1;this.k=this.speed=this.y=this.x=0;this.opacity=1;this.Xf=this.wi=this.size=this.Bm=0}function k(){}function h(){}var n=gd.prototype;n.la=function(e){this.Pa=e;this.b=e.b};var q=n.la.prototype;q.P=function(){this.O||(this.ba=new Image,this.ba.kp=this.eo,this.ya=null,this.b.Rr(this.ba,this.co))};q.Wk=function(){this.O||(this.ya=null)};q.nn=function(){this.O||!this.d.length||this.ya||(this.ya=this.b.F.Ni(this.ba,!0,this.b.bb,this.tl))};q.Bk=function(){this.O||
this.ya||!this.b.F||(this.ya=this.b.F.Ni(this.ba,!0,this.b.bb,this.tl))};q.no=function(){this.O||this.d.length||!this.ya||(this.b.F.deleteTexture(this.ya),this.ya=null)};q.Fn=function(e){e.drawImage(this.ba,0,0)};f.prototype.init=function(){var e=this.cb;this.x=e.x-e.Bo/2+Math.random()*e.Bo;this.y=e.y-e.Co/2+Math.random()*e.Co;this.speed=e.Gm-e.nl/2+Math.random()*e.nl;this.k=e.k-e.$n/2+Math.random()*e.$n;this.opacity=e.Yp;this.size=e.Zp-e.Zn/2+Math.random()*e.Zn;this.Bm=e.Op-e.Cm/2+Math.random()*
e.Cm;this.Xf=this.wi=0};f.prototype.Ya=function(e){var a=this.cb;this.x+=Math.cos(this.k)*this.speed*e;this.y+=Math.sin(this.k)*this.speed*e;this.y+=this.wi*e;this.speed+=a.gd*e;this.size+=this.Bm*e;this.wi+=a.kg*e;this.Xf+=e;1>this.size?this.Ib=!1:(0!==a.wk&&(this.k+=Math.random()*a.wk*e-a.wk*e/2),0!==a.yk&&(this.speed+=Math.random()*a.yk*e-a.yk*e/2),0!==a.xk&&(this.opacity+=Math.random()*a.xk*e-a.xk*e/2,0>this.opacity?this.opacity=0:1<this.opacity&&(this.opacity=1)),1>=a.ki&&this.Xf>=a.timeout&&
(this.Ib=!1),2===a.ki&&0>=this.speed&&(this.Ib=!1))};f.prototype.Bd=function(e){var a=this.cb.opacity*this.opacity;if(0!==a){0===this.cb.ki&&(a*=1-this.Xf/this.cb.timeout);e.globalAlpha=a;var a=this.x-this.size/2,d=this.y-this.size/2;this.cb.b.Id&&(a=a+.5|0,d=d+.5|0);e.drawImage(this.cb.type.ba,a,d,this.size,this.size)}};f.prototype.Ec=function(e){var a=this.cb.opacity*this.opacity;0===this.cb.ki&&(a*=1-this.Xf/this.cb.timeout);var d=this.size,b=d*this.cb.bv,c=this.x-d/2,f=this.y-d/2;this.cb.b.Id&&
(c=c+.5|0,f=f+.5|0);1>b||0===a||(b<e.rC||b>e.zq?(e.Mg(a),e.$i(c,f,c+d,f,c+d,f+d,c,f+d)):e.QC(this.x,this.y,b,a))};f.prototype.left=function(){return this.x-this.size/2};f.prototype.right=function(){return this.x+this.size/2};f.prototype.top=function(){return this.y-this.size/2};f.prototype.bottom=function(){return this.y+this.size/2};n.fa=function(e){this.type=e;this.b=e.b};var q=n.fa.prototype,r=[];q.P=function(){var e=this.N;this.Lh=e[0];this.$n=bb(e[1]);this.Sh=e[2];this.ol=!0;this.Gm=e[3];this.Zp=
e[4];this.Yp=e[5]/100;this.Op=e[6];this.Bo=e[7];this.Co=e[8];this.nl=e[9];this.Zn=e[10];this.Cm=e[11];this.gd=e[12];this.kg=e[13];this.wk=e[14];this.yk=e[15];this.xk=e[16];this.ki=e[17];this.timeout=e[18];this.Jh=0;this.bv=1;this.qn=this.x;this.sn=this.y;this.rn=this.x;this.pn=this.y;this.bz(function(a){a.Ua.set(a.qn,a.sn,a.rn,a.pn);a.yc.ij(a.Ua);a.Sl=!1;a.Nr();a.qw()});this.vd||(this.Cb=[]);this.b.rj(this);this.type.Bk();if(1===this.Sh)for(e=0;e<this.Lh;e++)this.Kl().opacity=0;this.Rj=!0};q.Wb=function(){var e=
{r:this.Lh,sc:this.$n,st:this.Sh,s:this.ol,isp:this.Gm,isz:this.Zp,io:this.Yp,gr:this.Op,xr:this.Bo,yr:this.Co,spr:this.nl,szr:this.Zn,grnd:this.Cm,acc:this.gd,g:this.kg,lar:this.wk,lsr:this.yk,lor:this.xk,dm:this.ki,to:this.timeout,pcc:this.Jh,ft:this.Rj,p:[]},a,d,b,c=e.p;a=0;for(d=this.Cb.length;a<d;a++)b=this.Cb[a],c.push([b.x,b.y,b.speed,b.k,b.opacity,b.Bm,b.size,b.wi,b.Xf]);return e};q.oc=function(e){this.Lh=e.r;this.$n=e.sc;this.Sh=e.st;this.ol=e.s;this.Gm=e.isp;this.Zp=e.isz;this.Yp=e.io;this.Op=
e.gr;this.Bo=e.xr;this.Co=e.yr;this.nl=e.spr;this.Zn=e.szr;this.Cm=e.grnd;this.gd=e.acc;this.kg=e.g;this.wk=e.lar;this.yk=e.lsr;this.xk=e.lor;this.ki=e.dm;this.timeout=e.to;this.Jh=e.pcc;this.Rj=e.ft;r.push.apply(r,this.Cb);y(this.Cb);var a,d,b,c=e.p;e=0;for(a=c.length;e<a;e++)d=this.Kl(),b=c[e],d.x=b[0],d.y=b[1],d.speed=b[2],d.k=b[3],d.opacity=b[4],d.Bm=b[5],d.size=b[6],d.wi=b[7],d.Xf=b[8]};q.Dg=function(){r.push.apply(r,this.Cb);y(this.Cb)};q.Kl=function(){var e;r.length?(e=r.pop(),e.cb=this):e=
new f(this);this.Cb.push(e);e.Ib=!0;return e};q.Ya=function(){var e=this.b.ph(this),a,d,b,c;if(0===this.Sh&&this.ol)for(this.Jh+=e*this.Lh,d=Ka(this.Jh),this.Jh-=d,a=0;a<d;a++)b=this.Kl(),b.init();this.qn=this.x;this.sn=this.y;this.rn=this.x;this.pn=this.y;c=a=0;for(d=this.Cb.length;a<d;a++)b=this.Cb[a],this.Cb[c]=b,this.b.Qa=!0,1===this.Sh&&this.Rj&&b.init(),b.Ya(e),b.Ib?(b.left()<this.qn&&(this.qn=b.left()),b.right()>this.rn&&(this.rn=b.right()),b.top()<this.sn&&(this.sn=b.top()),b.bottom()>this.pn&&
(this.pn=b.bottom()),c++):r.push(b);Ua(this.Cb,c);this.T();this.Rj=!1;1===this.Sh&&0===this.Cb.length&&this.b.$e(this)};q.Bd=function(e){var a,d,b,c=this.n;a=0;for(d=this.Cb.length;a<d;a++)b=this.Cb[a],b.right()>=c.Ma&&b.bottom()>=c.Na&&b.left()<=c.Ta&&b.top()<=c.Sa&&b.Bd(e)};q.Ec=function(e){this.bv=this.n.Wc();e.cd(this.type.ya);var a,d,b,c=this.n;a=0;for(d=this.Cb.length;a<d;a++)b=this.Cb[a],b.right()>=c.Ma&&b.bottom()>=c.Na&&b.left()<=c.Ta&&b.top()<=c.Sa&&b.Ec(e)};k.prototype.rx=function(){return this.ol};
n.j=new k;h.prototype.Ay=function(e){this.ol=0!==e};h.prototype.xy=function(e){this.Lh=e;var a;if(1===this.Sh&&this.Rj)if(e<this.Cb.length)for(e=this.Cb.length-e,a=0;a<e;a++)r.push(this.Cb.pop());else if(e>this.Cb.length)for(e=e-this.Cb.length,a=0;a<e;a++)this.Kl().opacity=0};h.prototype.ky=function(e){this.Gm=e};h.prototype.zy=function(e){this.nl=e};h.prototype.uy=function(e){this.gd=e};h.prototype.By=function(e){this.timeout=e};n.q=new h;n.K=new function(){}})();function K(f){this.b=f}
(function(){function f(){if(0===this.op.length){var a=document.createElement("canvas");a.width=this.width;a.height=this.height;var b=a.getContext("2d");this.jj?b.drawImage(this.ba,this.Ui,this.Vi,this.width,this.height,0,0,this.width,this.height):b.drawImage(this.ba,0,0,this.width,this.height);this.op=a.toDataURL("image/png")}return this.op}function k(){}function h(a){a[0]=0;a[1]=0;a[2]=0;t.push(a)}function n(a,b){return a<b?""+a+","+b:""+b+","+a}function q(a,b,c,d){b=b.uid;c=c.uid;var e=n(b,c);if(a.hasOwnProperty(e))a[e][2]=
d;else{var f=t.length?t.pop():[0,0,0];f[0]=b;f[1]=c;f[2]=d;a[e]=f}}function r(a,b,c){b=n(b.uid,c.uid);a.hasOwnProperty(b)&&(h(a[b]),delete a[b])}function e(a,b,c){b=n(b.uid,c.uid);if(a.hasOwnProperty(b))return ca=a[b][2],!0;ca=-2;return!1}function a(a,b,c){if(!a)return!1;var d=0!==b||0!==c,e,f,g=!1,h,l=this.b.rf(),k=l.type,l=l.qg,m=a.X();h=this.b.hb().lb.sd;m.ea?(this.xa(),D.gi(this.Ua),D.offset(b,c),this.b.Dp(this.n,a,D,E),m=E):m=h?this.b.TB()&&!m.ca.length&&m.d.length?m.d:m.ca:m.d;p=a;I=k!==a&&
!l;d&&(e=this.x,f=this.y,this.x+=b,this.y+=c,this.T());b=0;for(c=m.length;b<c;b++)if(h=m[b],this.b.Og(this,h)){g=!0;if(l)break;k!==a&&u.add(h)}d&&(this.x=e,this.y=f,this.T());y(E);return g}function d(){}function b(){}var c=K.prototype;c.la=function(a){this.Pa=a;this.b=a.b};var g=c.la.prototype;g.P=function(){if(!this.O){var a,b,c,d,e,g,h,l,m;this.ie=[];this.Yj=!1;a=0;for(b=this.hd.length;a<b;a++){e=this.hd[a];h={};h.name=e[0];h.speed=e[1];h.loop=e[2];h.cr=e[3];h.dr=e[4];h.cv=e[5];h.Aa=e[6];h.frames=
[];c=0;for(d=e[7].length;c<d;c++)g=e[7][c],l={},l.co=g[0],l.eo=g[1],l.Ui=g[2],l.Vi=g[3],l.width=g[4],l.height=g[5],l.duration=g[6],l.Nb=g[7],l.Ob=g[8],l.Up=g[9],l.xn=g[10],l.dv=g[11],l.jj=0!==l.width,l.op="",l.aB=f,m={left:0,top:0,right:1,bottom:1},l.or=m,l.ya=null,(m=this.b.UA(g[0]))?l.ba=m:(l.ba=new Image,l.ba.Ez=g[0],l.ba.kp=g[1],l.ba.qz=null,this.b.Rr(l.ba,g[0])),h.frames.push(l),this.ie.push(l);this.hd[a]=h}}};g.pw=function(){var a,b,c;a=0;for(b=this.d.length;a<b;a++)c=this.d[a],c.am=c.Lb.ya};
g.Wk=function(){if(!this.O){var a,b,c;a=0;for(b=this.ie.length;a<b;++a)c=this.ie[a],c.ba.qz=null,c.ya=null;this.Yj=!1;this.pw()}};g.nn=function(){if(!this.O&&this.d.length){var a,b,c;a=0;for(b=this.ie.length;a<b;++a)c=this.ie[a],c.ya=this.b.F.Ni(c.ba,!1,this.b.bb,c.dv);this.pw()}};g.Bk=function(){if(!this.O&&!this.Yj&&this.b.F){var a,b,c;a=0;for(b=this.ie.length;a<b;++a)c=this.ie[a],c.ya=this.b.F.Ni(c.ba,!1,this.b.bb,c.dv);this.Yj=!0}};g.no=function(){if(!this.O&&!this.d.length&&this.Yj){var a,b,
c;a=0;for(b=this.ie.length;a<b;++a)c=this.ie[a],this.b.F.deleteTexture(c.ya),c.ya=null;this.Yj=!1}};var m=[];g.Fn=function(a){var b,c,d;y(m);b=0;for(c=this.ie.length;b<c;++b)d=this.ie[b].ba,-1===m.indexOf(d)&&(a.drawImage(d,0,0),m.push(d))};c.fa=function(a){this.type=a;this.b=a.b;a=this.type.hd[0].frames[0].xn;this.vd?this.qa.il(a):this.qa=new Fb(a)};var l=c.fa.prototype;l.P=function(){this.visible=0===this.N[0];this.Vp=this.ik=!1;this.jf=0!==this.N[3];this.Wa=this.gt(this.N[1])||this.type.hd[0];
this.M=this.N[2];0>this.M&&(this.M=0);this.M>=this.Wa.frames.length&&(this.M=this.Wa.frames.length-1);var a=this.Wa.frames[this.M];this.qa.il(a.xn);this.Nb=a.Nb;this.Ob=a.Ob;this.lf=this.Wa.speed;this.fg=this.Wa.dr;1===this.type.hd.length&&1===this.type.hd[0].frames.length||0===this.lf||(this.b.rj(this),this.ik=!0);this.vd?this.Ee.reset():this.Ee=new Db;this.qf=this.Ee.na;this.Tg=!0;this.ef=0;this.df=!0;this.fi=this.us="";this.Fs=0;this.$o=-1;this.type.Bk();var b,c,d,e,f,g,h,a=0;for(b=this.type.hd.length;a<
b;a++)for(e=this.type.hd[a],c=0,d=e.frames.length;c<d;c++)f=e.frames[c],0===f.width&&(f.width=f.ba.width,f.height=f.ba.height),f.jj&&(h=f.ba,g=f.or,g.left=f.Ui/h.width,g.top=f.Vi/h.height,g.right=(f.Ui+f.width)/h.width,g.bottom=(f.Vi+f.height)/h.height,0===f.Ui&&0===f.Vi&&f.width===h.width&&f.height===h.height&&(f.jj=!1));this.Lb=this.Wa.frames[this.M];this.am=this.Lb.ya};l.Wb=function(){var a={a:this.Wa.Aa,f:this.M,cas:this.lf,fs:this.qf,ar:this.ef,at:this.Ee.na,rt:this.fg};this.Tg||(a.ap=this.Tg);
this.df||(a.af=this.df);return a};l.oc=function(a){var b=this.YA(a.a);b&&(this.Wa=b);this.M=a.f;0>this.M&&(this.M=0);this.M>=this.Wa.frames.length&&(this.M=this.Wa.frames.length-1);this.lf=a.cas;this.qf=a.fs;this.ef=a.ar;this.Ee.reset();this.Ee.na=a.at;this.Tg=a.hasOwnProperty("ap")?a.ap:!0;this.df=a.hasOwnProperty("af")?a.af:!0;a.hasOwnProperty("rt")?this.fg=a.rt:this.fg=this.Wa.dr;this.Lb=this.Wa.frames[this.M];this.am=this.Lb.ya;this.qa.il(this.Lb.xn);this.Nb=this.Lb.Nb;this.Ob=this.Lb.Ob};l.Qo=
function(a){this.M=a?0:this.Wa.frames.length-1;this.Tg=!1;this.us=this.Wa.name;this.Vp=!0;this.b.trigger(K.prototype.j.wx,this);this.b.trigger(K.prototype.j.Yr,this);this.Vp=!1;this.ef=0};l.ok=function(){return this.Ee.na};l.Ya=function(){this.Ee.add(this.b.ph(this));this.fi.length&&this.Rs();0<=this.$o&&this.Pz();var a=this.Ee.na,b=this.Wa,c=b.frames[this.M],d=c.duration/this.lf;this.Tg&&a>=this.qf+d&&(this.df?this.M++:this.M--,this.qf+=d,this.M>=b.frames.length&&(b.cv?(this.df=!1,this.M=b.frames.length-
2):b.loop?this.M=this.fg:(this.ef++,this.ef>=b.cr?this.Qo(!1):this.M=this.fg)),0>this.M&&(b.cv?(this.M=1,this.df=!0,b.loop||(this.ef++,this.ef>=b.cr&&this.Qo(!0))):b.loop?this.M=this.fg:(this.ef++,this.ef>=b.cr?this.Qo(!0):this.M=this.fg)),0>this.M?this.M=0:this.M>=b.frames.length&&(this.M=b.frames.length-1),a>this.qf+b.frames[this.M].duration/this.lf&&(this.qf=a),a=b.frames[this.M],this.ai(c,a),this.b.Qa=!0)};l.gt=function(a){var b,c,d;b=0;for(c=this.type.hd.length;b<c;b++)if(d=this.type.hd[b],Wb(d.name,
a))return d;return null};l.YA=function(a){var b,c,d;b=0;for(c=this.type.hd.length;b<c;b++)if(d=this.type.hd[b],d.Aa===a)return d;return null};l.Rs=function(){var a=this.Wa.frames[this.M],b=this.gt(this.fi);this.fi="";!b||Wb(b.name,this.Wa.name)&&this.Tg||(this.Wa=b,this.lf=b.speed,this.fg=b.dr,0>this.M&&(this.M=0),this.M>=this.Wa.frames.length&&(this.M=this.Wa.frames.length-1),1===this.Fs&&(this.M=0),this.Tg=!0,this.qf=this.Ee.na,this.df=!0,this.ai(a,this.Wa.frames[this.M]),this.b.Qa=!0)};l.Pz=function(){var a=
this.Wa.frames[this.M],b=this.M;this.M=Ka(this.$o);0>this.M&&(this.M=0);this.M>=this.Wa.frames.length&&(this.M=this.Wa.frames.length-1);b!==this.M&&(this.ai(a,this.Wa.frames[this.M]),this.qf=this.Ee.na,this.b.Qa=!0);this.$o=-1};l.ai=function(a,b){var c=a.width,d=a.height,e=b.width,f=b.height;c!=e&&(this.width*=e/c);d!=f&&(this.height*=f/d);this.Nb=b.Nb;this.Ob=b.Ob;this.qa.il(b.xn);this.T();this.Lb=b;this.am=b.ya;c=0;for(d=this.U.length;c<d;c++)e=this.U[c],e.CC&&e.CC(a,b);this.b.trigger(K.prototype.j.ai,
this)};l.Bd=function(a){a.globalAlpha=this.opacity;var b=this.Lb,c=b.jj,d=b.ba,e=this.x,f=this.y,g=this.width,h=this.height;if(0===this.k&&0<=g&&0<=h)e-=this.Nb*g,f-=this.Ob*h,this.b.Id&&(e=Math.round(e),f=Math.round(f)),c?a.drawImage(d,b.Ui,b.Vi,b.width,b.height,e,f,g,h):a.drawImage(d,e,f,g,h);else{this.b.Id&&(e=Math.round(e),f=Math.round(f));a.save();var l=0<g?1:-1,m=0<h?1:-1;a.translate(e,f);1===l&&1===m||a.scale(l,m);a.rotate(this.k*l*m);e=0-this.Nb*Ga(g);f=0-this.Ob*Ga(h);c?a.drawImage(d,b.Ui,
b.Vi,b.width,b.height,e,f,Ga(g),Ga(h)):a.drawImage(d,e,f,Ga(g),Ga(h));a.restore()}};l.eh=function(a){this.Ec(a)};l.Ec=function(a){a.cd(this.am);a.Mg(this.opacity);var b=this.Lb,c=this.yc;if(this.b.Id){var d=Math.round(this.x)-this.x,e=Math.round(this.y)-this.y;b.jj?a.Ve(c.Xb+d,c.Yb+e,c.Lc+d,c.Mc+e,c.zc+d,c.Ac+e,c.wc+d,c.xc+e,b.or):a.$i(c.Xb+d,c.Yb+e,c.Lc+d,c.Mc+e,c.zc+d,c.Ac+e,c.wc+d,c.xc+e)}else b.jj?a.Ve(c.Xb,c.Yb,c.Lc,c.Mc,c.zc,c.Ac,c.wc,c.xc,b.or):a.$i(c.Xb,c.Yb,c.Lc,c.Mc,c.zc,c.Ac,c.wc,c.xc)};
l.cB=function(a){var b=this.Lb,c,d;c=0;for(d=b.Up.length;c<d;c++)if(Wb(a,b.Up[c][0]))return c;return-1};l.Me=function(a,b){var c=this.Lb,d=c.Up,e;Ba(a)?e=this.cB(a):e=a-1;e=Ka(e);if(0>e||e>=d.length)return b?this.x:this.y;var f=(d[e][1]-c.Nb)*this.width,d=d[e][2],d=(d-c.Ob)*this.height,c=Math.cos(this.k);e=Math.sin(this.k);var g=f*c-d*e,d=d*c+f*e,f=g+this.x,d=d+this.y;return b?f:d};var t=[],ca=-2,P=[];k.prototype.Ax=function(a){if(!a)return!1;var b=this.b,c=b.rf(),d=c.type,f=null;c.R.collmemory?f=
c.R.collmemory:(f={},c.R.collmemory=f);c.R.spriteCreatedDestroyCallback||(c.R.spriteCreatedDestroyCallback=!0,b.Oo(function(a){var b=c.R.collmemory;a=a.uid;var d,e;for(d in b)b.hasOwnProperty(d)&&(e=b[d],e[0]===a||e[1]===a)&&(h(b[d]),delete b[d])}));var g=d.X(),l=a.X(),g=g.Fc(),m,k,n,p,t,u,x,w=this.b.Ld,D=w-1,B=b.hb().lb;for(k=0;k<g.length;k++){n=g[k];l.ea?(n.xa(),this.b.Dp(n.n,a,n.Ua,P),m=P,this.b.az(n,a,m)):m=l.Fc();for(p=0;p<m.length;p++)t=m[p],b.Og(n,t)||b.uz(n,t)?(u=e(f,n,t),u=!u||ca<D,q(f,n,
t,w),u&&(b.Zi(B.La),u=d.X(),x=a.X(),u.ea=!1,x.ea=!1,d===a?(u.d.length=2,u.d[0]=n,u.d[1]=t,d.jd()):(u.d.length=1,x.d.length=1,u.d[0]=n,x.d[0]=t,d.jd(),a.jd()),B.cl(),b.Ff(B.La))):r(f,n,t);y(P)}return!1};var p=null,u=new pa,I=!1,E=[],D=new Na(0,0,0,0);g.finish=function(a){if(I){if(a){var b=this.b.hb().lb.sd;a=p.X();var c=u.ge(),d,e;if(a.ea){a.ea=!1;y(a.d);d=0;for(e=c.length;d<e;++d)a.d[d]=c[d];if(b)for(y(a.ca),d=0,e=p.d.length;d<e;++d)c=p.d[d],u.contains(c)||a.ca.push(c)}else if(b)for(b=a.d.length,
d=0,e=c.length;d<e;++d)a.d[b+d]=c[d],Za(a.ca,c[d]);else Va(a.d,c);p.jd()}u.clear();I=!1}};k.prototype.ox=function(b){return a.call(this,b,0,0)};k.prototype.qx=function(b,c,d){return a.call(this,b,c,d)};k.prototype.bx=function(a){return this.fi.length?Wb(this.fi,a):Wb(this.Wa.name,a)};k.prototype.Mw=function(a,b){return Rc(this.M,a,b)};k.prototype.Kw=function(a,b){return Rc(this.df?this.lf:-this.lf,a,b)};k.prototype.Yr=function(a){return Wb(this.us,a)};k.prototype.wx=function(){return!0};k.prototype.ai=
function(){return!0};k.prototype.kx=function(){return 0>this.width};c.j=new k;d.prototype.Ky=function(a,b,c){if(a&&b&&(b=this.b.lp(a,b,this.Me(c,!0),this.Me(c,!1)))){"undefined"!==typeof b.k&&(b.k=this.k,b.T());this.b.Fd++;var d,e,f;this.b.trigger(Object.getPrototypeOf(a.Pa).j.Tf,b);if(b.nc)for(d=0,e=b.siblings.length;d<e;d++)f=b.siblings[d],this.b.trigger(Object.getPrototypeOf(f.type.Pa).j.Tf,f);this.b.Fd--;d=this.b.$A();c=!1;if(za(d.R.Spawn_LastExec)||d.R.Spawn_LastExec<this.b.kh)c=!0,d.R.Spawn_LastExec=
this.b.kh;if(a!=this.type&&(a=a.X(),a.ea=!1,c?(y(a.d),a.d[0]=b):a.d.push(b),b.nc))for(d=0,e=b.siblings.length;d<e;d++)f=b.siblings[d],a=f.type.X(),a.ea=!1,c?(y(a.d),a.d[0]=f):a.d.push(f)}};d.prototype.by=function(a,b){this.fi=a;this.Fs=b;this.ik||(this.b.rj(this),this.ik=!0);this.Vp||this.Rs()};d.prototype.cy=function(a){this.lf=Ga(a);this.df=0<=a;this.ik||(this.b.rj(this),this.ik=!0)};d.prototype.oy=function(a){a=Ga(this.width)*(0===a?-1:1);this.width!==a&&(this.width=a,this.T())};c.q=new d;b.prototype.$w=
function(a,b){a.A(this.Me(b,!0))};b.prototype.ax=function(a,b){a.A(this.Me(b,!1))};c.K=new b})();function hd(f){this.b=f}
(function(){function f(){return e.length?e.pop():{}}function k(a){var d,b;d=0;for(b=a.length;d<b;d++)e.push(a[d]);y(a)}function h(a){return a.length&&" "===a.charAt(a.length-1)?a.substring(0,a.length-1):a}var n=hd.prototype;n.P=function(){n.q.ls=function(a){this.width!==a&&(this.width=a,this.mj=!0,this.T())}};n.la=function(a){this.Pa=a;this.b=a.b};var q=n.la.prototype;q.P=function(){};q.Wk=function(){if(!this.O){var a,d,b;a=0;for(d=this.d.length;a<d;a++)b=this.d[a],b.Re=null,b.Gh=null,b.rd=null}};
n.fa=function(a){this.type=a;this.b=a.b;this.vd?y(this.wg):this.wg=[];this.mj=!0};q=n.fa.prototype;q.P=function(){this.text=this.N[0];this.visible=0===this.N[1];this.font=this.N[2];this.color=this.N[3];this.Dm=this.N[4];this.vo=this.N[5];this.Tr=0===this.N[7];this.qq=this.Tm=this.width;this.Sm=this.height;this.tq=this.N[8];this.rm=this.oi="";this.aw=this.bw=this.$k=0;this.MC();this.rd=this.Gh=this.Re=null;this.Eu=!1;this.vk=this.b.Ld;this.vd?this.Jg.set(0,0,1,1):this.Jg=new Na(0,0,1,1);this.b.F&&
this.b.rj(this)};q.MC=function(){var a=this.font.split(" "),d;for(d=0;d<a.length;d++)if("pt"===a[d].substr(a[d].length-2,2)){this.$k=parseInt(a[d].substr(0,a[d].length-2));this.Wq=Math.ceil(this.$k/72*96)+4;0<d&&(this.rm=a[d-1]);this.oi=a[d+1];for(d+=2;d<a.length;d++)this.oi+=" "+a[d];break}};q.Wb=function(){return{t:this.text,f:this.font,c:this.color,ha:this.Dm,va:this.vo,wr:this.Tr,lho:this.tq,fn:this.oi,fs:this.rm,ps:this.$k,pxh:this.Wq,tw:this.bw,th:this.aw,lrt:this.vk}};q.oc=function(a){this.text=
a.t;this.font=a.f;this.color=a.c;this.Dm=a.ha;this.vo=a.va;this.Tr=a.wr;this.tq=a.lho;this.oi=a.fn;this.rm=a.fs;this.$k=a.ps;this.Wq=a.pxh;this.bw=a.tw;this.aw=a.th;this.vk=a.lrt;this.mj=!0;this.qq=this.Tm=this.width;this.Sm=this.height};q.Ya=function(){if(this.b.F&&this.rd&&300<=this.b.Ld-this.vk){var a=this.n;this.xa();var d=this.Ua;if(d.right<a.Ma||d.bottom<a.Na||d.left>a.Ta||d.top>a.Sa)this.b.F.deleteTexture(this.rd),this.Re=this.Gh=this.rd=null}};q.Dg=function(){this.Re=this.Gh=null;this.b.F&&
this.rd&&this.b.F.deleteTexture(this.rd);this.rd=null};q.ok=function(){this.font=this.rm+" "+this.$k.toString()+"pt "+this.oi;this.mj=!0;this.b.Qa=!0};q.Bd=function(a,d){a.font=this.font;a.textBaseline="top";a.fillStyle=this.color;a.globalAlpha=d?1:this.opacity;var b=1;d&&(b=Math.abs(this.n.Wc()),a.save(),a.scale(b,b));if(this.mj||this.width!==this.qq)this.type.Pa.Uy(this.text,this.wg,a,this.width,this.Tr),this.mj=!1,this.qq=this.width;this.xa();var b=d?0:this.yc.Xb,c=d?0:this.yc.Yb;this.b.Id&&(b=
b+.5|0,c=c+.5|0);0===this.k||d||(a.save(),a.translate(b,c),a.rotate(this.k),c=b=0);var e=c+this.height,f=this.Wq,f=f+this.tq,h,k;1===this.vo?c+=Math.max(this.height/2-this.wg.length*f/2,0):2===this.vo&&(c+=Math.max(this.height-this.wg.length*f-2,0));for(k=0;k<this.wg.length&&!(h=b,1===this.Dm?h=b+(this.width-this.wg[k].width)/2:2===this.Dm&&(h=b+(this.width-this.wg[k].width)),a.fillText(this.wg[k].text,h,c),c+=f,c>=e-f);k++);(0!==this.k||d)&&a.restore();this.vk=this.b.Ld};q.Ec=function(a){if(!(1>
this.width||1>this.height)){var d=this.mj||this.Eu;this.Eu=!1;var b=this.n.Wc(),c=this.n.Xa(),e=this.Jg,f=b*this.width,h=b*this.height,k=Math.ceil(f),n=Math.ceil(h),q=Math.abs(k),p=Math.abs(n),r=this.b.W/2,I=this.b.V/2;this.Gh||(this.Re=document.createElement("canvas"),this.Re.width=q,this.Re.height=p,this.Tm=q,this.Sm=p,d=!0,this.Gh=this.Re.getContext("2d"));if(q!==this.Tm||p!==this.Sm)this.Re.width=q,this.Re.height=p,this.rd&&(a.deleteTexture(this.rd),this.rd=null),d=!0;d&&(this.Gh.clearRect(0,
0,q,p),this.Bd(this.Gh,!0),this.rd||(this.rd=a.Ad(q,p,this.b.bb,this.b.wf)),a.nE(this.Re,this.rd,this.b.wf));this.Tm=q;this.Sm=p;a.cd(this.rd);a.Mg(this.opacity);a.be();a.translate(-r,-I);a.Md();var E=this.yc,d=this.n.ab(E.Xb,E.Yb,!0,!0),q=this.n.ab(E.Xb,E.Yb,!1,!0),p=this.n.ab(E.Lc,E.Mc,!0,!0),r=this.n.ab(E.Lc,E.Mc,!1,!0),I=this.n.ab(E.zc,E.Ac,!0,!0),D=this.n.ab(E.zc,E.Ac,!1,!0),F=this.n.ab(E.wc,E.xc,!0,!0),E=this.n.ab(E.wc,E.xc,!1,!0);if(this.b.Id||0===this.k&&0===c)var L=(d+.5|0)-d,v=(q+.5|0)-
q,d=d+L,q=q+v,p=p+L,r=r+v,I=I+L,D=D+v,F=F+L,E=E+v;0===this.k&&0===c?(p=d+k,r=q,I=p,D=q+n,F=d,E=D,e.right=1,e.bottom=1):(e.right=f/k,e.bottom=h/n);a.Ve(d,q,p,r,I,D,F,E,e);a.be();a.scale(b,b);a.Nn(-this.n.Xa());a.translate((this.n.Ma+this.n.Ta)/-2,(this.n.Na+this.n.Sa)/-2);a.Md();this.vk=this.b.Ld}};var r=[];n.Oy=function(a){y(r);for(var d="",b,c=0;c<a.length;)if(b=a.charAt(c),"\n"===b)d.length&&(r.push(d),d=""),r.push("\n"),++c;else if(" "===b||"\t"===b||"-"===b){do d+=a.charAt(c),c++;while(c<a.length&&
(" "===a.charAt(c)||"\t"===a.charAt(c)));r.push(d);d=""}else c<a.length&&(d+=b,c++);d.length&&r.push(d)};var e=[];n.Uy=function(a,d,b,c,e){if(a&&a.length)if(2>=c)k(d);else{if(100>=a.length&&-1===a.indexOf("\n")){var h=b.measureText(a).width;if(h<=c){k(d);d.push(f());d[0].text=a;d[0].width=h;return}}this.Vy(a,d,b,c,e)}else k(d)};n.Vy=function(a,d,b,c,g){g&&(this.Oy(a),a=r);var k="",l,n,q,P=0;for(q=0;q<a.length;q++)"\n"===a[q]?(P>=d.length&&d.push(f()),k=h(k),n=d[P],n.text=k,n.width=b.measureText(k).width,
P++,k=""):(l=k,k+=a[q],n=b.measureText(k).width,n>=c&&(P>=d.length&&d.push(f()),l=h(l),n=d[P],n.text=l,n.width=b.measureText(l).width,P++,k=a[q],g||" "!==k||(k="")));k.length&&(P>=d.length&&d.push(f()),k=h(k),n=d[P],n.text=k,n.width=b.measureText(k).width,P++);for(q=P;q<d.length;q++)e.push(d[q]);d.length=P};n.j=new function(){};n.q=new function(){};n.K=new function(){}})();function id(f){this.b=f}
(function(){var f=id.prototype;f.la=function(f){this.Pa=f;this.b=f.b};var k=f.la.prototype;k.P=function(){this.O||(this.ba=new Image,this.ba.kp=this.eo,this.b.Rr(this.ba,this.co),this.ya=this.pattern=null)};k.Wk=function(){this.O||(this.ya=null)};k.nn=function(){if(!this.O&&this.d.length){this.ya||(this.ya=this.b.F.Ni(this.ba,!0,this.b.bb,this.tl));var f,k;f=0;for(k=this.d.length;f<k;f++)this.d[f].ya=this.ya}};k.Bk=function(){this.O||this.ya||!this.b.F||(this.ya=this.b.F.Ni(this.ba,!0,this.b.bb,this.tl))};
k.no=function(){this.O||this.d.length||!this.ya||(this.b.F.deleteTexture(this.ya),this.ya=null)};k.Fn=function(f){f.drawImage(this.ba,0,0)};f.fa=function(f){this.type=f;this.b=f.b};k=f.fa.prototype;k.P=function(){this.visible=0===this.N[0];this.Jg=new Na(0,0,0,0);this.yt=!1;this.ba=this.type.ba;this.b.F?(this.type.Bk(),this.ya=this.type.ya):(this.type.pattern||(this.type.pattern=this.b.fb.createPattern(this.type.ba,"repeat")),this.pattern=this.type.pattern)};k.De=function(){this.yt=!1;this.ba=this.type.ba};
k.Dg=function(){this.b.F&&this.yt&&this.ya&&(this.b.F.deleteTexture(this.ya),this.ya=null)};k.Bd=function(f){f.globalAlpha=this.opacity;f.save();f.fillStyle=this.pattern;var k=this.x,q=this.y;this.b.Id&&(k=Math.round(k),q=Math.round(q));var r=-(this.Nb*this.width),e=-(this.Ob*this.height),a=r%this.ba.width,d=e%this.ba.height;0>a&&(a+=this.ba.width);0>d&&(d+=this.ba.height);f.translate(k,q);f.rotate(this.k);f.translate(a,d);f.fillRect(r-a,e-d,this.width,this.height);f.restore()};k.eh=function(f){this.Ec(f)};
k.Ec=function(f){f.cd(this.ya);f.Mg(this.opacity);var k=this.Jg;k.right=this.width/this.ba.width;k.bottom=this.height/this.ba.height;var q=this.yc;if(this.b.Id){var r=Math.round(this.x)-this.x,e=Math.round(this.y)-this.y;f.Ve(q.Xb+r,q.Yb+e,q.Lc+r,q.Mc+e,q.zc+r,q.Ac+e,q.wc+r,q.xc+e,k)}else f.Ve(q.Xb,q.Yb,q.Lc,q.Mc,q.zc,q.Ac,q.wc,q.xc,k)};f.j=new function(){};f.q=new function(){};f.K=new function(){}})();function jd(f){this.b=f}
(function(){function f(){}var k=jd.prototype;k.la=function(f){this.behavior=f;this.b=f.b};k.la.prototype.P=function(){};k.fa=function(f,h){this.type=f;this.behavior=f.behavior;this.i=h;this.b=f.b};var h=k.fa.prototype;h.P=function(){var f=this.N[0];this.gd=this.N[1];this.kg=this.N[2];this.oz=0!==this.N[3];this.dj=0!==this.N[4];this.xb=Math.cos(this.i.k)*f;this.mb=Math.sin(this.i.k)*f;this.Um=this.i.x;this.Vm=this.i.y;this.Wd=this.i.k;this.ko=0;this.enabled=0!==this.N[5]};h.Wb=function(){return{acc:this.gd,
g:this.kg,dx:this.xb,dy:this.mb,lx:this.Um,ly:this.Vm,lka:this.Wd,t:this.ko,e:this.enabled}};h.oc=function(f){this.gd=f.acc;this.kg=f.g;this.xb=f.dx;this.mb=f.dy;this.Um=f.lx;this.Vm=f.ly;this.Wd=f.lka;this.ko=f.t;this.enabled=f.e};h.Ya=function(){if(this.enabled){var f=this.b.ph(this.i),h,k;this.i.k!==this.Wd&&(this.dj&&(h=nb(0,0,this.xb,this.mb),this.xb=Math.cos(this.i.k)*h,this.mb=Math.sin(this.i.k)*h),this.Wd=this.i.k);0!==this.gd&&(h=nb(0,0,this.xb,this.mb),k=0===this.xb&&0===this.mb?this.i.k:
hb(0,0,this.xb,this.mb),h+=this.gd*f,0>h&&(h=0),this.xb=Math.cos(k)*h,this.mb=Math.sin(k)*h);0!==this.kg&&(this.mb+=this.kg*f);this.Um=this.i.x;this.Vm=this.i.y;if(0!==this.xb||0!==this.mb)if(this.i.x+=this.xb*f,this.i.y+=this.mb*f,this.ko+=nb(0,0,this.xb*f,this.mb*f),this.dj&&(this.i.k=hb(0,0,this.xb,this.mb),this.i.T(),this.Wd=this.i.k),this.i.T(),this.oz&&(h=this.b.Wh(this.i)))this.b.kD(this.i,h),h=nb(0,0,this.xb,this.mb),k=this.b.rz(this.i,this.Um,this.Vm),this.xb=Math.cos(k)*h,this.mb=Math.sin(k)*
h,this.i.x+=this.xb*f,this.i.y+=this.mb*f,this.i.T(),this.dj&&(this.Wd=this.i.k=k,this.i.T()),this.b.bD(this.i,this.xb/h,this.mb/h,Math.max(2.5*h*f,30))||this.b.cD(this.i)}};k.j=new function(){};f.prototype.ks=function(f){var h=hb(0,0,this.xb,this.mb);this.xb=Math.cos(h)*f;this.mb=Math.sin(h)*f};f.prototype.Gl=function(f){this.enabled=1===f};k.q=new f;k.K=new function(){}})();
function kd(f){this.b=f;var k=this;this.b.pb||(jQuery(document).mousemove(function(f){k.Jq(f)}),jQuery(document).mousedown(function(f){k.Iq(f)}),jQuery(document).mouseup(function(f){k.Kq(f)}));f=0<this.b.Oc?document:this.b.canvas;this.b.Hc?f=window.Canvas:this.b.Vd&&(f=window);"undefined"!==typeof PointerEvent?(f.addEventListener("pointerdown",function(f){k.Pu(f)},!1),f.addEventListener("pointermove",function(f){k.Ou(f)},!1),f.addEventListener("pointerup",function(f){k.mn(f)},!1),f.addEventListener("pointercancel",
function(f){k.mn(f)},!1)):window.navigator.msPointerEnabled?(f.addEventListener("MSPointerDown",function(f){k.Pu(f)},!1),f.addEventListener("MSPointerMove",function(f){k.Ou(f)},!1),f.addEventListener("MSPointerUp",function(f){k.mn(f)},!1),f.addEventListener("MSPointerCancel",function(f){k.mn(f)},!1)):(f.addEventListener("touchstart",function(f){k.FC(f)},!1),f.addEventListener("touchmove",function(f){k.EC(f)},!1),f.addEventListener("touchend",function(f){k.Ru(f)},!1),f.addEventListener("touchcancel",
function(f){k.Ru(f)},!1))}
(function(){function f(e){var a,d;a=0;for(d=e.U.length;a<d;a++)if(e.U[a]instanceof n.fa)return e.U[a];return null}function k(){}function h(){}var n=kd.prototype,q={left:0,top:0};n.Iq=function(e){1===e.which&&this.Eq("leftmouse",e.pageX,e.pageY)};n.Jq=function(e){1===e.which&&this.Fq("leftmouse",e.pageX,e.pageY)};n.Kq=function(e){1===e.which&&this.Gq("leftmouse")};n.FC=function(e){e.preventDefault&&Xb(e)&&e.preventDefault();var a,d,b,c;a=0;for(d=e.changedTouches.length;a<d;a++)b=e.changedTouches[a],
c=b.identifier,this.Eq(c?c.toString():"<none>",b.pageX,b.pageY)};n.EC=function(e){e.preventDefault&&e.preventDefault();var a,d,b,c;a=0;for(d=e.changedTouches.length;a<d;a++)b=e.changedTouches[a],c=b.identifier,this.Fq(c?c.toString():"<none>",b.pageX,b.pageY)};n.Ru=function(e){e.preventDefault&&Xb(e)&&e.preventDefault();var a,d,b;a=0;for(d=e.changedTouches.length;a<d;a++)b=e.changedTouches[a],b=b.identifier,this.Gq(b?b.toString():"<none>")};n.Pu=function(e){e.pointerType!==e.MSPOINTER_TYPE_MOUSE&&
"mouse"!==e.pointerType&&(e.preventDefault&&Xb(e)&&e.preventDefault(),this.Eq(e.pointerId.toString(),e.pageX,e.pageY))};n.Ou=function(e){e.pointerType!==e.MSPOINTER_TYPE_MOUSE&&"mouse"!==e.pointerType&&(e.preventDefault&&e.preventDefault(),this.Fq(e.pointerId.toString(),e.pageX,e.pageY))};n.mn=function(e){e.pointerType!==e.MSPOINTER_TYPE_MOUSE&&"mouse"!==e.pointerType&&(e.preventDefault&&Xb(e)&&e.preventDefault(),this.Gq(e.pointerId.toString()))};n.Eq=function(e,a,d){var b=this.b.pb?q:jQuery(this.b.canvas).offset();
a=a-b.left;d=d-b.top;var c,g,h,l,b=this.Fh.ge(),k,n,r,p=null;k=0;for(n=b.length;k<n;k++)if(r=b[k],c=f(r),c.enabled&&!c.gg&&(c=r.n.Jb(a,d,!0),g=r.n.Jb(a,d,!1),r.xa(),r.jc(c,g)))p?r.n.index>p.n.index?(p=r,h=c,l=g):r.n.index===p.n.index&&r.Td()>p.Td()&&(p=r,h=c,l=g):(p=r,h=c,l=g);p&&f(p).xC(e,h,l)};n.Fq=function(e,a,d){var b=this.b.pb?q:jQuery(this.b.canvas).offset();a=a-b.left;d=d-b.top;var c,g=this.Fh.ge(),h,k,n;h=0;for(k=g.length;h<k;h++)c=g[h],n=f(c),!n.enabled||!n.gg||n.gg&&n.rp!==e||(b=c.n.Jb(a,
d,!0),c=c.n.Jb(a,d,!1),n.AC(b,c))};n.Gq=function(e){var a=this.Fh.ge(),d,b,c;d=0;for(b=a.length;d<b;d++)c=a[d],c=f(c),c.gg&&c.rp===e&&c.GC()};n.la=function(e){this.behavior=e;this.b=e.b};n.la.prototype.P=function(){};n.fa=function(e,a){this.type=e;this.behavior=e.behavior;this.i=a;this.b=e.b};var r=n.fa.prototype;r.P=function(){this.gg=!1;this.mb=this.xb=0;this.rp="<none>";this.So=this.N[0];this.enabled=0!==this.N[1]};r.Wb=function(){return{enabled:this.enabled}};r.oc=function(e){this.enabled=e.enabled;
this.gg=!1};r.xC=function(e,a,d){this.xb=a-this.i.x;this.mb=d-this.i.y;this.gg=!0;this.rp=e;this.b.Ic=!0;this.b.trigger(kd.prototype.j.Bx,this.i);this.b.Ic=!1};r.AC=function(e,a){var d=e-this.xb,b=a-this.mb;if(0===this.So){if(this.i.x!==d||this.i.y!==b)this.i.x=d,this.i.y=b,this.i.T()}else 1===this.So?this.i.x!==d&&(this.i.x=d,this.i.T()):2===this.So&&this.i.y!==b&&(this.i.y=b,this.i.T())};r.GC=function(){this.gg=!1;this.b.Ic=!0;this.b.trigger(kd.prototype.j.Cx,this.i);this.b.Ic=!1};r.Ya=function(){};
k.prototype.Bx=function(){return!0};k.prototype.Cx=function(){return!0};n.j=new k;h.prototype.Gl=function(e){this.enabled=0!==e;this.enabled||(this.gg=!1)};n.q=new h;n.K=new function(){}})();function ld(f){this.b=f}
(function(){var f=ld.prototype;f.la=function(f){this.behavior=f;this.b=f.b};f.la.prototype.P=function(){};f.fa=function(f,k){this.type=f;this.behavior=f.behavior;this.i=k;this.b=f.b};var k=f.fa.prototype;k.P=function(){this.hc=null;this.vn=-1;this.mode=this.Wd=this.Dr=this.Ok=this.Hg=this.un=0;var f=this;this.vd||(this.Du=function(k){f.Hq(k)});this.b.Oo(this.Du)};k.Wb=function(){return{uid:this.hc?this.hc.uid:-1,pa:this.un,pd:this.Hg,msa:this.Ok,tsa:this.Dr,lka:this.Wd,m:this.mode}};k.oc=function(f){this.vn=
f.uid;this.un=f.pa;this.Hg=f.pd;this.Ok=f.msa;this.Dr=f.tsa;this.Wd=f.lka;this.mode=f.m};k.De=function(){-1===this.vn?this.hc=null:this.hc=this.b.ti(this.vn);this.vn=-1};k.Hq=function(f){this.hc==f&&(this.hc=null)};k.Dg=function(){this.hc=null;this.b.pD(this.Du)};k.Ya=function(){};k.ul=function(){if(this.hc){this.Wd!==this.i.k&&(this.Ok=eb(this.Ok+(this.i.k-this.Wd)));var f=this.i.x,k=this.i.y;if(3===this.mode||4===this.mode){var q=nb(this.i.x,this.i.y,this.hc.x,this.hc.y);if(q>this.Hg||4===this.mode&&
q<this.Hg)k=hb(this.hc.x,this.hc.y,this.i.x,this.i.y),f=this.hc.x+Math.cos(k)*this.Hg,k=this.hc.y+Math.sin(k)*this.Hg}else f=this.hc.x+Math.cos(this.hc.k+this.un)*this.Hg,k=this.hc.y+Math.sin(this.hc.k+this.un)*this.Hg;this.Wd=q=eb(this.Ok+(this.hc.k-this.Dr));0!==this.mode&&1!==this.mode&&3!==this.mode&&4!==this.mode||this.i.x===f&&this.i.y===k||(this.i.x=f,this.i.y=k,this.i.T());0!==this.mode&&2!==this.mode||this.i.k===q||(this.i.k=q,this.i.T())}};f.j=new function(){};f.q=new function(){};f.K=new function(){}})();
function rd(f){this.b=f}
(function(){function f(){}var k=rd.prototype;k.la=function(f){this.behavior=f;this.b=f.b};k.la.prototype.P=function(){};k.fa=function(f,h){this.type=f;this.behavior=f.behavior;this.i=h;this.b=f.b};var h=k.fa.prototype;h.P=function(){this.speed=bb(this.N[0]);this.gd=bb(this.N[1])};h.Wb=function(){return{speed:this.speed,acc:this.gd}};h.oc=function(f){this.speed=f.speed;this.gd=f.acc};h.Ya=function(){var f=this.b.ph(this.i);0!==f&&(0!==this.gd&&(this.speed+=this.gd*f),0!==this.speed&&(this.i.k=eb(this.i.k+
this.speed*f),this.i.T()))};k.j=new function(){};f.prototype.ks=function(f){this.speed=bb(f)};k.q=new f;k.K=new function(){}})();function sd(f){this.b=f}
(function(){var f=sd.prototype;f.la=function(f){this.behavior=f;this.b=f.b};f.la.prototype.P=function(){};f.fa=function(f,h){this.type=f;this.behavior=f.behavior;this.i=h;this.b=f.b;this.mode=0};f=f.fa.prototype;f.P=function(){this.mode=this.N[0]};f.Ya=function(){};f.ul=function(){this.i.xa();var f=this.i.Ua,h=this.i.n.tb,n=!1;0===this.mode?(0>this.i.x&&(this.i.x=0,n=!0),0>this.i.y&&(this.i.y=0,n=!0),this.i.x>h.width&&(this.i.x=h.width,n=!0),this.i.y>h.height&&(this.i.y=h.height,n=!0)):(0>f.left&&
(this.i.x-=f.left,n=!0),0>f.top&&(this.i.y-=f.top,n=!0),f.right>h.width&&(this.i.x-=f.right-h.width,n=!0),f.bottom>h.height&&(this.i.y-=f.bottom-h.height,n=!0));n&&this.i.T()}})();function td(f){this.b=f}
(function(){var f=td.prototype;f.la=function(f){this.behavior=f;this.b=f.b};f.la.prototype.P=function(){};f.fa=function(f,h){this.type=f;this.behavior=f.behavior;this.i=h;this.b=f.b};f=f.fa.prototype;f.P=function(){};f.Ya=function(){this.i.xa();var f=this.i.Ua,h=this.i.n.tb;(0>f.right||0>f.bottom||f.left>h.width||f.top>h.height)&&this.b.$e(this.i)}})();
(function(){function f(a,b){return(b-a.sD)*a.tr}function k(a,b){return(a.tD-b)*a.tr}function h(a,b,c,d,e,f){var g;g=a.qe+b.qe;var h=a.ra,l=c.x*c.x*h;a=-c.x*c.y*h;c=g+c.y*c.y*h;g+=l;h=b.ra;b=d.x*d.x*h;l=-d.x*d.y*h;c+=d.y*d.y*h;d=0+a+l;a=0+a+l;g+=b;b=c*g-d*a;Da(0!==b,"Unsolvable constraint.");b=1/b;e.x=g*b;e.y=-d*b;f.x=-a*b;f.y=c*b}function n(a,b,c,d,e){a=q(a,c,e)+q(b,d,e);Da(0!==a,"Unsolvable collision or constraint.");return a}function q(a,b,c){b=oa(b,c);return a.qe+a.ra*b*b}function r(a,b,c,d){a.vj+=
b*a.qe;a.wj+=c*a.qe;a.Rg+=a.ra*(d.x*c-d.y*b)}function e(b,c,d,e,f,g){a(b,-f,-g,d);a(c,f,g,e)}function a(a,b,c,d){a.Zb+=b*a.qe;a.$b+=c*a.qe;a.B+=a.ra*(d.x*c-d.y*b)}function d(a,b,c,d,e){return(b.Zb+-d.y*b.B-(a.Zb+-c.y*a.B))*e.x+(b.$b+d.x*b.B-(a.$b+c.x*a.B))*e.y}function b(a,b,c,d){return new N(b.Zb+-d.y*b.B-(a.Zb+-c.y*a.B),b.$b+d.x*b.B-(a.$b+c.x*a.B))}function c(a){var b=a.body;a.update(b.za,b.ib)}function g(a,b){var c=wd;if(a.Ia<=b.Ja&&b.Ia<=a.Ja&&a.Da<=b.Ea&&b.Da<=a.Ea&&a.body!==b.body&&(!a.group||
a.group!==b.group)&&a.S&b.S){var d=c.eu(a.Gj,b.Gj),e=a.vv||b.vv;if(!e||d!==xd){if(a.hf>b.hf){var f=a;a=b;b=f}f=Cd(a,b);if(0!==f.length){var g=ga(a.ob,b.ob),h=c.Ge[g];h||(h=c.Ge[g]=new D(a,b));h.update(f,d,a,b);"ignore"!==h.state&&d.En(h,c)&&!e?c.ci.push(h):(h.Vc=null,"ignore"!==h.state&&(h.state="normal"));h.Gb=c.Gb}}}}function m(a,b){if(!b.Oa()){var c=b?b.Cg:null;if(null==c){b.Cg=a;b!==a&&(b.Zd=a.Zd,a.Zd=b);for(c=b.Ug;c;c=c.next(b))m(a,b==c.kb?c.le:c.kb);for(c=b.Ie;c;c=c.next(b))m(a,b==c.C?c.L:c.C)}else Da(c===
a,"Internal Error: Inconsistency detected in the contact graph.")}}function l(a){R(!a.Xc,"This addition/removal cannot be done safely during a call to cpSpaceStep() \r\n or during a query. Put these calls into a post-step callback.")}function t(a,b,c,d,e){for(var f=oa(b.xe,b.tc),g=oa(b.xe,b.ed),h=Z(b.xe,e),l=c.Ze,k=0;k<l.length;k+=2){var m=l[k],n=l[k+1];if(m*h.x+n*h.y<S(b.xe,b.tc)*e+b.wa){var p=b.xe.x*n-b.xe.y*m;f>=p&&p>=g&&a.push(new I(new N(m,n),h,d,ga(c.ob,k)))}}}function ca(a,b,c){var d=S(b,a.tc)-
a.wa;a=S(b,a.ed)-a.wa;return ea(d,a)-c}function P(a,b,c,d){for(var e=[],f=a.Ze,g=0;g<f.length;g+=2){var h=f[g],l=f[g+1];b.Yl(h,l)&&e.push(new I(new N(h,l),c,d,ga(a.ob,g>>1)))}f=b.Ze;for(g=0;g<f.length;g+=2)h=f[g],l=f[g+1],a.Yl(h,l)&&e.push(new I(new N(h,l),c,d,ga(b.ob,g>>1)));if(!e.length){e=[];f=a.Ze;for(g=0;g<f.length;g+=2)h=f[g],l=f[g+1],b.Ms(h,l,ma(c))&&e.push(new I(new N(h,l),c,d,ga(a.ob,g)));f=b.Ze;for(g=0;g<f.length;g+=2)h=f[g],l=f[g+1],a.Ms(h,l,c)&&e.push(new I(new N(h,l),c,d,ga(b.ob,g)))}return a=
e}function p(a,b){var c=0,d=a.wo(b[0].J,b[0].Bc);if(0<d)return-1;for(var e=1;e<b.length;e++){var f=a.wo(b[e].J,b[e].Bc);if(0<f)return-1;f>d&&(d=f,c=e)}jc=d;return c}function u(a,b,c,d){d=c+d;b=Y(b,a);var e=ab(b);if(!(e>=d*d))return e=Math.sqrt(e),new I(M(a,Z(b,.5+(c-.5*d)/(e?e:Infinity))),e?Z(b,1/e):new N(1,0),e-d,0)}function I(a,b,c,d){this.za=a;this.J=b;this.Lj=c;this.aa=this.da=qa;this.Qb=this.sg=this.pk=this.Yd=this.ur=this.ys=this.Va=0;this.hash=d;Dd++}function E(a,b,c){b?b.kb===a?b.nj=c:b.pj=
c:a.Ug=c;c&&(c.kb===a?c.oj=b:c.qj=b)}function D(a,b){this.sj=this.ig=0;this.Xv=qa;this.C=a;this.kb=a.body;this.L=b;this.le=b.body;this.Vc=this.pj=this.qj=this.nj=this.oj=null;this.Gb=0;this.Qp=null;this.Vh=!1;this.state="first coll"}function F(a,b){!a.ek&&10>=b&&(F(a.ac,b+1),F(a.Nc,b+1));for(var c="",d=0;d<b;d++)c+=" ";console.log(c+a.Da+" "+a.Ea)}function L(a,b){return a.Ia<=b.Ja&&b.Ia<=a.Ja&&a.Da<=b.Ea&&b.Da<=a.Ea}function v(a,b,c){if(b==a)return null;var d=b.parent;if(d==a)return b=a.Tu(b),b.parent=
a.parent,a.Mh(c),b;d.parent.replaceChild(d,d.Tu(b),c);return a}function C(a,b,c,d,e){if(a.ek)return e(a.Y);var f=V(a.ac,b,c),g=V(a.Nc,b,c);f<g?(f<d&&(d=ea(d,C(a.ac,b,c,d,e))),g<d&&(d=ea(d,C(a.Nc,b,c,d,e)))):(g<d&&(d=ea(d,C(a.Nc,b,c,d,e))),f<d&&(d=ea(d,C(a.ac,b,c,d,e))));return d}function V(a,b,c){var d=1/(c.x-b.x),e=(a.Ia-b.x)*d,f=(a.Ja-b.x)*d,d=ea(e,f),e=da(e,f),f=1/(c.y-b.y);c=(a.Da-b.y)*f;b=(a.Ea-b.y)*f;a=ea(c,b);b=da(c,b);return a<=e&&d<=b&&(d=da(d,a),0<=ea(e,b)&&1>=d)?da(d,0):Infinity}function X(a,
b,c){a.Et(b)&&(a.ek?c(a.Y):(X(a.ac,b,c),X(a.Nc,b,c)))}function ka(a,b,c){if(null==a)return b;if(a.ek)return c.nC(b,a);var d=a.Nc.To()+U(a.ac,b),e=a.ac.To()+U(a.Nc,b);d===e&&(d=ba(a.ac,b),e=ba(a.Nc,b));e<d?a.nr(ka(a.Nc,b,c)):a.mr(ka(a.ac,b,c));a.Ia=ea(a.Ia,b.Ia);a.Da=ea(a.Da,b.Da);a.Ja=da(a.Ja,b.Ja);a.Ea=da(a.Ea,b.Ea);return a}function ba(a,b){return Math.abs(a.Ia+a.Ja-b.Ia-b.Ja)+Math.abs(a.Da+a.Ea-b.Da-b.Ea)}function U(a,b){return(da(a.Ja,b.Ja)-ea(a.Ia,b.Ia))*(da(a.Ea,b.Ea)-ea(a.Da,b.Da))}function H(a,
b,c){var d=a.Eg,e=b.Eg;c=c.oC(a,d,b,e);a.Eg=b.Eg=c;d&&(d.ug===a?d.Kh=c:d.Yk=c);e&&(e.ug===b?e.Kh=c:e.Yk=c)}function sa(a,b,c){c&&(c.ug===b?c.Kh=a:c.Yk=a);a?a.ug===b?a.Pk=c:a.Qk=c:b.Eg=c}function ta(a,b,c,d){this.Kh=null;this.ug=a;this.Pk=b;this.Yk=null;this.sq=c;this.Qk=d}function A(a,b){this.Y=b;a.Bp(b,this);this.parent=null;this.Gb=1;this.Eg=null;Ed++}function x(a,b,c){this.Y=null;this.Ia=ea(b.Ia,c.Ia);this.Da=ea(b.Da,c.Da);this.Ja=da(b.Ja,c.Ja);this.Ea=da(b.Ea,c.Ea);this.parent=null;this.mr(b);
this.nr(c)}function w(a,b,c){if(a===c)return a.next(b);a.C===b?a.hn=w(a.hn,b,c):a.jn=w(a.jn,b,c);return a}function W(a,b){this.J=a;this.Bc=b}function B(a){for(var b=a.length,c=0;c<b;c+=2){var d=a[(c+2)%b],e=a[(c+3)%b];if(0<(d-a[c])*(a[(c+5)%b]-e)-(e-a[c+1])*(a[(c+4)%b]-d))return!1}return!0}function G(a,b,c,d,e){d=Y(d,b);e=Y(e,b);b=S(d,d)-2*S(d,e)+S(e,e);var f=-2*S(d,d)+2*S(d,e);c=S(d,d)-c*c;c=f*f-4*b*c;if(0<=c&&(b=(-f-Math.sqrt(c))/(2*b),0<=b&&1>=b))return new Lb(a,b,kb(md(d,e,b)))}function O(a,b,
c){return ea(da(a,b),c)}function Ca(a,b,c,d,e,f,g,h){if(0>d)return 0;if(0==d)return b[2*h]=f.x,b[2*h+1]=f.y,1;var l=Q(b,c,d,e,f,a),k=new N(b[2*c],b[2*c+1]);e=Ca(a,b,c+1,l-1,e,k,f,h);k=h+e++;b[2*k]=f.x;b[2*k+1]=f.y;d=Q(b,c+l,d-l,f,g,a);k=new N(b[2*(c+l)],b[2*(c+l)+1]);return e+Ca(a,b,c+l+1,d-1,f,k,g,h+e)}function Q(a,b,c,d,e,f){if(0===c)return 0;var g=0,h=b;e=Y(e,d);f=f*Ya(e);var l=b;for(c=b+c-1;l<=c;){var k=new N(a[2*l],a[2*l+1]),k=oa(e,Y(k,d));k>f?(k>g&&(g=k,h=l),l++):(la(a,l,c),c--)}h!=b&&la(a,
b,h);return l-b}function la(a,b,c){var d=a[2*b];a[2*b]=a[2*c];a[2*c]=d;d=a[2*b+1];a[2*b+1]=a[2*c+1];a[2*c+1]=d}function aa(a,b){for(var c=0;c<a.length;c++)if(a[c]===b){a[c]=a[a.length-1];a.length--;break}}function ga(a,b){return a<b?a+" "+b:b+" "+a}function ob(a,b){return a>b?a:b}function pb(a,b){return a<b?a:b}function Da(a,b){!a&&console&&console.warn&&(console.warn("ASSERTION FAILED: "+b),console.trace&&console.trace())}function R(a,b){if(!a)throw Error("Assertion failed: "+b);}Object.create=Object.create||
function(a){function b(){}b.prototype=a;return new b};var z;"undefined"===typeof exports?(z={},"object"===typeof window&&(window.cp=z)):z=exports;var ea,da;"object"===typeof window&&-1<window.navigator.userAgent.indexOf("Firefox")?(ea=Math.min,da=Math.max):(ea=pb,da=ob);z.yu=function(a,b){var c=cp.D(0,0);return a*(.5*(b*b+0)+ab(c))};z.iz=function(a){return Math.PI*Math.abs(a*a-0)};z.zu=function(a,b,c){var d=Z(M(b,c),.5);return a*(pd(c,b)/12+ab(d))};z.jz=function(a,b,c){return c*(Math.PI*c+2*od(a,
b))};z.Bq=function(a,b,c){for(var d=0,e=0,f=b.length,g=0;g<f;g+=2)var h=b[g]+c.x,l=b[g+1]+c.y,k=b[(g+2)%f]+c.x,m=b[(g+3)%f]+c.y,n=k*l-m*h,d=d+n*(h*h+l*l+(h*k+l*m)+(k*k+m*m)),e=e+n;return a*d/(6*e)};z.Ro=function(a){for(var b=0,c=0,d=a.length;c<d;c+=2)b+=oa(new N(a[c],a[c+1]),new N(a[(c+2)%d],a[(c+3)%d]));return-b/2};z.Es=function(a){for(var b=0,c=new N(0,0),d=0,e=a.length;d<e;d+=2)var f=new N(a[d],a[d+1]),g=new N(a[(d+2)%e],a[(d+3)%e]),h=oa(f,g),b=b+h,c=M(c,Z(M(f,g),h));return Z(c,1/(3*b))};z.NF=
function(a){for(var b=z.Es(a),c=0;c<a.length;c+=2)a[c]-=b.x,a[c+1]-=b.y};z.xu=function(a,b,c){return a*(b*b+c*c)/12};z.JF=function(a,b){var c=b.wa-b.tk,d=b.eb-b.L,e=Z([b.tk+b.wa,b.L+b.eb],.5);return z.xu(a,c,d)+a*ab(e)};var qb=z.IF=function(a){var b=0,c=0,d,e,f,g;d=f=a[0];e=g=a[1];for(var h=a.length>>1,l=1;l<h;l++){var k=a[2*l],m=a[2*l+1];if(k<d||k==d&&m<e)d=k,e=m,b=l;else if(k>f||k==f&&m>g)f=k,g=m,c=l}return[b,c]};z.DF=function(a,b,c){if(b)for(var d=0;d<a.length;d++)b[d]=a[d];else b=a;var e=qb(a),
d=e[0],e=e[1];if(d==e)return b.length=2,b;la(b,0,d);la(b,1,0==e?d:e);d=new N(b[0],b[1]);e=new N(b[2],b[3]);a=Ca(c,b,2,(a.length>>1)-2,d,e,d,1)+1;b.length=2*a;Da(B(b),"Internal error: cpConvexHull() and cpPolyValidate() did not agree.Please report this error with as much info as you can.");return b};var N=z.yF=function(a,b){this.x=a;this.y=b};z.D=function(a,b){return new N(a,b)};var qa=z.TF=new N(0,0),S=z.D.Mj=function(a,b){return a.x*b.x+a.y*b.y},Ya=z.D.IE=function(a){return Math.sqrt(S(a,a))};z.D.ME=
function(a,b){return Math.sqrt(a*a+b*b)};z.D.zE=function(a,b){return a.x===b.x&&a.y===b.y};var M=z.D.add=function(a,b){return new N(a.x+b.x,a.y+b.y)};N.prototype.add=function(a){this.x+=a.x;this.y+=a.y;return this};var Y=z.D.sub=function(a,b){return new N(a.x-b.x,a.y-b.y)};N.prototype.sub=function(a){this.x-=a.x;this.y-=a.y;return this};var ma=z.D.ok=function(a){return new N(-a.x,-a.y)};N.prototype.ok=function(){this.x=-this.x;this.y=-this.y;return this};var Z=z.D.Bu=function(a,b){return new N(a.x*
b,a.y*b)};N.prototype.Bu=function(a){this.x*=a;this.y*=a;return this};var oa=z.D.Hz=function(a,b){return a.x*b.y-a.y*b.x},va=z.D.cF=function(a){return new N(-a.y,a.x)};z.D.gF=function(a){return new N(a.y,-a.x)};var yd=z.D.Hn=function(a,b){return Z(b,S(a,b)/ab(b))};N.prototype.Hn=function(a){this.Bu(S(this,a)/ab(a));return this};var ua=z.D.rotate=function(a,b){return new N(a.x*b.x-a.y*b.y,a.x*b.y+a.y*b.x)};N.prototype.rotate=function(a){this.x=this.x*a.x-this.y*a.y;this.y=this.x*a.y+this.y*a.x;return this};
var zd=z.D.tF=function(a,b){return new N(a.x*b.x+a.y*b.y,a.y*b.x-a.x*b.y)},ab=z.D.NE=function(a){return S(a,a)};z.D.SE=function(a,b){return a*a+b*b};var md=z.D.$t=function(a,b,c){return M(Z(a,1-c),Z(b,c))},kb=z.D.normalize=function(a){return Z(a,1/Ya(a))},nd=z.D.XE=function(a){return 0===a.x&&0===a.y?qa:kb(a)},rb=z.D.$g=function(a,b){return S(a,a)>b*b?Z(kb(a),b):a};z.D.TE=function(a,b,c){return M(a,rb(Y(b,a),c))};var od=z.D.Lj=function(a,b){return Ya(Y(a,b))},pd=z.D.MF=function(a,b){return ab(Y(a,
b))};z.D.UE=function(a,b,c){return pd(a,b)<c*c};var Ad=z.D.hF=function(a,b,c){var d=Math.acos(S(a,b));if(d){var e=1/Math.sin(d);return M(Z(a,Math.sin((1-c)*d)*e),Z(b,Math.sin(c*d)*e))}return a};z.D.nF=function(a,b,c){var d=Math.acos(S(a,b));return Ad(a,b,ea(c,d)/d)};z.D.FE=function(a){return new N(Math.cos(a),Math.sin(a))};z.D.eC=function(a){return Math.atan2(a.y,a.x)};z.D.JE=function(a){return"("+a.x.toFixed(3)+", "+a.y.toFixed(3)+")"};var Bd=0,Jb=z.tE=function(a,b,c,d){this.tk=a;this.L=b;this.wa=
c;this.eb=d;Bd++};z.BF=function(a,b,c,d){return new Jb(a,b,c,d)};var qd=0;z.dF=0;var Fd=z.sE=-1;z.OF=function(){qd=0};var Ta=z.uF=function(a){this.body=a;this.Ia=this.Da=this.Ja=this.Ea=0;this.ob=qd++;this.vv=!1;this.sj=this.ig=0;this.Wv=qa;this.group=this.Gj=0;this.S=Fd;this.G=null;this.$a=!1;this.hf=this.hf};Ta.prototype.Tn=function(a){this.ig=a};Ta.prototype.fl=function(a){this.body.sb();this.sj=a};Ta.prototype.Ib=function(){return this.body&&-1!==this.body.Rh.indexOf(this)};Ta.prototype.update=
function(a,b){R(!isNaN(b.x),"Rotation is NaN");R(!isNaN(a.x),"Position is NaN");this.Vo(a,b)};Ta.prototype.Bp=function(){return new Jb(this.Ia,this.Da,this.Ja,this.Ea)};z.eF=function(a,b,c){this.shape=a;this.za=b;this.Bc=c};var Lb=z.$x=function(a,b,c){this.shape=a;this.eb=b;this.J=c};Lb.prototype.JB=function(a,b){return od(a,b)*this.eb};var sb=z.Fw=function(a,b,c){this.Fj=this.ve=c;this.wa=b;this.type="circle";Ta.call(this,a)};sb.prototype=Object.create(Ta.prototype);sb.prototype.Vo=function(a,b){var c=
this.ve=ua(this.Fj,b).add(a),d=this.wa;this.Ia=c.x-d;this.Da=c.y-d;this.Ja=c.x+d;this.Ea=c.y+d};sb.prototype.Kg=function(a,b){return G(this,this.ve,this.wa,a,b)};var tb=z.ay=function(a,b,c,d){this.C=b;this.L=c;this.J=va(kb(Y(c,b)));this.tc=this.ed=this.xe=null;this.wa=d;this.mz=this.Wy=qa;this.type="segment";Ta.call(this,a)};tb.prototype=Object.create(Ta.prototype);tb.prototype.Vo=function(a,b){this.tc=M(a,ua(this.C,b));this.ed=M(a,ua(this.L,b));this.xe=ua(this.J,b);var c,d,e,f;this.tc.x<this.ed.x?
(c=this.tc.x,d=this.ed.x):(c=this.ed.x,d=this.tc.x);this.tc.y<this.ed.y?(e=this.tc.y,f=this.ed.y):(e=this.ed.y,f=this.tc.y);var g=this.wa;this.Ia=c-g;this.Da=e-g;this.Ja=d+g;this.Ea=f+g};tb.prototype.Kg=function(a,b){var c=this.xe,d=S(Y(this.tc,a),c),e=this.wa,f=0<d?ma(c):c,g=Y(Z(f,e),a),h=M(this.tc,g),l=M(this.ed,g),g=Y(b,a);if(0>=oa(g,h)*oa(g,l)){if(e=d+(0<d?-e:e),d=-e,c=S(g,c)-e,0>d*c)return new Lb(this,d/(d-c),f)}else if(0!==e)return f=G(this,this.tc,this.wa,a,b),c=G(this,this.ed,this.wa,a,b),
f?c&&c.eb<f.eb?c:f:c};var Ra=z.Jo=function(a,b,c){this.RD(b,c);this.type="poly";Ta.call(this,a)};Ra.prototype=Object.create(Ta.prototype);W.prototype.compare=function(a){return S(this.J,a)-this.Bc};Ra.prototype.RD=function(a,b){R(4<=a.length,"Polygons require some verts");R("number"===typeof a[0],"Polygon verticies should be specified in a flattened list (eg [x1,y1,x2,y2,x3,y3,...])");R(B(a),"Polygon is concave or has a reversed winding. Consider using cpConvexHull()");var c=a.length,d=c>>1;this.zj=
Array(c);this.Ze=Array(c);this.gv=Array(d);this.ue=Array(d);for(d=0;d<c;d+=2){var e=a[d]+b.x,f=a[d+1]+b.y,g=kb(va(new N(a[(d+2)%c]+b.x-e,a[(d+3)%c]+b.y-f)));this.zj[d]=e;this.zj[d+1]=f;this.gv[d>>1]=new W(g,g.x*e+g.y*f);this.ue[d>>1]=new W(new N(0,0),0)}};z.Dw=function(a,b,c){b=b/2;c=c/2;return Gd(a,new Jb(-b,-c,b,c))};var Gd=z.yE=function(a,b){return new Ra(a,[b.tk,b.L,b.tk,b.eb,b.wa,b.eb,b.wa,b.L],qa)};Ra.prototype.dE=function(a,b){for(var c=this.zj,d=this.Ze,e=Infinity,f=-Infinity,g=Infinity,h=
-Infinity,l=0;l<c.length;l+=2){var k=c[l],m=c[l+1],n=a.x+k*b.x-m*b.y,k=a.y+k*b.y+m*b.x;d[l]=n;d[l+1]=k;e=ea(e,n);f=da(f,n);g=ea(g,k);h=da(h,k)}this.Ia=e;this.Da=g;this.Ja=f;this.Ea=h};Ra.prototype.cE=function(a,b){for(var c=this.gv,d=this.ue,e=0;e<c.length;e++){var f=ua(c[e].J,b);d[e].J=f;d[e].Bc=S(a,f)+c[e].Bc}};Ra.prototype.Vo=function(a,b){this.cE(a,b);this.dE(a,b)};Ra.prototype.Kg=function(a,b){for(var c=this.ue,d=this.Ze,e=c.length,f=2*e,g=0;g<e;g++){var h=c[g].J,l=S(a,h);if(!(c[g].Bc>l)){var k=
S(b,h),l=(c[g].Bc-l)/(k-l);if(!(0>l||1<l)){var k=md(a,b,l),k=-oa(h,k),m=-(h.x*d[(2*g+3)%f]-h.y*d[(2*g+2)%f]);if(-(h.x*d[2*g+1]-h.y*d[2*g])<=k&&k<=m)return new Lb(this,l,h)}}}};Ra.prototype.wo=function(a,b){for(var c=this.Ze,d=a.x*c[0]+a.y*c[1],e=2;e<c.length;e+=2)d=ea(d,a.x*c[e]+a.y*c[e+1]);return d-b};Ra.prototype.Yl=function(a,b){for(var c=this.ue,d=0;d<c.length;d++){var e=c[d].J;if(0<e.x*a+e.y*b-c[d].Bc)return!1}return!0};Ra.prototype.Ms=function(a,b,c){for(var d=this.ue,e=0;e<d.length;e++){var f=
d[e].J;if(!(0>S(f,c))&&0<f.x*a+f.y*b-d[e].Bc)return!1}return!0};var ia=z.Vr=function(a,b){this.za=new N(0,0);this.Zb=this.$b=0;this.ni=new N(0,0);this.eb=this.B=0;this.Qr=this.uo=Infinity;this.Rg=this.vj=this.wj=0;this.G=null;this.$a=!1;this.Rh=[];this.Zd=this.Cg=this.Ie=this.Ug=null;this.Se=0;this.ej(a);this.Jf(b);this.ib=new N(0,0);this.dj(0)};if("undefined"!==typeof DEBUG&&DEBUG){var kc=function(a,b){R(a.x==a.x&&a.y==a.y,b)},lc=function(a,b){R(Infinity!==Math.abs(a.x)&&Infinity!==Math.abs(a.y),
b)};ia.prototype.el=function(){R(this.Pi===this.Pi&&this.qe===this.qe,"Body's mass is invalid.");R(this.yi===this.yi&&this.ra===this.ra,"Body's moment is invalid.");var a=this.za;kc(a,"Body's position is invalid.");lc(a,"Body's position is invalid.");a=this.ni;kc(a,"Body's force is invalid.");lc(a,"Body's force is invalid.");R(this.Zb===this.Zb&&Infinity!==Math.abs(this.Zb),"Body's velocity is invalid.");R(this.$b===this.$b&&Infinity!==Math.abs(this.$b),"Body's velocity is invalid.");R(this.C===this.C&&
Infinity!==Math.abs(this.C),"Body's angle is invalid.");R(this.B===this.B&&Infinity!==Math.abs(this.B),"Body's angular velocity is invalid.");R(this.eb===this.eb&&Infinity!==Math.abs(this.eb),"Body's torque is invalid.");a=this.ib;kc(a,"Body's rotation vector is invalid.");lc(a,"Body's rotation vector is invalid.");R(this.uo===this.uo,"Body's velocity limit is invalid.");R(this.Qr===this.Qr,"Body's angular velocity limit is invalid.")}}else ia.prototype.el=function(){};ia.prototype.Xa=function(){return z.D.eC(this.ib)};
ia.prototype.Oe=function(){return null!==this.Cg};ia.prototype.Pc=function(){return Infinity===this.Se};ia.prototype.Oa=function(){return null===this.G};ia.prototype.ej=function(a){R(0<a,"Mass must be positive and non-zero.");this.sb();this.Pi=a;this.qe=1/a};ia.prototype.Jf=function(a){R(0<a,"Moment of Inertia must be positive and non-zero.");this.sb();this.yi=a;this.ra=1/a};ia.prototype.bf=function(a){this.Rh.push(a)};ia.prototype.Gf=function(a){aa(this.Rh,a)};ia.prototype.aj=function(a){this.Ie=
w(this.Ie,this,a)};ia.prototype.Ev=function(a){this.sb();this.el();a===qa&&(a=z.D(0,0));this.za=a};ia.prototype.PD=function(a){this.sb();this.Zb=a.x;this.$b=a.y};ia.prototype.xv=function(a){R(!isNaN(a),"Internal Error: Attempting to set body's angle to NaN");this.C=a;this.ib.x=Math.cos(a);this.ib.y=Math.sin(a)};ia.prototype.dj=function(a){this.sb();this.el();this.xv(a)};ia.prototype.mE=function(a,b,c){var d=this.Zb*b+(a.x+this.ni.x*this.qe)*c;a=this.$b*b+(a.y+this.ni.y*this.qe)*c;var e=this.uo,f=
d*d+a*a,e=f>e*e?e/Math.sqrt(f):1;this.Zb=d*e;this.$b=a*e;d=this.Qr;this.B=O(this.B*b+this.eb*this.ra*c,-d,d);this.el()};ia.prototype.SC=function(a){this.za.x+=(this.Zb+this.vj)*a;this.za.y+=(this.$b+this.wj)*a;this.xv(this.C+(this.B+this.Rg)*a);this.Rg=this.vj=this.wj=0;this.el()};ia.prototype.rD=function(){this.sb();this.ni=new N(0,0);this.eb=0};ia.prototype.ez=function(a,b){this.sb();this.ni=M(this.ni,a);this.eb+=oa(b,a)};ia.prototype.Uc=function(b,c){this.sb();a(this,b.x,b.y,c)};ia.prototype.km=
function(a){for(var b=this.Ie;b;){var c=b.next(this);a(b);b=c}};ia.prototype.cu=function(a){return M(this.za,ua(a,this.ib))};ia.prototype.Ao=function(a){return zd(Y(a,this.za),this.ib)};ia.prototype.fC=function(){var a=this.Zb*this.Zb+this.$b*this.$b,b=this.B*this.B;return(a?a*this.Pi:0)+(b?b*this.yi:0)};var mc=z.xF=function(a){if(this.Tv=a){if(a.li)throw Error("This static index is already associated with a dynamic index.");a.li=this}};mc.prototype.wz=function(a,b){if(0<a.count){var c=a.dD;this.each(function(a){c(a,
new Jb(a.Ia,a.Da,a.Ja,a.Ea),b)})}};var xa=z.Cw=function(a){mc.call(this,a);this.lE=null;this.vg={};this.count=0;this.zn=this.yn=this.root=null;this.Gb=0};xa.prototype=Object.create(mc.prototype);var Hd=0;xa.prototype.nC=function(a,b){var c=this.yn;if(c)return this.yn=c.parent,c.constructor(this,a,b),c;Hd++;return new x(0,a,b)};var Ed=0;xa.prototype.Bp=function(a,b){var c=this.lE;if(c){var d=.1*(a.Ja-a.Ia),e=.1*(a.Ea-a.Da),c=Z(c(a),.1);b.Ia=a.Ia+ea(-d,c.x);b.Da=a.Da+ea(-e,c.y);b.Ja=a.Ja+da(d,c.x);
b.Ea=a.Ea+da(e,c.y)}else b.Ia=a.Ia,b.Da=a.Da,b.Ja=a.Ja,b.Ea=a.Ea};xa.prototype.Lp=function(){var a=this.li;return a&&a.Gb?a.Gb:this.Gb};xa.prototype.Wp=function(){this.li&&this.li.Gb?this.li.Gb++:this.Gb++};var Id=0;xa.prototype.oC=function(a,b,c,d){var e=this.zn;if(e)return this.zn=e.Kh,e.Kh=null,e.ug=a,e.Pk=b,e.Yk=null,e.sq=c,e.Qk=d,e;Id++;return new ta(a,b,c,d)};ta.prototype.Mh=function(a){this.Kh=a.zn;a.zn=this};A.prototype.Is=function(a){var b=this.Eg,c;for(this.Eg=null;b;)b.ug===this?(c=b.Pk,
sa(b.Yk,b.sq,b.Qk)):(c=b.Qk,sa(b.Kh,b.ug,b.Pk)),b.Mh(a),b=c};x.prototype.Mh=function(a){this.parent=a.yn;a.yn=this};A.prototype.Mh=function(){};x.prototype.mr=function(a){this.ac=a;a.parent=this};x.prototype.nr=function(a){this.Nc=a;a.parent=this};A.prototype.ek=!0;x.prototype.ek=!1;x.prototype.Tu=function(a){return this.ac==a?this.Nc:this.ac};x.prototype.replaceChild=function(a,b,c){Da(a==this.ac||a==this.Nc,"Node is not a child of parent.");this.ac==a?(this.ac.Mh(c),this.mr(b)):(this.Nc.Mh(c),this.nr(b));
for(a=this;a;a=a.parent)b=a.ac,c=a.Nc,a.Ia=ea(b.Ia,c.Ia),a.Da=ea(b.Da,c.Da),a.Ja=da(b.Ja,c.Ja),a.Ea=da(b.Ea,c.Ea)};x.prototype.To=A.prototype.To=function(){return(this.Ja-this.Ia)*(this.Ea-this.Da)};x.prototype.Et=A.prototype.Et=function(a){return this.Ia<=a.wa&&a.tk<=this.Ja&&this.Da<=a.eb&&a.L<=this.Ea};A.prototype.Dh=function(a,b,c,d){L(a,this)&&(b?H(a,this,c):(this.Gb<a.Gb&&H(this,a,c),d&&d(a.Y,this.Y)))};x.prototype.Dh=function(a,b,c,d){L(a,this)&&(this.ac.Dh(a,b,c,d),this.Nc.Dh(a,b,c,d))};A.prototype.Nk=
function(a,b,c){if(this.Gb==a.Lp())for(b&&b.Dh(this,!1,a,c),b=this;b.parent;b=b.parent)b==b.parent.ac?b.parent.Nc.Dh(this,!0,a,c):b.parent.ac.Dh(this,!1,a,c);else for(a=this.Eg;a;)this===a.sq?(c&&c(a.ug.Y,this.Y),a=a.Qk):a=a.Pk};x.prototype.Nk=function(a,b,c){this.ac.Nk(a,b,c);this.Nc.Nk(a,b,c)};A.prototype.Cz=function(a){return this.Ia<=a.Ia&&this.Ja>=a.Ja&&this.Da<=a.Da&&this.Ea>=a.Ea};A.prototype.update=function(a){var b=a.root;return this.Cz(this.Y)?!1:(a.Bp(this.Y,this),b=v(b,this,a),a.root=
ka(b,this,a),this.Is(a),this.Gb=a.Lp(),!0)};A.prototype.os=function(a){var b=a.li;b?(a=b.root)&&a.Dh(this,!0,b,null):this.Nk(a,a.Tv.root,null)};xa.prototype.pg=function(a,b){var c=new A(this,a);this.vg[b]=c;this.root=ka(this.root,c,this);this.count++;c.Gb=this.Lp();c.os(this);this.Wp()};xa.prototype.remove=function(a,b){var c=this.vg[b];delete this.vg[b];this.root=v(this.root,c,this);this.count--;c.Is(this);c.Mh(this)};xa.prototype.contains=function(a,b){return null!=this.vg[b]};xa.prototype.lD=function(a){if(this.root){var b,
c=this.vg;for(b in c)c[b].update(this);c=(b=this.Tv)&&b.root;this.root.Nk(this,c,a);b&&!c&&this.wz(this,b);this.Wp()}};xa.prototype.qv=function(a){if(a=this.vg[a])a.update(this)&&a.os(this),this.Wp()};xa.prototype.Kg=function(a,b,c,d){this.root&&C(this.root,a,b,c,d)};xa.prototype.dD=function(a,b){this&&this.root&&this instanceof z.Cw&&X(this.root,a,b)};xa.prototype.count=function(){return this.count};xa.prototype.each=function(a){for(var b in this.vg)a(this.vg[b].Y)};xa.prototype.log=function(){this.root&&
F(this.root,0)};var Mb=z.AE=function(){this.C=this.L=0};Mb.prototype.En=function(){return!0};Mb.prototype.Cn=function(){};D.prototype.bE=function(){for(var a=(1-this.ig)/(1+this.ig),b=0,c=this.Vc,d=0,e=c.length;d<e;d++)var f=c[d],g=f.Qb,h=f.sg,b=b+(a*g*g/f.Yd+h*h/f.ur);return b};D.prototype.KB=function(){this.state="ignore"};D.prototype.et=function(){return this.Vh?this.L:this.C};D.prototype.ht=function(){return this.Vh?this.C:this.L};D.prototype.dq=function(){return"first coll"===this.state};D.prototype.eB=
function(a){a=this.Vc[a].J;return this.Vh?ma(a):a};D.prototype.kw=function(){E(this.kb,this.oj,this.nj);E(this.le,this.qj,this.pj);this.qj=this.pj=this.oj=this.nj=null};D.prototype.update=function(a,b,c,d){if(this.Vc)for(var e=0;e<this.Vc.length;e++)for(var f=this.Vc[e],g=0;g<a.length;g++){var h=a[g];h.hash===f.hash&&(h.Qb=f.Qb,h.sg=f.sg)}this.Vc=a;this.Qp=b;this.Vh=c.Gj!==b.C;this.ig=c.ig*d.ig;this.sj=c.sj*d.sj;this.Xv=Y(c.Wv,d.Wv);this.C=c;this.kb=c.body;this.L=d;this.le=d.body;"cached"==this.state&&
(this.state="first coll")};D.prototype.Jd=function(a,b,c){for(var e=this.kb,f=this.le,g=0;g<this.Vc.length;g++){var h=this.Vc[g];h.aa=Y(h.za,e.za);h.da=Y(h.za,f.za);h.Yd=1/n(e,f,h.aa,h.da,h.J);h.ur=1/n(e,f,h.aa,h.da,va(h.J));h.Va=-c*ea(0,h.Lj+b)/a;h.pk=0;h.ys=d(e,f,h.aa,h.da,h.J)*this.ig}};D.prototype.Pd=function(a){if(!this.dq())for(var b=this.kb,c=this.le,d=0;d<this.Vc.length;d++){var f=this.Vc[d],g=f.J.x,h=f.J.y;e(b,c,f.aa,f.da,(g*f.Qb-h*f.sg)*a,(g*f.sg+h*f.Qb)*a)}};var Jd=0,Kd=0;D.prototype.Uc=
function(){Jd++;for(var a=this.kb,b=this.le,c=this.Xv,d=this.sj,f=0;f<this.Vc.length;f++){Kd++;var g=this.Vc[f],h=g.Yd,l=g.J,k=g.aa,m=g.da,n=b.Zb-m.y*b.B-(a.Zb-k.y*a.B),p=b.$b+m.x*b.B-(a.$b+k.x*a.B),q=n*l.x+p*l.y,t=(n+c.x)*-l.y+(p+c.y)*l.x,p=g.pk;g.pk=da(p+(g.Va-(l.x*(b.vj-m.y*b.Rg-a.vj+k.y*a.Rg)+l.y*(m.x*b.Rg+b.wj-k.x*a.Rg-a.wj)))*h,0);n=g.Qb;g.Qb=da(n+-(g.ys+q)*h,0);q=d*g.Qb;h=g.sg;g.sg=O(h+-t*g.ur,-q,q);q=l.x*(g.pk-p);p=l.y*(g.pk-p);r(a,-q,-p,k);r(b,q,p,m);n=g.Qb-n;g=g.sg-h;e(a,b,k,m,l.x*n-l.y*
g,l.x*g+l.y*n)}};D.prototype.next=function(a){return this.kb==a?this.nj:this.pj};var Dd=0,Sa=[],jc=0;sb.prototype.hf=0;tb.prototype.hf=1;Ra.prototype.hf=2;sb.prototype.ip=[function(a,b){var c=u(a.ve,b.ve,a.wa,b.wa);return c?[c]:Sa},function(a,b){var c=b.tc,d=a.ve,e=Y(b.ed,c),f;f=S(e,Y(d,c))/ab(e);f=da(0,ea(f,1));c=M(c,Z(e,f));return(d=u(d,c,a.wa,b.wa))?(c=d.J,0===f&&0>S(c,b.Wy)||1===f&&0>S(c,b.mz)?Sa:[d]):Sa},function(a,b){for(var c=b.ue,d=0,e=S(c[0].J,a.ve)-c[0].Bc-a.wa,f=0;f<c.length;f++){var g=
S(c[f].J,a.ve)-c[f].Bc-a.wa;if(0<g)return Sa;g>e&&(e=g,d=f)}var c=c[d].J,h=b.Ze,l=h.length,k=d<<1,d=h[k],f=h[k+1],g=h[(k+2)%l],h=h[(k+3)%l],l=c.x*f-c.y*d,k=c.x*h-c.y*g,m=oa(c,a.ve);return m<k?(e=u(a.ve,new N(g,h),a.wa,0))?[e]:Sa:m<l?[new I(Y(a.ve,Z(c,a.wa+e/2)),ma(c),e,0)]:(e=u(a.ve,new N(d,f),a.wa,0))?[e]:Sa}];tb.prototype.ip=[null,function(){return Sa},function(a,b){var c=[],d=b.ue,e=d.length,f=S(a.xe,a.tc),g=b.wo(a.xe,f)-a.wa,f=b.wo(ma(a.xe),-f)-a.wa;if(0<f||0<g)return Sa;var h=0,l=ca(a,d[0].J,
d[0].Bc);if(0<l)return Sa;for(var k=0;k<e;k++){var m=ca(a,d[k].J,d[k].Bc);if(0<m)return Sa;m>l&&(l=m,h=k)}d=ma(d[h].J);k=M(a.tc,Z(d,a.wa));m=M(a.ed,Z(d,a.wa));b.Yl(k.x,k.y)&&c.push(new I(k,d,l,ga(a.ob,0)));b.Yl(m.x,m.y)&&c.push(new I(m,d,l,ga(a.ob,1)));if(g>=l||f>=l)g>f?t(c,a,b,g,1):t(c,a,b,f,-1);if(0===c.length){g=2*h;f=b.Ze;l=new N(f[g],f[g+1]);if((h=u(a.tc,l,a.wa,0))||(h=u(a.ed,l,a.wa,0)))return[h];e=2*e;e=new N(f[(g+2)%e],f[(g+3)%e]);if((h=u(a.tc,e,a.wa,0))||(h=u(a.ed,e,a.wa,0)))return[h]}return c}];
Ra.prototype.ip=[null,null,function(a,b){var c=p(b,a.ue);if(-1==c)return Sa;var d=jc,e=p(a,b.ue);if(-1==e)return Sa;var f=jc;return d>f?P(a,b,a.ue[c].J,d):P(a,b,ma(b.ue[e].J),f)}];var Cd=z.Js=function(a,b){R(a.hf<=b.hf,"Collided shapes must be sorted by type");return a.ip[b.hf](a,b)},xd=new Mb,ha=z.Iy=function(){this.Os=this.Gb=0;this.$f=[];this.er=[];this.qr=[];this.Th=new xa(null);this.Uf=new xa(this.Th);this.ci=[];this.Ge={};this.ah=[];this.Xc=0;this.hp={};this.Jz=xd;this.Tq=[];this.Cc=[];this.dC=
10;this.Am=qa;this.ji=1;this.Tp=0;this.ll=Infinity;this.zz=.1;this.xz=Math.pow(.9,60);this.yz=3;this.Sv=new ia(Infinity,Infinity);this.Sv.Se=Infinity;this.Js=this.mC()};ha.prototype.Xy=function(a,b){l(this);this.oD();var c=new Mb;c.C=0;c.L=0;a&&(c.En=a);b&&(c.Cn=b);this.hp[ga(0,0)]=c};ha.prototype.oD=function(){l(this);delete this.hp[ga(0,0)]};ha.prototype.eu=function(a,b){return this.hp[ga(a,b)]||this.Jz};ha.prototype.bf=function(a){var b=a.body;if(b.Pc())return this.rs(a);if(this.Xc)return a.$a||
(a.$a=!0,this.Cc.push(this.bf),this.Cc.push(a)),a;a.$a=!0;R(!a.G,"This shape is already added to a space and cannot be added to another.");l(this);b.sb();b.bf(a);a.update(b.za,b.ib);this.Uf.pg(a,a.ob);a.G=this;return a};ha.prototype.rs=function(a){if(this.Xc)return a.$a||(a.$a=!0,this.Cc.push(this.rs),this.Cc.push(a)),a;a.$a=!0;R(!a.G,"This shape is already added to a space and cannot be added to another.");l(this);var b=a.body;b.bf(a);a.update(b.za,b.ib);this.Th.pg(a,a.ob);a.G=this;return a};ha.prototype.Il=
function(a){R(!a.Pc(),"Static bodies cannot be added to a space as they are not meant to be simulated.");if(this.Xc)return a.$a||(a.$a=!0,this.Cc.push(this.Il),this.Cc.push(a)),a;a.$a=!0;R(!a.G,"This body is already added to a space and cannot be added to another.");l(this);this.$f.push(a);a.G=this;return a};ha.prototype.No=function(a){if(this.Xc)return a.$a||(a.$a=!0,this.Cc.push(this.No),this.Cc.push(a)),a;a.$a=!0;R(!a.G,"This shape is already added to a space and cannot be added to another.");
l(this);var b=a.C,c=a.L;b.sb();c.sb();this.ah.push(a);a.hn=b.Ie;b.Ie=a;a.jn=c.Ie;c.Ie=a;a.G=this;return a};ha.prototype.$s=function(a,b){for(var c in this.Ge){var d=this.Ge[c];if(a===d.kb&&(b===d.C||null===b)||a===d.le&&(b===d.L||null===b))d.kw(),aa(this.ci,d),delete this.Ge[c]}};ha.prototype.Gf=function(a){var b=a.body;b.Pc()?this.sv(a):this.Xc?a.$a&&(a.$a=!1,this.Cc.push(this.Gf),this.Cc.push(a)):(a.$a=!1,R(this.Ls(a),"Cannot remove a shape that was not added to the space. (Removed twice maybe?)"),
l(this),b.sb(),b.Gf(a),this.$s(b,a),this.Uf.remove(a,a.ob),a.G=null)};ha.prototype.sv=function(a){if(this.Xc)a.$a&&(a.$a=!1,this.Cc.push(this.sv),this.Cc.push(a));else{a.$a=!1;R(this.Ls(a),"Cannot remove a static or sleeping shape that was not added to the space. (Removed twice maybe?)");l(this);var b=a.body;b.Pc()&&b.Mo(a);b.Gf(a);this.$s(b,a);this.Th.remove(a,a.ob);a.G=null}};ha.prototype.Kn=function(a){this.Xc?a.$a&&(a.$a=!1,this.Cc.push(this.Kn),this.Cc.push(a)):(a.$a=!1,R(this.Az(a),"Cannot remove a body that was not added to the space. (Removed twice maybe?)"),
l(this),a.sb(),aa(this.$f,a),a.G=null)};ha.prototype.aj=function(a){this.Xc?a.$a&&(a.$a=!1,this.Cc.push(this.aj),this.Cc.push(a)):(a.$a=!1,R(this.Bz(a),"Cannot remove a constraint that was not added to the space. (Removed twice maybe?)"),l(this),a.C.sb(),a.L.sb(),aa(this.ah,a),a.C.aj(a),a.L.aj(a),a.G=null)};ha.prototype.Ls=function(a){return a.G===this};ha.prototype.Az=function(a){return a.G==this};ha.prototype.Bz=function(a){return a.G==this};ha.prototype.eE=function(a){delete this.Ge[ga(a.C.ob,
a.L.ob)];aa(this.ci,a)};ha.prototype.sp=function(a,b){this.Ik();for(var c=this.$f,d=0;d<c.length;d++)a.call(b,c[d]);c=this.qr;for(d=0;d<c.length;d++)for(var e=c[d];e;){var f=e.Zd;a.call(b,e);e=f}this.wl(!0)};ha.prototype.km=function(a){this.Ik();for(var b=this.ah,c=0;c<b.length;c++)a(b[c]);this.wl(!0)};ha.prototype.mD=function(a){R(!this.Xc,"You cannot manually reindex objects while the space is locked. Wait until the current query or step is complete.");var b=a.body;a.update(b.za,b.ib);this.Uf.qv(a.ob);
this.Th.qv(a.ob)};ha.prototype.ms=function(a){R(!a.Oa(),"Internal error: Attempting to activate a rogue body.");if(this.Xc)-1===this.er.indexOf(a)&&this.er.push(a);else{this.$f.push(a);for(var b=0;b<a.Rh.length;b++){var c=a.Rh[b];this.Th.remove(c,c.ob);this.Uf.pg(c,c.ob)}for(b=a.Ug;b;b=b.next(a))if(c=b.kb,a===c||c.Pc()){var c=b.C,d=b.L;this.Ge[ga(c.ob,d.ob)]=b;b.Gb=this.Gb;b.Qp=this.eu(c.Gj,d.Gj);this.ci.push(b)}for(b=a.Ie;b;b=b.Zd)c=b.C,(a===c||c.Pc())&&this.ah.push(b)}};ha.prototype.Iz=function(a){R(!a.Oa(),
"Internal error: Attempting to deactivate a rogue body.");aa(this.$f,a);for(var b=0;b<a.Rh.length;b++){var c=a.Rh[b];this.Uf.remove(c,c.ob);this.Th.pg(c,c.ob)}for(c=a.Ug;c;c=c.next(a))b=c.kb,(a===b||b.Pc())&&this.eE(c);for(c=a.Ie;c;c=c.Zd)b=c.C,(a===b||b.Pc())&&aa(this.ah,c)};ia.prototype.sb=function(){if(!this.Oa()){this.Se=0;var a=this?this.Cg:null;if(a&&a.Oe(a)){R(!a.Oa(),"Internal Error: componentActivate() called on a rogue body.");for(var b=a.G,c=a;c;){var d=c.Zd;c.Se=0;c.Cg=null;c.Zd=null;
b.ms(c);c=d}aa(b.qr,a)}}};ia.prototype.Mo=function(a){R(this.Pc(),"Body.activateStatic() called on a non-static body.");for(var b=this.Ug;b;b=b.next(this))a&&a!=b.C&&a!=b.L||(b.kb==this?b.le:b.kb).sb()};ia.prototype.mv=function(a){Da(null===(a.kb===this?a.nj:a.pj),"Internal Error: Dangling contact graph pointers detected. (A)");Da(null===(a.kb===this?a.oj:a.qj),"Internal Error: Dangling contact graph pointers detected. (B)");var b=this.Ug;Da(null===b||null===(b.kb===this?b.oj:b.qj),"Internal Error: Dangling contact graph pointers detected. (C)");
a.kb===this?a.nj=b:a.pj=b;b&&(b.kb===this?b.oj=a:b.qj=a);this.Ug=a};ha.prototype.YC=function(a){for(var b=Infinity!==this.ll,c=this.$f,d=0;d<c.length;d++){var e=c[d];Da(null===e.Zd,"Internal Error: Dangling next pointer detected in contact graph.");Da(null===e.Cg,"Internal Error: Dangling root pointer detected in contact graph.")}if(b)for(var f=(d=this.Tp)?d*d:ab(this.Am)*a*a,d=0;d<c.length;d++)e=c[d],e.Se=Infinity!==e.Pi?e.fC()>(f?e.Pi*f:0)?0:e.Se+a:Infinity;for(var f=this.ci,d=0,g=f.length;d<g;d++){var h=
f[d],e=h.kb;a=h.le;b&&((a.Oa()&&!a.Pc()||e.Oe())&&e.sb(),(e.Oa()&&!e.Pc()||a.Oe())&&a.sb());e.mv(h);a.mv(h)}if(b){b=this.ah;for(d=0;d<b.length;d++)a=b[d],e=a.C,a=a.L,a.Oa()&&!a.Pc()&&e.sb(),e.Oa()&&!e.Pc()&&a.sb();for(d=0;d<c.length;){e=c[d];if(null===(e?e.Cg:null)){m(e,e);a:{for(b=e;b;b=b.Zd)if(b.Se<this.ll){b=!0;break a}b=!1}if(!b){this.qr.push(e);for(b=e;b;b=b.Zd)this.Iz(b);continue}}d++;e.Cg=null;e.Zd=null}}};ha.prototype.Kg=function(a,b,c,d,e){function f(g){var h;(!g.group||d!==g.group)&&c&g.S&&
(h=g.Kg(a,b))&&e(g,h.eb,h.J);return 1}this.Ik();this.Th.Kg(a,b,1,f);this.Uf.Kg(a,b,1,f);this.wl(!0)};ha.prototype.xD=function(){for(var a=0;a<this.Tq.length;a++)this.Tq[a]();this.Tq.length=0};ha.prototype.Ik=function(){this.Xc++};ha.prototype.wl=function(a){this.Xc--;R(0<=this.Xc,"Internal Error: Space lock underflow.");if(0===this.Xc&&a){a=this.er;for(var b=0;b<a.length;b++)this.ms(a[b]);a.length=0;this.xD()}};var wd;ha.prototype.mC=function(){wd=this;return g};ha.prototype.hz=function(a){var b=
this.Gb-a.Gb,c=a.kb,d=a.le;if((c.Pc()||c.Oe())&&(d.Pc()||d.Oe()))return!0;1<=b&&"cached"!=a.state&&(a.state="cached");return b>=this.yz?(a.Vc=null,!1):!0};ha.prototype.step=function(a){if(0!==a){R(0===qa.x&&0===qa.y,"vzero is invalid");this.Gb++;var b=this.Os;this.Os=a;var d,e,f=this.$f,g=this.ah,h=this.ci;for(d=0;d<h.length;d++){var l=h[d];l.state="normal";l.kb.Oe()||l.le.Oe()||l.kw()}h.length=0;this.Ik();for(d=0;d<f.length;d++)f[d].SC(a);this.Uf.each(c);this.Uf.lD(this.Js);this.wl(!1);this.YC(a);
this.Ik();for(e in this.Ge)this.hz(this.Ge[e])||delete this.Ge[e];e=this.zz;l=1-Math.pow(this.xz,a);for(d=0;d<h.length;d++)h[d].Jd(a,e,l);for(d=0;d<g.length;d++)e=g[d],e.En(this),e.Jd(a);e=Math.pow(this.ji,a);l=this.Am;for(d=0;d<f.length;d++)f[d].mE(l,e,a);a=0===b?0:a/b;for(d=0;d<h.length;d++)h[d].Pd(a);for(d=0;d<g.length;d++)g[d].Pd(a);for(d=0;d<this.dC;d++){for(a=0;a<h.length;a++)h[a].Uc();for(a=0;a<g.length;a++)g[a].Uc()}for(d=0;d<g.length;d++)g[d].Cn(this);for(d=0;d<h.length;d++)h[d].Qp.Cn(h[d],
this);this.wl(!0)}};var ja=z.EE=function(a,b){this.C=a;this.L=b;this.G=null;this.$a=!1;this.jn=this.hn=null;this.zf=Infinity;this.hh=Math.pow(.9,60);this.Eh=Infinity};ja.prototype.Jd=function(){};ja.prototype.Pd=function(){};ja.prototype.Uc=function(){};ja.prototype.En=function(){};ja.prototype.Cn=function(){};ja.prototype.next=function(a){return this.C===a?this.hn:this.jn};var Nb=z.Sx=function(a,b,c,d){ja.call(this,a,b);this.Sg=c;this.cf=d;a=a?M(a.za,ua(c,a.ib)):c;b=b?M(b.za,ua(d,b.ib)):d;this.Lj=
Ya(Y(b,a));Da(0<this.Lj,"You created a 0 length pin joint. A pivot joint will be much more stable.");this.J=this.aa=this.da=null;this.Va=this.Qb=this.Hi=this.Yd=0};Nb.prototype=Object.create(ja.prototype);Nb.prototype.Jd=function(a){var b=this.C,c=this.L;if(!b.Oa()||!c.Oa()){this.aa=ua(this.Sg,b.ib);this.da=ua(this.cf,c.ib);var d=Y(M(c.za,this.da),M(b.za,this.aa)),e=Ya(d);this.J=Z(d,1/(e?e:Infinity));this.Yd=1/n(b,c,this.aa,this.da,this.J);b=this.Eh;this.Va=O(-(1-Math.pow(this.hh,a))*(e-this.Lj)/
a,-b,b);this.Hi=this.zf*a}};Nb.prototype.Pd=function(a){a=Z(this.J,this.Qb*a);e(this.C,this.L,this.aa,this.da,a.x,a.y)};Nb.prototype.Uc=function(){var a=this.C,b=this.L,c=this.J,f=(this.Va-d(a,b,this.aa,this.da,c))*this.Yd,g=this.Qb;this.Qb=O(g+f,-this.Hi,this.Hi);f=this.Qb-g;e(a,b,this.aa,this.da,c.x*f,c.y*f)};var Ob=z.wF=function(a,b,c,d,e,f){ja.call(this,a,b);this.Sg=c;this.cf=d;this.min=e;this.max=f;this.aa=this.da=this.J=null;this.Va=this.Qb=this.Hi=this.Yd=0};Ob.prototype=Object.create(ja.prototype);
Ob.prototype.Jd=function(a){var b=this.C,c=this.L;if(!b.Oa()||!c.Oa()){this.aa=ua(this.Sg,b.ib);this.da=ua(this.cf,c.ib);var d=Y(M(c.za,this.da),M(b.za,this.aa)),e=Ya(d),f=0;e>this.max?(f=e-this.max,this.J=nd(d)):e<this.min?(f=this.min-e,this.J=ma(nd(d))):(this.J=qa,this.Qb=0);this.Yd=1/n(b,c,this.aa,this.da,this.J);b=this.Eh;this.Va=O(-(1-Math.pow(this.hh,a))*f/a,-b,b);this.Hi=this.zf*a}};Ob.prototype.Pd=function(a){a=this.Qb*a;e(this.C,this.L,this.aa,this.da,this.J.x*a,this.J.y*a)};Ob.prototype.Uc=
function(){if(0!==this.J.x||0!==this.J.y){var a=this.C,c=this.L,d=this.J,f=b(a,c,this.aa,this.da),f=S(f,d),f=(this.Va-f)*this.Yd,g=this.Qb;this.Qb=O(g+f,-this.Hi,0);f=this.Qb-g;e(a,c,this.aa,this.da,d.x*f,d.y*f)}};var Pb=z.Tx=function(a,b,c,d){ja.call(this,a,b);"undefined"===typeof d&&(d=c,c=a?a.Ao(d):d,d=b?b.Ao(d):d);this.Sg=c;this.cf=d;this.aa=this.da=qa;this.rk=new N(0,0);this.sk=new N(0,0);this.ta=qa;this.qk=0;this.Va=qa};Pb.prototype=Object.create(ja.prototype);Pb.prototype.Jd=function(a){var b=
this.C,c=this.L;b.Oa()&&c.Oa()||(this.aa=ua(this.Sg,b.ib),this.da=ua(this.cf,c.ib),h(b,c,this.aa,this.da,this.rk,this.sk),this.qk=this.zf*a,b=Y(M(c.za,this.da),M(b.za,this.aa)),this.Va=rb(Z(b,-(1-Math.pow(this.hh,a))/a),this.Eh))};Pb.prototype.Pd=function(a){e(this.C,this.L,this.aa,this.da,this.ta.x*a,this.ta.y*a)};Pb.prototype.Uc=function(){var a=this.C,c=this.L,d=b(a,c,this.aa,this.da),d=Y(this.Va,d),f=this.sk,d=new N(S(d,this.rk),S(d,f)),f=this.ta;this.ta=rb(M(this.ta,d),this.qk);e(a,c,this.aa,
this.da,this.ta.x-f.x,this.ta.y-f.y)};var ub=z.LE=function(a,b,c,d,e){ja.call(this,a,b);this.CB=c;this.DB=d;this.EB=va(kb(Y(d,c)));this.cf=e;this.tt=null;this.$g=0;this.aa=this.da=null;this.rk=new N(0,0);this.sk=new N(0,0);this.ta=qa;this.qk=0;this.Va=null};ub.prototype=Object.create(ja.prototype);ub.prototype.Jd=function(a){var b=this.C,c=this.L;if(!b.Oa()||!c.Oa()){var d=b.cu(this.CB),e=b.cu(this.DB),f=ua(this.EB,b.ib),g=S(d,f);this.tt=f;this.da=ua(this.cf,c.ib);var l=oa(M(c.za,this.da),f);l<=oa(d,
f)?(this.$g=1,this.aa=Y(d,b.za)):l>=oa(e,f)?(this.$g=-1,this.aa=Y(e,b.za)):(this.$g=0,this.aa=Y(M(Z(va(f),-l),Z(f,g)),b.za));h(b,c,this.aa,this.da,this.rk,this.sk);this.qk=this.zf*a;b=Y(M(c.za,this.da),M(b.za,this.aa));this.Va=rb(Z(b,-(1-Math.pow(this.hh,a))/a),this.Eh)}};ub.prototype.Pd=function(a){e(this.C,this.L,this.aa,this.da,this.ta.x*a,this.ta.y*a)};ub.prototype.BB=function(a){var b=this.tt;a=0<this.$g*oa(a,b)?a:yd(a,b);return rb(a,this.qk)};ub.prototype.Uc=function(){var a=this.C,c=this.L,
d=b(a,c,this.aa,this.da),d=Y(this.Va,d),f=this.sk,d=new N(S(d,this.rk),S(d,f)),f=this.ta;this.ta=this.BB(M(f,d));e(a,c,this.aa,this.da,this.ta.x-f.x,this.ta.y-f.y)};var Qb=z.HE=function(a,b,c,d,e,f,g){ja.call(this,a,b);this.Sg=c;this.cf=d;this.tD=e;this.tr=f;this.ji=g;this.TD=k;this.Ar=this.sw=0;this.aa=this.da=null;this.Yd=0;this.J=null};Qb.prototype=Object.create(ja.prototype);Qb.prototype.Jd=function(a){var b=this.C,c=this.L;if(!b.Oa()||!c.Oa()){this.aa=ua(this.Sg,b.ib);this.da=ua(this.cf,c.ib);
var d=Y(M(c.za,this.da),M(b.za,this.aa)),f=Ya(d);this.J=Z(d,1/(f?f:Infinity));d=n(b,c,this.aa,this.da,this.J);Da(0!==d,"Unsolvable this.");this.Yd=1/d;this.Ar=0;this.sw=1-Math.exp(-this.ji*a*d);f=this.TD(this,f);e(b,c,this.aa,this.da,this.J.x*f*a,this.J.y*f*a)}};Qb.prototype.Pd=function(){};Qb.prototype.Uc=function(){var a=this.C,b=this.L,c=d(a,b,this.aa,this.da,this.J),f=(this.Ar-c)*this.sw;this.Ar=c+f;f*=this.Yd;e(a,b,this.aa,this.da,this.J.x*f,this.J.y*f)};var nc=z.GE=function(a,b,c,d,e){ja.call(this,
a,b);this.sD=c;this.tr=d;this.ji=e;this.UD=f;this.ld=this.ww=this.Br=0};nc.prototype=Object.create(ja.prototype);nc.prototype.Jd=function(a){var b=this.C,c=this.L;if(!b.Oa()||!c.Oa()){var d=b.ra+c.ra;Da(0!==d,"Unsolvable spring.");this.ld=1/d;this.ww=1-Math.exp(-this.ji*a*d);this.Br=0;a=this.UD(this,b.C-c.C)*a;b.B-=a*b.ra;c.B+=a*c.ra}};nc.prototype.Uc=function(){var a=this.C,b=this.L,c=a.B-b.B,d=(this.Br-c)*this.ww;this.Br=c+d;c=d*this.ld;a.B+=c*a.ra;b.B-=c*b.ra};var Rb=z.pF=function(a,b,c,d){ja.call(this,
a,b);this.min=c;this.max=d;this.ld=this.Va=this.od=this.ta=0};Rb.prototype=Object.create(ja.prototype);Rb.prototype.Jd=function(a){var b=this.C,c=this.L;if(!b.Oa()||!c.Oa()){var d=c.C-b.C,e=0;d>this.max?e=this.max-d:d<this.min&&(e=this.min-d);this.ld=1/(1/b.yi+1/c.yi);b=this.Eh;this.Va=O(-(1-Math.pow(this.hh,a))*e/a,-b,b);this.od=this.zf*a;this.Va||(this.ta=0)}};Rb.prototype.Pd=function(a){var b=this.C,c=this.L;a=this.ta*a;b.B-=a*b.ra;c.B+=a*c.ra};Rb.prototype.Uc=function(){if(this.Va){var a=this.C,
b=this.L,c=-(this.Va+(b.B-a.B))*this.ld,d=this.ta;this.ta=0>this.Va?O(d+c,0,this.od):O(d+c,-this.od,0);c=this.ta-d;a.B-=c*a.ra;b.B+=c*b.ra}};var Sb=z.oF=function(a,b,c,d){ja.call(this,a,b);this.k=0;this.Qq=c;this.ov=d;this.k=(b?b.C:0)-(a?a.C:0);this.ld=this.Va=this.ta=this.od=0};Sb.prototype=Object.create(ja.prototype);Sb.prototype.Jd=function(a){var b=this.C,c=this.L;if(!b.Oa()||!c.Oa()){var d=this.Qq,e=this.ov,f=c.C-b.C,g=this.k-f,h=0;0<g*e?h=g:this.k=Math.floor((f-d)/e)*e+d;this.ld=1/(b.ra+c.ra);
b=this.Eh;this.Va=O(-(1-Math.pow(this.hh,a))*h/a,-b,b);this.od=this.zf*a;this.Va||(this.ta=0)}};Sb.prototype.Pd=function(a){var b=this.C,c=this.L;a=this.ta*a;b.B-=a*b.ra;c.B+=a*c.ra};Sb.prototype.Uc=function(){if(this.Va){var a=this.C,b=this.L,c=this.ov,d=-(this.Va+(b.B-a.B))*this.ld,e=this.ta;this.ta=O((e+d)*c,0,this.od*Math.abs(c))/c;d=this.ta-e;a.B-=d*a.ra;b.B+=d*b.ra}};var Tb=z.KE=function(a,b,c,d){ja.call(this,a,b);this.Qq=c;this.Yq=d;this.Zq=1/d;this.ld=this.Va=this.od=this.ta=0};Tb.prototype=
Object.create(ja.prototype);Tb.prototype.Jd=function(a){var b=this.C,c=this.L;if(!b.Oa()||!c.Oa()){this.ld=1/(b.ra*this.Zq+this.Yq*c.ra);var d=this.Eh;this.Va=O(-(1-Math.pow(this.hh,a))*(c.C*this.Yq-b.C-this.Qq)/a,-d,d);this.od=this.zf*a}};Tb.prototype.Pd=function(a){var b=this.C,c=this.L;a=this.ta*a;b.B-=a*b.ra*this.Zq;c.B+=a*c.ra};Tb.prototype.Uc=function(){var a=this.C,b=this.L,c=(this.Va-(b.B*this.Yq-a.B))*this.ld,d=this.ta;this.ta=O(d+c,-this.od,this.od);c=this.ta-d;a.B-=c*a.ra*this.Zq;b.B+=
c*b.ra};var Ub=z.vF=function(a,b,c){ja.call(this,a,b);this.Lh=c;this.ld=this.od=this.ta=0};Ub.prototype=Object.create(ja.prototype);Ub.prototype.Jd=function(a){this.ld=1/(this.C.ra+this.L.ra);this.od=this.zf*a};Ub.prototype.Pd=function(a){var b=this.C,c=this.L;a=this.ta*a;b.B-=a*b.ra;c.B+=a*c.ra};Ub.prototype.Uc=function(){var a=this.C,b=this.L,c=-(b.B-a.B+this.Lh)*this.ld,d=this.ta;this.ta=O(d+c,-this.od,this.od);c=this.ta-d;a.B-=c*a.ra;b.B+=c*b.ra}})();
function ud(f){var k=f[1],h=f[2];f=cp.D.sub(k,f[0]);k=cp.D.sub(h,k);return 0>cp.D.Hz(f,k)}
function T(f){this.b=f;var k=this.G=new cp.Iy;k.Xy(function(h){if(h.dq()){var k=h.et().body.zd,q=h.ht().body.zd;k.ic=h;k.rl=!1;q.ic=h;q.rl=!0;f.trigger(T.prototype.j.Mq,k.i);f.trigger(T.prototype.j.Mq,q.i);k.ic=null;q.ic=null}return"ignore"!==h.state},function(h){if(h.dq()){var k=h.et().body.zd,q=h.ht().body.zd;k.ic=h;k.rl=!1;q.ic=h;q.rl=!0;f.trigger(T.prototype.j.Lq,k.i);f.trigger(T.prototype.j.Lq,q.i);k.ic=null;q.ic=null}return!0});k.Am=cp.D(0,100);k.ct=1/30;k.Uv=0;k.ll=1}
(function(){function f(a){this.b.trigger(T.prototype.j.Qu,a.zd.i)}function k(a){"string"==typeof a?(a=parseInt(a.slice(),16),isNaN(a)&&(a=-1)):a|=0;return a}function h(){}function n(){}function q(){}var r=T.prototype;r.la=function(a){this.behavior=a;this.b=a.b};r.la.prototype.P=function(){this.behavior.St=-1;this.behavior.Hf=[]};r.fa=function(a,d){this.type=a;this.behavior=a.behavior;this.i=d;this.b=a.b;this.G=this.behavior.G};var e=r.fa.prototype;e.gE=function(){if(0!==this.He&&2!==this.He&&4!==
this.He){var a=this.i,d=[];a.xa();a.EF(d);var b,c,e,f,a=0;for(b=d.length;a<b;++a)if(c=d[a],e=c.iD,c.Ig&&3===this.He)for(c.Ig.Ns||(f=c.id&3758096384,c.Ig.Ns=this.jt(c.Ig,-2147483648===f||1073741824===f||536870912===f||f&-2147483648&&f&1073741824&&f&536870912)),f=cp.D(e.left,e.top),c=c.Ig.Ns,e=0;e<c.length;++e)this.Ka.push(new cp.Jo(this.body,c[e],f));else f=cp.D(0,0),this.Ka.push(new cp.Jo(this.body,[e.left,e.top,e.left,e.bottom,e.right,e.bottom,e.right,e.top],f));a=0;for(b=this.Ka.length;a<b;++a)d=
this.Ka[a],d.group=this.fp,d.S=this.gp,d.Tn(this.Nj),d.fl(this.Sj),this.enabled&&this.G.bf(d)}};e.jt=function(a,d){var b=a.Db,c=a.ae,e=[];e.length=c;for(D=0;D<c;D++)e[D]=cp.D(b[2*D],b[2*D+1]);d&&e.reverse();b=e.slice(0);D=[];for(c=0;3<=b.length;){var e=[b[c],b[(c+1)%b.length],b[(c+2)%b.length]],f;if(!(f=ud(e)))a:{f=b;for(var h=e,k=void 0,k=void 0,n=0;n<f.length;++n)if(k=f[n],-1==h.indexOf(k)){var q=h[0],p=h[1],r=cp.D.sub(h[2],q),p=cp.D.sub(p,q),I=cp.D.sub(k,q),k=cp.D.Mj(r,r),q=cp.D.Mj(r,p),r=cp.D.Mj(r,
I),E=cp.D.Mj(p,p),p=cp.D.Mj(p,I),I=1/(k*E-q*q),E=(E*r-q*p)*I,k=(k*p-q*r)*I;if(k=0<=E&&0<=k&&1>E+k){f=!0;break a}}f=!1}f?c++:(b.splice((c+1)%b.length,1),D.push(e));c%=b.length}for(b=[];0<D.length;){c=D[0];D.shift();for(e=0;e<D.length;e++){f=c;k=D[e];h=void 0;q=0;p=n=void 0;for(h=0;3>h;h++)-1==f.indexOf(k[h])?(n=k[h],p=k[(h+1)%3]):q++;2!=q?f=!1:(h=f.indexOf(p),k=f.length,ud([f[(h-2+k)%k],f[(h-1+k)%k],n])||ud([n,f[h],f[(h+1)%k]])?f=!1:(f.splice(h,0,n),f=!0));f&&(D.splice(e,1),e=-1)}b.push(c)}for(var c=
[],D=0;D<b.length;++D){e=b[D].reverse();f=[];f.length=2*e.length;for(h=0;h<e.length;++h)f[2*h]=e[h].x,f[2*h+1]=e[h].y;c.push(f)}return c};e.fE=function(){var a=this.Ka;if(this.enabled)for(var d=0,b=a.length;d<b;d++)this.G.Gf(a[d]);a.length=0;this.tj(this.body);if(this.i.xd)this.ye=0,this.gE(),this.Cf=!0,this.body.Jf(Infinity);else{b=this.He;3!=b||this.i.qa&&!this.i.qa.wh()||(b=1);var d=Math.abs(this.i.width),c=Math.abs(this.i.height);switch(b){case 0:this.cc=1;break;case 1:this.cc=cp.xu(this.Yc,d,
c);a.push(new cp.Dw(this.body,d,c));break;case 2:this.cc=cp.yu(this.Yc,d/2);a.push(new cp.Fw(this.body,c/2,cp.D(0,0)));break;case 3:this.i.qa.Yg(this.i.width,this.i.height,0);b=this.jt(this.i.qa,0>this.i.width!=0>this.i.height);cp.Es(this.i.qa);for(d=this.ye=0;d<b.length;++d)c=new cp.Jo(this.body,b[d],this.offset),c.Nl=cp.Ro(b[d]),this.ye+=c.Nl,a.push(c);for(var c=0,e,d=0;d<a.length;++d)e=a[d].Nl/this.ye,c+=cp.Bq(e*this.Yc,b[d],this.offset);this.cc=c;break;case 4:c=0,0>this.tp&&(c=-this.tp),b=cp.D(-d/
2+c,0),d=cp.D(d/2-c,0),this.cc=cp.zu(this.Yc,b,d),a.push(new cp.ay(this.body,b,d,Math.abs(this.tp)))}0>=this.cc&&(this.cc=1);this.md||this.Cf?this.body.Jf(Infinity):this.body.Jf(this.cc);this.body.Oa()||this.body.sb();for(d=0;d<a.length;++d)c=a[d],c.group=this.fp,c.S=this.gp,c.Tn(this.Nj),c.fl(this.Sj),this.enabled&&this.G.bf(c)}};e.P=function(){this.md=1==this.N[0];this.He=this.N[1];this.fp=this.N[2];this.gp=parseInt(this.N[3],16);this.Yc=this.N[4];this.cc=1;this.Nj=this.N[5];this.Sj=this.N[6];this.enabled=
0==this.N[7];this.tp=this.N[8];this.Cf=1==this.N[9];this.aq=!0;this.ro=!1;this.offset=cp.D(0,0);this.Pm=this.Rm=this.Wt=this.Vt=this.nq=this.pq=this.oq=0;this.Tt=null;this.Ut=-1;this.ic=this.ud=null;this.rl=!1;this.ye=0;var a;this.md?(a=this.body=new cp.Vr(Infinity,Infinity),this.enabled&&this.behavior.Hf.push(a),a.Se=Infinity):(a=this.body=new cp.Vr(this.Yc,1),this.enabled&&this.G.Il(a));a.yo=!1;a.zd=this;this.i.vz=a;this.Ka=[]};e.jv=function(){this.bp(this.body)};e.Dg=function(){if(this.enabled)for(var a=
0;a<this.Ka.length;a++)this.G.Gf(this.Ka[a]);this.Ka.length=0;var d=this;this.body.km(function(a){d.G.aj(a)});this.body.Oa()?Za(this.behavior.Hf,this.body):this.G.Kn(this.body)};e.Wb=function(){return{}};e.oc=function(){};e.ok=function(a){a=a.zd;var d=a.i;d.xa();a.offset=d.xd?cp.D(0,0):cp.D((d.Nb-.5)*d.width,(d.Ob-.5)*d.height)};e.tj=function(a){var d=a.zd,b=d.i,c=!1;b.xa();if(d.Rm!==b.width||d.Pm!==b.height)c=!0,d.aq=!0,d.Rm=b.width,d.Pm=b.height;if(c||d.oq!==b.x||d.pq!==b.y||d.nq!==b.k||d.Vt!==
b.Nb||d.Wt!==b.Ob)b.xd?a.Ev(cp.D(b.x,b.y)):(d.offset=cp.D((b.Nb-.5)*b.width,(b.Ob-.5)*b.height),a.dj(b.k),a.Ev(cp.D.sub(cp.D(b.x,b.y),cp.D.rotate(d.offset,a.ib)))),a.Pc()&&(d.ro=!0,a.Mo()),d.oq=b.x,d.pq=b.y,d.nq=b.k,d.Vt=b.Nb,d.Wt=b.Ob};e.oo=function(a){var d=a.zd,b=d.i;a.yo&&(a.rD(),a.yo=!1);if(!a.Oa()){d.tj(a);var c=cp.D.add(a.za,cp.D.rotate(d.offset,a.ib));d.oq=b.x=c.x;d.pq=b.y=c.y;d.nq=b.k=a.Xa();b.T()}};e.bp=function(a){a=a.zd;if(a.enabled){if(a.aq||a.i.xd&&a.i.OC||a.Rm!==a.i.width||4!==a.He&&
a.Pm!==a.i.height||3===a.He&&(a.Tt!==a.i.Wa||a.Ut!==a.i.M))a.fE(),a.i.xd&&(a.i.OC=!1),a.Rm=a.i.width,a.Pm=a.i.height,a.Tt=a.i.Wa,a.Ut=a.i.M,a.aq=!1,a.ro=!1;if(a.ro){for(var d=0,b=a.Ka.length;d<b;d++)a.G.mD(a.Ka[d]);a.ro=!1}}};e.Ya=function(){var a=this.b.Pg;if(this.b.Ld>this.behavior.St&&0<a){this.G.sp(f,this);this.behavior.Hf.forEach(this.tj);this.G.sp(this.tj);this.behavior.Hf.forEach(this.bp);this.G.$f.forEach(this.bp);this.G.Uv?this.G.step(this.b.ph(this.i)):this.G.step(this.G.ct*a);for(var a=
this.G.Cc,d=0,b=a.length/2;d<b;d++)a[2*d].call(this.G,a[2*d+1]);a.length=0;this.G.sp(this.oo);this.behavior.Hf.forEach(this.oo);this.behavior.St=this.b.Ld}};e.nt=function(a){var d=null,b=0;"string"==typeof a?this.body.km(function(b){b.tag===a&&(d=b)}):this.body.km(function(c){a==b&&(d=c);b++});return d};h.prototype.Oe=function(){return this.body.Oe()};h.prototype.UB=function(){return!this.enabled};h.prototype.XB=function(){return this.md};h.prototype.tC=function(a,d,b,c,e,f){var h=this.b.rf().type;
a=cp.D(a,d);b=cp.D(b,c);var n=new cp.$x(null,0,0);this.behavior.G.Kg(a,b,k(f),e,function(a,b,c){var d=a.body.zd.i;if(d.type==h||h.O&&-1!=h.Ag.indexOf(d.type))if(!n.shape||b<n.eb)n.shape=a,n.eb=b,n.J=c});if(!n.shape)return!1;e=n.shape.body.zd;e.ud=n;n.KC=a;n.LC=b;e=e.i;f=h.X();f.ea=!0;f.Xi(e);h.jd();return!0};h.prototype.Qu=function(){return!0};h.prototype.Lq=function(){this.oo(this.body);return!0};h.prototype.Mq=function(){this.oo(this.body);return!0};r.j=new h;e.Ne=function(a,d,b,c){var e;switch(a){case 0:e=
cp.D(d,b);break;case 1:d=bb(d);e=cp.D(b*Math.cos(d),b*Math.sin(d));break;case 2:e=c.Ao(cp.D(d,b));break;case 3:if(!c.zd){e=cp.D(0,0);break}a=c.zd.i;a.xa();b=d;a.Me&&-1!==b?(d=a.Me(b,!0),b=a.Me(b,!1),e=c.Ao(cp.D(d,b))):e=cp.D(0,0)}return e};n.prototype.QD=function(a,d,b){this.body.PD(this.Ne(a,d,b))};n.prototype.fz=function(a,d,b,c,e,f){this.body.ez(this.Ne(a,d,b),this.Ne(c,e,f));this.body.yo=!0};n.prototype.gz=function(a,d,b,c,e,f){this.body.Uc(this.Ne(a,d,b),this.Ne(c,e,f));this.body.yo=!0};n.prototype.KD=
function(a){this.body.uo=a};n.prototype.ID=function(a){var d;if(0==a&&this.md){if(this.md=!1,this.enabled){this.body.Mo();a=0;for(d=this.Ka.length;a<d;a++)this.G.Gf(this.Ka[a]);Za(this.behavior.Hf,this.body);this.body.ej(this.Yc);this.Cf||this.body.Jf(this.cc);this.body.Se=0;this.G.Il(this.body);a=0;for(d=this.Ka.length;a<d;a++)this.G.bf(this.Ka[a])}}else if(1==a&&!this.md&&(this.md=!0,this.enabled)){a=0;for(d=this.Ka.length;a<d;a++)this.G.Gf(this.Ka[a]);this.G.Kn(this.body);this.body.ej(Infinity);
this.body.Jf(Infinity);this.body.Se=Infinity;this.behavior.Hf.push(this.body);this.body.Zb=0;this.body.$b=0;a=this.body.B=0;for(d=this.Ka.length;a<d;a++)this.G.bf(this.Ka[a])}};n.prototype.LD=function(a){this.i.xd||(0==a&&this.Cf?(this.Cf=!1,this.md||this.body.Jf(this.cc)):1!=a||this.Cf||(this.Cf=!0,this.body.B=0,this.body.Jf(Infinity)))};n.prototype.ej=function(a){this.Yc=a;if(this.i.xd)this.md||this.body.ej(this.Yc);else{a=this.Ka[0];switch(this.He){case 0:this.cc=1;break;case 1:this.cc=cp.Bq(this.Yc,
a.zj,cp.D(0,0));break;case 2:this.cc=cp.yu(this.Yc,a.wa);break;case 3:a=0;for(var d,b=0;b<this.Ka.length;++b)d=shapes[b].Nl/this.ye,a+=cp.Bq(d*this.Yc,polys[b],this.offset);this.cc=a;break;case 4:this.cc=cp.zu(this.Yc,a.C,a.L)}0>=this.cc&&(this.cc=1);this.md||(this.body.ej(this.Yc),this.Cf||this.body.Jf(this.cc))}};n.prototype.fl=function(a){this.Sj=a;for(var d=0;d<this.Ka.length;d++)this.Ka[d].fl(a)};n.prototype.Tn=function(a){this.Nj=a;for(var d=0;d<this.Ka.length;d++)this.Ka[d].Tn(a)};n.prototype.Mz=
function(a){if(!a&&this.enabled)for(this.enabled=!1,this.md?Za(this.behavior.Hf,this.body):this.G.Kn(this.body),a=0;a<this.Ka.length;a++)this.G.Gf(this.Ka[a]);else if(a&&!this.enabled)for(this.enabled=!0,this.md?this.behavior.Hf.push(this.body):this.G.Il(this.body),a=0;a<this.Ka.length;a++)this.G.bf(this.Ka[a])};n.prototype.HD=function(a,d,b){this.G.Am=this.Ne(a,d,b)};n.prototype.FD=function(a){this.G.ji=a};e.it=function(a,d){this.tj(a);var b;if(-1==d)b=this.G.Sv;else{b=this.b.ti(d);if(!b)return null;
b=b.vz;this.tj(b)}return b&&a!=b?b:null};n.prototype.Zy=function(a,d,b,c,e,f,h,k){if(c=this.it(this.body,c))a=this.Ne(a,d,b,this.body),e=this.Ne(e,f,h,c),e=this.G.No(new cp.Sx(this.body,c,a,e)),e.typeName="pin",e.tag=k};n.prototype.$y=function(a,d,b,c,e,f,h,k){if(c=this.it(this.body,c))a=this.Ne(a,d,b,this.body),e=this.Ne(e,f,h,c),e=this.G.No(new cp.Tx(this.body,c,a,e)),e.typeName="pivot",e.tag=k};n.prototype.Lz=function(a){(a=this.nt(a))&&this.G.aj(a)};n.prototype.JD=function(a,d){var b=this.nt(d);
b&&(b.zf=a)};n.prototype.LB=function(){this.ic&&this.ic.KB()};r.q=new n;q.prototype.velocityX=function(a){a.A(this.body.Zb)};q.prototype.velocityY=function(a){a.A(this.body.$b)};q.prototype.speed=function(a){var d=this.body.Zb,b=this.body.$b;a.A(Math.sqrt(d*d+b*b))};q.prototype.group=function(a){a.Ca(this.fp)};q.prototype.S=function(a){a.Ca(this.gp)};q.prototype.Yc=function(a){this.md?a.A(Infinity):a.A(this.body.Pi)};q.prototype.cc=function(a){this.md||this.Cf?a.A(Infinity):a.A(this.body.yi)};q.prototype.Nj=
function(a){a.A(this.Nj)};q.prototype.Sj=function(a){a.A(this.Sj)};q.prototype.Nl=function(a){if(this.i.xd||3===this.He){if(!this.ye)for(var d=0;d<this.Ka.length;++d)this.ye+=cp.Ro(this.Ka[d].zj);a.A(this.ye)}else if(0==this.Ka.length)a.A(0);else{var b=this.Ka[0];switch(this.He){case 0:d=0;break;case 1:d=cp.Ro(b.zj);break;case 3:d=this.ye;break;case 2:d=cp.iz(b.wa);break;case 4:d=cp.jz(b.C,b.L,b.wa)}a.A(d)}};q.prototype.Jy=function(a){this.G.Uv?a.A(this.b.ph(this.i)):a.A(this.G.ct)};q.prototype.ll=
function(a){a.A(this.G.ll)};q.prototype.Tp=function(a){a.A(this.G.Tp)};q.prototype.eD=function(a){this.ud?(this.ud.Bc||(this.ud.Bc=this.ud.JB(this.ud.KC,this.ud.LC)),a.A(this.ud.Bc)):a.A(0)};q.prototype.fD=function(a){this.ud&&this.ud.J?a.A(this.ud.J.x):a.A(0)};q.prototype.gD=function(a){this.ud&&this.ud.J?a.A(this.ud.J.y):a.A(0)};q.prototype.Iw=function(a){this.ic?a.A(this.ic.bE()):a.A(0)};q.prototype.Sw=function(a,d){if(this.ic&&0<=d&&d<this.ic.Vc.length){var b=this.ic.Vh;this.ic.Vh=this.rl;a.A(this.ic.eB(d).y);
this.ic.Vh=b}else a.A(0)};r.K=new q})();function vd(f){this.b=f;this.Xn=this.kl=this.Qh=this.Wn=0}
(function(){function f(){}var k=vd.prototype;k.la=function(f){this.behavior=f;this.b=f.b};k.la.prototype.P=function(){};k.fa=function(f,h){this.type=f;this.behavior=f.behavior;this.i=h;this.b=f.b};var h=k.fa.prototype;h.P=function(){this.enabled=0!==this.N[0]};h.Wb=function(){return{smg:this.behavior.Wn,ss:this.behavior.Qh,se:this.behavior.kl,smd:this.behavior.Xn}};h.oc=function(f){this.behavior.Wn=f.smg;this.behavior.Qh=f.ss;this.behavior.kl=f.se;this.behavior.Xn=f.smd};h.Ya=function(){};h.ul=function(){if(this.enabled){var f=
this.behavior.Fh.ge(),h=0,k=0,e,a,d,b=0;e=0;for(a=f.length;e<a;e++){a:{d=f[e];for(var c=void 0,g=void 0,m=void 0,c=0,g=d.U.length;c<g;++c)if(m=d.U[c],m.behavior instanceof vd){d=m;break a}d=null}d&&d.enabled&&(h+=f[e].x,k+=f[e].y,++b)}f=this.i.n.tb;a=this.b.zb.na;d=e=0;a>=this.behavior.Qh&&a<this.behavior.kl&&(e=this.behavior.Wn*Math.min(this.b.Pg,1),0===this.behavior.Xn&&(e*=1-(a-this.behavior.Qh)/(this.behavior.kl-this.behavior.Qh)),a=Math.random()*Math.PI*2,d=Math.random()*e,e=Math.cos(a)*d,d*=
Math.sin(a));f.kr(h/b+e);f.lr(k/b+d)}};f.prototype.Hy=function(f,h,k){this.behavior.Wn=f;this.behavior.Qh=this.b.zb.na;this.behavior.kl=this.behavior.Qh+h;this.behavior.Xn=k};f.prototype.Gl=function(f){this.enabled=0!==f};k.q=new f})();function ad(f){this.b=f}
(function(){function f(){}var k=ad.prototype;k.la=function(f){this.behavior=f;this.b=f.b};k.la.prototype.P=function(){};k.fa=function(f,h){this.type=f;this.behavior=f.behavior;this.i=h;this.b=f.b};var h=k.fa.prototype;h.P=function(){this.i.R.solidEnabled=0!==this.N[0]};h.Ya=function(){};k.j=new function(){};f.prototype.Gl=function(f){this.i.R.solidEnabled=!!f};k.q=new f})();
function $c(){return[cd,dd,bd,ed,fd,id,hd,K,gd,td,vd,ad,ld,sd,kd,rd,T,jd,J.prototype.j.bs,J.prototype.q.Uw,K.prototype.K.Ko,K.prototype.K.Lo,J.prototype.q.Dy,T.prototype.q.HD,T.prototype.K.Jy,T.prototype.q.KD,J.prototype.j.ix,K.prototype.q.wy,ed.prototype.j.jx,K.prototype.j.ox,fd.prototype.j.nx,K.prototype.j.bx,K.prototype.q.by,vd.prototype.q.Hy,T.prototype.q.gz,K.prototype.j.Tf,K.prototype.j.Fo,K.prototype.q.Wr,J.prototype.q.Sy,J.prototype.q.Yx,K.prototype.q.js,J.prototype.j.Py,J.prototype.q.ny,
K.prototype.q.oy,K.prototype.q.my,K.prototype.j.gx,K.prototype.j.qx,gd.prototype.q.xy,K.prototype.q.Ky,K.prototype.j.Nw,T.prototype.j.Qu,J.prototype.j.Lw,T.prototype.q.fz,ed.prototype.j.$r,K.prototype.q.ey,T.prototype.q.QD,T.prototype.K.velocityX,J.prototype.j.Xr,T.prototype.K.velocityY,ed.prototype.j.Go,J.prototype.j.Jw,J.prototype.j.Qw,T.prototype.q.fl,J.prototype.K.abs,J.prototype.K.$g,J.prototype.j.Xx,K.prototype.K.$w,J.prototype.K.lC,K.prototype.K.ax,T.prototype.j.tC,T.prototype.K.eD,T.prototype.K.fD,
T.prototype.K.gD,K.prototype.K.Qy,J.prototype.j.Ww,K.prototype.q.ty,J.prototype.K.$t,K.prototype.K.Opacity,J.prototype.K.hg,K.prototype.q.Cy,J.prototype.j.Xw,K.prototype.j.Ow,T.prototype.K.Yc,T.prototype.q.ID,T.prototype.K.speed,K.prototype.q.yw,K.prototype.q.Gy,K.prototype.q.Fy,T.prototype.j.Mq,T.prototype.K.Sw,T.prototype.q.LB,fd.prototype.j.Eo,bd.prototype.q.CallFunction,J.prototype.j.Rx,bd.prototype.j.El,bd.prototype.j.Pw,K.prototype.q.hy,cd.prototype.q.Ux,J.prototype.q.ry,T.prototype.q.Mz,J.prototype.j.Px,
K.prototype.j.mx,K.prototype.q.yy,K.prototype.q.vy,J.prototype.K.Nz,T.prototype.q.Zy,T.prototype.q.FD,J.prototype.j.Vw,gd.prototype.q.Ay,J.prototype.K.random,fd.prototype.q.gy,K.prototype.j.Ax,K.prototype.K.Tw,fd.prototype.K.Ko,fd.prototype.K.Lo,T.prototype.q.$y,T.prototype.q.JD,T.prototype.j.Oe,K.prototype.q.Zx,K.prototype.q.ls,K.prototype.q.jy,K.prototype.K.Ty,fd.prototype.q.fy,K.prototype.q.Ey,T.prototype.q.Lz,T.prototype.j.UB,gd.prototype.q.ky,gd.prototype.q.js,gd.prototype.q.uy,gd.prototype.q.By,
cd.prototype.q.Play,K.prototype.j.Mw,gd.prototype.j.rx,cd.prototype.q.Wx,J.prototype.K.Gs,T.prototype.j.Lq,K.prototype.q.iy,J.prototype.K.hC,J.prototype.K.qE,J.prototype.K.iC,J.prototype.K.gC,J.prototype.K.pE,K.prototype.K.Zw,K.prototype.K.zw,K.prototype.j.kx,J.prototype.K.k,T.prototype.K.Iw,K.prototype.q.My,K.prototype.q.Ny,K.prototype.j.Yr,gd.prototype.q.zy,gd.prototype.q.Wr,gd.prototype.j.Tf,gd.prototype.j.Fo,cd.prototype.q.Ly,J.prototype.q.Yw,K.prototype.j.Rw,jd.prototype.q.Gl,T.prototype.q.LD,
K.prototype.j.Qx,T.prototype.j.XB,cd.prototype.q.Vx,cd.prototype.j.tx,cd.prototype.q.Ry,rd.prototype.q.ks,K.prototype.q.cy,K.prototype.j.Kw,cd.prototype.q.qy]};
